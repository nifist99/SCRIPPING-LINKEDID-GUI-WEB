/*! For license information please see chunk.461.3c6d9b99c7427985c8db.js.LICENSE.txt */
(globalThis.webpackChunk_ember_auto_import_=globalThis.webpackChunk_ember_auto_import_||[]).push([[461],{1495:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{CI:()=>i,DEBUG:()=>r})
const r=!1,i=!1},9186:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{Abi:()=>ie,AbiV2:()=>ae})
var r={}
function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function s(e){return void 0===e}t.r(r),t.d(r,{ABI_FUNNEL_TRACKING_EVENTS:()=>b,EMAIL_DOMAIN_RESOLVE:()=>m,EMAIL_VALIDATION_ERRORS:()=>v,EVENT_NAME:()=>u,IMPORT_CONTACTS:()=>y,IMPORT_ERRORS:()=>_,INPUT_EMAIL:()=>f,NETWORK_ERROR:()=>c,OAUTH:()=>g,POLL_IMPORT_STATUS:()=>h,STATES:()=>p,STATE_MACHINE_ERRORS:()=>T,STATE_TRANSITION_EVENT_NAME:()=>l,TOO_MANY_REQUESTS:()=>d}),i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number")
return this._maxListeners=e,this},i.prototype.emit=function(e){let n,t,r,i,c,d
if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(n=arguments[1],n instanceof Error)throw n
throw TypeError('Uncaught, unspecified "error" event.')}if(t=this._events[e],s(t))return!1
if(a(t))switch(arguments.length){case 1:t.call(this)
break
case 2:t.call(this,arguments[1])
break
case 3:t.call(this,arguments[1],arguments[2])
break
default:for(r=arguments.length,i=new Array(r-1),c=1;c<r;c++)i[c-1]=arguments[c]
t.apply(this,i)}else if(o(t)){for(r=arguments.length,i=new Array(r-1),c=1;c<r;c++)i[c-1]=arguments[c]
for(d=t.slice(),r=d.length,c=0;c<r;c++)d[c].apply(this,i)}return!0},i.prototype.addListener=function(e,n){var t
if(!a(n))throw TypeError("listener must be a function")
return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,a(n.listener)?n.listener:n),this._events[e]?o(this._events[e])?this._events[e].push(n):this._events[e]=[this._events[e],n]:this._events[e]=n,o(this._events[e])&&!this._events[e].warned&&(t=s(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&t>0&&this._events[e].length>t&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(e,n){if(!a(n))throw TypeError("listener must be a function")
let t=!1
function r(){this.removeListener(e,r),t||(t=!0,n.apply(this,arguments))}return r.listener=n,this.on(e,r),this},i.prototype.removeListener=function(e,n){let t,r,i,s
if(!a(n))throw TypeError("listener must be a function")
if(!this._events||!this._events[e])return this
if(t=this._events[e],i=t.length,r=-1,t===n||a(t.listener)&&t.listener===n)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,n)
else if(o(t)){for(s=i;s-- >0;)if(t[s]===n||t[s].listener&&t[s].listener===n){r=s
break}if(r<0)return this
1===t.length?(t.length=0,delete this._events[e]):t.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,n)}return this},i.prototype.removeAllListeners=function(e){let n,t
if(!this._events)return this
if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this
if(0===arguments.length){for(n in this._events)"removeListener"!==n&&this.removeAllListeners(n)
return this.removeAllListeners("removeListener"),this._events={},this}if(t=this._events[e],a(t))this.removeListener(e,t)
else for(;t.length;)this.removeListener(e,t[t.length-1])
return delete this._events[e],this},i.prototype.listeners=function(e){let n
return n=this._events&&this._events[e]?a(this._events[e])?[this._events[e]]:this._events[e].slice():[],n},i.listenerCount=function(e,n){let t
return t=e._events&&e._events[n]?a(e._events[n])?1:e._events[n].length:0,t}
const c="network-error",d="Too Many Requests",u="custom-state-event",l="state-transition-event",p={INPUT_EMAIL:"input-email",EMAIL_DOMAIN_RESOLVE:"email-domain-resolve",IMPORT_CONTACTS:"import-contacts",POLL_IMPORT_STATUS:"poll-import-status",OAUTH:"oauth"},f={EVENTS:{EMAIL_INPUT_CHANGE:"emailInputChange",FETCH_FORM_SUBMIT:"fetchFormSubmit"},EVENT_TYPE:{INVALID_EMAIL:"invalid-email"}},m={EVENTS:{EMAIL_INPUT_CHANGE:"emailInputChange"},EVENT_TYPE:{PROVIDER_CHANGED:"provider-changed",RESOLUTION_BEGUN:"resolution-begun",RESOLUTION_COMPLETE:"resolution-complete",PASSWORD_REQUIRED:"password-required",UNSUPPORTED_DOMAIN:"unsupported-domain",NETWORK_ERROR:"network-error"}},y={EVENTS:{STATE_RESET:"stateReset"},EVENT_TYPE:{OPEN_POPUP:"open-popup"}},h={EVENTS:{GET_IMPORT_STATUS:"getImportStatus",STATE_RESET:"stateReset"},EVENT_TYPE:{IMPORT_STARTED:"import-started",IMPORT_SUCCESS:"import-success",IMPORT_IN_PROGRESS:"import-in-progress",IMPORT_ERROR_OTHER:"import-error-other",IMPORT_ERROR_BAD_LOGIN:"import-error-bad-login",ZERO_CONTACTS_TO_IMPORT:"zero-contacts-to-import",INVALID_CREDENTIALS:"invalid-credentials",EXCEEDED_MAX_RETRIES:"exceeded-max-retries"}},g={EVENTS:{STATE_RESET:"stateReset"},EVENT_TYPE:{CALLBACK:"oauth-callback",OAUTH_SUCCESS:"oauth-success",UPDATE_POPUP:"update-popup",LOGIN_LIMIT_EXCEEDED:"login-limit-exceeded"}},v={INVALID_EMAIL:"invalid-email",UNSUPPORTED_DOMAIN:"unsupported-domain",OAUTH_WITHOUT_PROVIDER:"oauth-without-provider",INVALID_DOMAIN_RESOLUTION_CALLBACK:"invalid-domain-resolution-callback",NETWORK:"network",OTHER:"other"},_={EMPTY_CONFIG:"empty-config",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"invalid-password",INVALID_ABOOK_TRANSACTION_ID:"invalid-abook-transaction-id",INVALID_TICKET_ID_CALLBACK:"invalid-ticket-id-callback",INVALID_POLL_STATUS_CALLBACK:"invalid-poll-status-callback",INVALID_TRACKING_CALLBACK:"invalid-tracking-callback",INVALID_CREDENTIALS:"invalid-credentials",INVALID_JSECURE:"invalid-jsecure",ZERO_CONTACTS_TO_IMPORT:"zero-contacts-to-import",EXCEEDED_MAX_REQUEST_RETRIES:"exceeded-max-request-retries",EXCEEDED_MAX_STATUS_CHECK_RETRIES:"exceeded-max-status-check-retries",IMPORT_ERROR_OTHER:"import-error-other",NETWORK:"network",OTHER:"other",INVALID_IMPORT_TICKET_ID:"invalid-import-ticket-id",OAUTH_VALIDATION_TIMED_OUT:"oauth-validation-timed-out",OAUTH_POPUP_NOT_OPEN:"oauth-popup-not-open"},b={SUBMIT:"AbookImportSubmitEvent",TASK_STATUS:"AbookImportTaskStatusEvent",OAUTH_REDIRECT:"AbookImportOAuthRedirectEvent",OAUTH_CALLBACK:"AbookImportOAuthCallbackEvent"},T={ALREADY_STARTED:"State machine has already begun"}
class E extends i{constructor(e,n,t){if(super(),this.promise=t||Promise,!Array.isArray(e))throw new Error("The state machine constructor only accepts an array of states as the first argument")
if(!n)throw new Error("Define a start state for the state machine")
if(this.states={},e.forEach((e=>{this.addState(e)})),this.startState=this.states[n],!this.startState)throw new Error("Start state is not defined")
this.currentState=this.startState}start(){if(this.currentState.getName()!==this.startState.getName())throw new Error(T.ALREADY_STARTED)
this.step()}addState(e){this.states[e.getName()]=e,e.on(u,(n=>{const t=n.type||u
this.emit(t,{currentState:e.getName(),eventData:n})})),e.on(l,(e=>{this._transitionTo(e)}))}_transitionTo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if(!(e.state in this.states))throw new Error(`Cannot transition from ${this.currentState} to ${e.state}`)
this.currentState=this.states[e.state],delete e.state,this.step(e.eventName,e)}step(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"entry",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const t=this.currentState.go(e,n.data)
if(t){if("function"==typeof t.then)return new this.promise((e=>{e(t)})).then((e=>this._transitionTo(e)))
this._transitionTo(t)}}getCurrentState(){return this.currentState.getName()}}class A extends i{constructor(e,n){super(),this.name=e,this.validNextStates=n,this.defaultStateEvents=["entry"],this.events=[]}onEntry(){}getName(){return this.name}getNextStates(){return this.validNextStates}getEvents(){return this.defaultStateEvents+this.events}go(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"entry",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(this.getEvents().indexOf(e)>-1)return this[`on${e.charAt(0).toUpperCase()}${e.slice(1)}`](n)
throw new Error(`I can not serve that event. Expecting [${this.getEvents()}]\n                but got ${e} from ${this.name}`)}}class S extends A{constructor(){super(p.INPUT_EMAIL,[p.EMAIL_DOMAIN_RESOLVE,p.IMPORT_CONTACTS]),this.events=[f.EVENTS.EMAIL_INPUT_CHANGE,f.EVENTS.FETCH_FORM_SUBMIT],this.resolvedEmail=null,this.isNonOAuth=!1,this.provider=null}onEntry(e){Object.prototype.hasOwnProperty.call(e,"emailAddress")&&(this.resolvedEmail=e.emailAddress),Object.prototype.hasOwnProperty.call(e,"isNonOAuth")&&(this.isNonOAuth=e.isNonOAuth),Object.prototype.hasOwnProperty.call(e,"provider")&&(this.provider=e.provider)}onEmailInputChange(e){let n="object"==typeof e?e.emailAddress:e
if("object"==typeof e&&!e.isEmailDomainResolve)return this.emit(u,{type:m.EVENT_TYPE.RESOLUTION_COMPLETE}),this.isNonOAuth=Object.prototype.hasOwnProperty.call(e,"isNonOauth")?e.isNonOAuth:this.isNonOAuth,{state:p.INPUT_EMAIL,data:{emailAddress:n,isEmailDomainResolve:e.isEmailDomainResolve,provider:e.provider,isNonOAuth:e.isNonOAuth}}
const t=/^([a-zA-Z0-9_\-=.'+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9-]+\.)+))([a-zA-Z]{2,10}|[0-9]{1,3})(\]?)$/
if(n.length){if(n=n.trim(),t.test(n))return{state:p.EMAIL_DOMAIN_RESOLVE,data:{emailAddress:n,isEmailDomainResolve:e.isEmailDomainResolve,provider:e.provider,isNonOAuth:e.isNonOAuth}}
this.emit(u,{type:f.EVENT_TYPE.INVALID_EMAIL})}}onFetchFormSubmit(e){const n={},{abookImportTransactionId:t,password:r}=e
if(this.isNonOAuth&&r.length>0?n.password=r:this.isNonOAuth&&this.emit(u,{type:m.EVENT_TYPE.PASSWORD_REQUIRED}),t&&(n.abookImportTransactionId=t),this.resolvedEmail)return n.emailAddress=this.resolvedEmail,n.isNonOAuth=this.isNonOAuth,n.provider=this.provider,{state:p.IMPORT_CONTACTS,data:n}
this.emit(u,{type:f.EVENT_TYPE.INVALID_EMAIL})}}const C=Object.freeze({"com.linkedin.voyager.dash.deco.contacts.EmailProvider":"com.linkedin.voyager.dash.deco.contacts.EmailProvider-1","com.linkedin.voyager.dash.deco.contacts.EmailImportTaskStatus":"com.linkedin.voyager.dash.deco.contacts.EmailImportTaskStatus-1"}),k="X-RestLi-Method",I="X-RestLi-Protocol-Version",R="Csrf-Token",x="Content-Type",w="x-restli-id",O="application/json",M="2.0.0",N={GET:"GET",CREATE:"POST",ACTION:"POST"}
function P(){return"undefined"!=typeof window&&window&&"node"!==window.appEnvironment}function D(){const e=P()&&document.cookie.match(/JSESSIONID=?"?([^";]+)?"?/)
return e&&e[1]||""}function U(e,n,t,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{}
const a=N[n],o=JSON.stringify(t)||""
return new r(((t,r)=>{const s=new XMLHttpRequest
s.open(a,e),s.setRequestHeader(x,O),s.setRequestHeader(R,D()),s.setRequestHeader(I,M),n&&a!==n&&s.setRequestHeader(k,n),Object.keys(i).forEach((e=>{s.setRequestHeader(e,i[e])})),s.onload=function(){let e=this
if(!e){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a]
e=i[0].target}4===e.readyState&&(200===e.status?t(JSON.parse(e.response||e.responseText)):201===e.status?t(e.getResponseHeader(w)):r(new Error(e.statusText)))},s.onerror=function(e){r(new Error(e))},s.send(o)}))}function L(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0
const r=C[t]
if(!e)throw new Error("uri must be passed.")
if(!r)throw new Error("Invalid recipeId! Recipe not defined in dash-recipes.")
const i=Object.keys(n).map((e=>`${e}=${n[e]}`)).join("&")
return`${e}?decorationId=${r}&${i}`}class F extends A{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
super(p.EMAIL_DOMAIN_RESOLVE,[p.INPUT_EMAIL]),this.promise=e||Promise,this.events=[m.EVENTS.EMAIL_INPUT_CHANGE]
const{dashEnabled:t,pageKey:r}=n
if(t&&!r)throw new Error("PageKey is required for dash email domain resolver")
this.dashEnabled=t,this.pageKey=r}_buildDomainUrl(e){return this.dashEnabled?L("/voyager/api/voyagerContactsDashEmailProvider",{q:"findEmailProviders",emailAddress:e},"com.linkedin.voyager.dash.deco.contacts.EmailProvider"):`/voyager/api/voyagerGrowthEmailDomainResolutions/${e}`}onEntry(e){const n=this._buildDomainUrl(e.emailAddress)
this.emit(u,{type:m.EVENT_TYPE.RESOLUTION_BEGUN})
const t={}
return this.dashEnabled&&(t["X-Li-Page-Instance"]=this.pageKey),U(n,"GET",{},this.promise,t).then((n=>{let t=n
return this.dashEnabled&&(t=n&&n.elements?n.elements[0]:{}),this._handleResponse(e,t)})).catch((()=>{this.emit(u,{type:c})}))}_handleResponse(e,n){return this.emit(u,{type:m.EVENT_TYPE.RESOLUTION_COMPLETE}),"UNSUPPORTED"===n.emailProviderType?(this.emit(u,{type:m.EVENT_TYPE.UNSUPPORTED_DOMAIN}),{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress,provider:n.emailProviderType,isNonOAuth:n.passwordInputRequired}}):n.passwordInputRequired?(this.emit(u,{type:m.EVENT_TYPE.PASSWORD_REQUIRED}),{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress,provider:n.emailProviderType,isNonOAuth:n.passwordInputRequired}}):{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress,provider:n.emailProviderType,isNonOAuth:n.passwordInputRequired}}}onEmailInputChange(e){const n=f.EVENTS.EMAIL_INPUT_CHANGE
return this.emit(u,{type:m.EVENT_TYPE.PROVIDER_CHANGED}),{state:p.INPUT_EMAIL,eventName:n,data:{emailAddress:e}}}}class j extends A{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
super(p.IMPORT_CONTACTS,[p.POLL_IMPORT_STATUS]),this.promise=e||Promise,this.events=[g.EVENTS.STATE_RESET]
const{dashEnabled:t,pageKey:r}=n
if(t&&!r)throw new Error("PageKey is required for import contacts")
this.dashEnabled=t,this.pageKey=r,this.importUrl=this.dashEnabled?"/voyager/api/voyagerContactsDashEmailImportTask":"/voyager/api/voyagerGrowthEmailImportTask"}get customHeaders(){return this.dashEnabled?{"X-Li-Page-Instance":this.pageKey}:{}}onStateReset(e){return this.importUrl=this.importUrl,{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}}}onEntry(e){e.isNonOAuth||this.emit(u,{type:y.EVENT_TYPE.OPEN_POPUP})
const n=this.dashEnabled?{email:e.emailAddress,password:e.password,transactionId:e.abookImportTransactionId}:{emailAddress:e.emailAddress,password:e.password,abookImportTransactionId:e.abookImportTransactionId}
return U(this.importUrl,"CREATE",n,this.promise,this.customHeaders).then((n=>({state:p.POLL_IMPORT_STATUS,data:{ticketId:n,emailAddress:e.emailAddress,provider:e.provider,isNonOAuth:e.isNonOAuth}}))).catch((n=>(n.message===d?this.emit(u,{type:h.EVENT_TYPE.EXCEEDED_MAX_RETRIES}):this.emit(u,{type:c}),{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})))}}class B extends A{constructor(){super(p.OAUTH,[p.IMPORT_CONTACTS,p.INPUT_EMAIL]),this.oAuthUrl="/genie/startauth?sec=true&cb=onAuthenticationComplete&as=",this.events=[g.EVENTS.STATE_RESET]}_adjustDomain(){let e=document.domain,n=e
const t=/(lmodules)|(linkedin)/i,r=/\./g
if(r.test(e))for(let i=0,a=e.match(r).length;i<a&&(e=e.substring(e.indexOf(".")+1),t.test(e));i+=1)n=e
document.domain!==n&&(document.domain=n)}_updatePopup(e){this._adjustDomain(),this.emit(u,{type:g.EVENT_TYPE.UPDATE_POPUP,provider:this.provider,url:`https://www.${document.domain}${e}`})}onEntry(e){this.isNonOAuth=e.isNonOAuth,this.provider=e.provider,window.onAuthenticationComplete=this.onAuthenticationComplete.bind(this),e.isNonOAuth||(e.authSpecGaapScriptV2Urn?this._updatePopup(`${this.oAuthUrl}${e.authSpecGaapScriptV2Urn}`):this._updatePopup(`${this.oAuthUrl}${e.authSpec}`))}onStateReset(e){return{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}}}onAuthenticationComplete(e,n){if(this.emit(u,{type:g.EVENT_TYPE.CALLBACK,error:n}),n)return this.emit(u,{type:c}),{state:p.INPUT_EMAIL}
this.emit(u,{type:g.EVENT_TYPE.OAUTH_SUCCESS}),this.emit(l,{state:p.IMPORT_CONTACTS,data:{emailAddress:e,isNonOAuth:this.isNonOAuth,provider:this.provider}})}}class q extends A{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
super(p.POLL_IMPORT_STATUS,[p.INPUT_EMAIL,p.OAUTH]),this.promise=e.promise||Promise
const{dashEnabled:n,pageKey:t}=e
if(n&&!t)throw new Error("PageKey is required for poll import status")
this.dashEnabled=n,this.pageKey=t,this.events=[h.EVENTS.GET_IMPORT_STATUS,h.EVENTS.STATE_RESET],this.currentStatus=!1,this.pollingCount=0,this.noOfRetries=e.noOfRetries||30,this.pollingInterval=e.pollingInterval||0===e.pollingInterval?e.pollingInterval:500}onEntry(e){return new this.promise((n=>{const t=this
this._pollStatus(e).then((function r(i){i?n(i):setTimeout((()=>{t._pollStatus(e).then(r)}),t.pollingInterval)}))}))}_buildPollImportStatusUrl(e){return this.dashEnabled?L(`/voyager/api/voyagerContactsDashEmailImportTaskStatus/${e}`,{},"com.linkedin.voyager.dash.deco.contacts.EmailImportTaskStatus"):"/voyager/api/voyagerGrowthEmailImportTask?action=getImportStatus"}get customHeaders(){return this.dashEnabled?{"X-Li-Page-Instance":this.pageKey}:{}}_pollStatus(e){if(this.pollingCount<this.noOfRetries){let n="GET"
const t={}
return this.dashEnabled||(t.importTaskHandle={handle:e.ticketId},n="ACTION"),this.pollingCount=this.pollingCount+1,U(this._buildPollImportStatusUrl(e.ticketId),n,t,this.promise,this.customHeaders).then((n=>{const t=this.dashEnabled?n.state:n.value.status,{authSpec:r,authSpecGaapScriptV2Urn:i}=this.dashEnabled?n:n.value
switch(t){case"IN_PROGRESS":return new this.promise((e=>{1===this.pollingCount?this.emit(u,{type:h.EVENT_TYPE.IMPORT_STARTED}):this.emit(u,{type:h.EVENT_TYPE.IMPORT_IN_PROGRESS}),e()}))
case"SUCCESS":return new this.promise((n=>{this.emit(u,{type:h.EVENT_TYPE.IMPORT_SUCCESS,ticketId:e.ticketId}),n({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress,ticketId:e.ticketId,success:!0}})}))
case"ERROR_BAD_LOGIN":return new this.promise((n=>{this.emit(u,{type:h.EVENT_TYPE.IMPORT_ERROR_BAD_LOGIN}),e.isNonOAuth?(this.emit(u,{type:h.EVENT_TYPE.INVALID_CREDENTIALS}),n({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})):n(r?{state:p.OAUTH,data:{emailAddress:e.emailAddress,isNonOAuth:e.isNonOAuth,provider:e.provider,authSpec:r}}:{state:p.OAUTH,data:{emailAddress:e.emailAddress,isNonOAuth:e.isNonOAuth,provider:e.provider,authSpecGaapScriptV2Urn:i}})}))
case"ERROR_ZERO_CONTACTS":return new this.promise((n=>{this.emit(u,{type:h.EVENT_TYPE.ZERO_CONTACTS_TO_IMPORT}),n({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})}))
case"ERROR_OTHERS":case"ERROR_OTHER":return new this.promise((n=>{this.emit(u,{type:h.EVENT_TYPE.IMPORT_ERROR_OTHER}),n({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})}))
default:return new this.promise((n=>{this.emit(u,{type:c}),n({state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})}))}})).catch((()=>(this.emit(u,{type:c}),{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}})))}this.emit(u,{type:h.EVENT_TYPE.EXCEEDED_MAX_RETRIES})}onGetImportStatus(){return this.currentStatus}onStateReset(e){return this.currentStatus=this.currentStatus,{state:p.INPUT_EMAIL,data:{emailAddress:e.emailAddress}}}}function V(e){return new Promise(((n,t)=>{if(e.resolveDomainCallback&&"function"==typeof e.resolveDomainCallback||t(v.INVALID_DOMAIN_RESOLUTION_CALLBACK),e.emailAddress&&"string"==typeof e.emailAddress){const r=e.emailAddress.trim();/^([a-zA-Z0-9_\-=.'+]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([a-zA-Z0-9-]+\.)+))([a-zA-Z]{2,10}|[0-9]{1,3})(\]?)$/.test(r)?e.resolveDomainCallback.call(this,{emailAddress:r}).then((e=>{const i={isOauth:e.isOauth,emailAddress:r}
e.isOauth&&(e.providerName?"UNSUPPORTED"===e.providerName?t(v.UNSUPPORTED_DOMAIN):i.providerName=e.providerName:t(v.OAUTH_WITHOUT_PROVIDER)),n(i)})).catch((()=>{t(v.OTHER)})):t(v.INVALID_EMAIL)}else t(v.INVALID_EMAIL)}))}function $(e){let n,t
return new Promise(((r,i)=>{e||i(_.EMPTY_CONFIG),e.pollStatusCallback&&"function"==typeof e.pollStatusCallback||i(_.INVALID_POLL_STATUS_CALLBACK),e.fireTrackingEventCallback&&"function"==typeof e.fireTrackingEventCallback||i(_.INVALID_TRACKING_CALLBACK),e.abookImportTransactionId&&"string"==typeof e.abookImportTransactionId||i(_.INVALID_ABOOK_TRANSACTION_ID),e.importTicketId&&"string"==typeof e.importTicketId||i(_.INVALID_IMPORT_TICKET_ID),t=e.retryCount||0
try{e.pollStatusCallback.call(this,{importTicketId:e.importTicketId}).then((a=>{const o=a.status||"ERROR_OTHER"
switch(e.fireTrackingEventCallback&&e.fireTrackingEventCallback(b.TASK_STATUS,{status:o,abookImportTransactionId:e.abookImportTransactionId}),a.status){case"SUCCESS":r({importTicketId:e.importTicketId,abookImportTransactionId:e.abookImportTransactionId})
break
case"IN_PROGRESS":n=setTimeout((()=>{if(clearTimeout(n),t<30)return t+=1,$.call(this,{importTicketId:e.importTicketId,pollStatusCallback:e.pollStatusCallback,fireTrackingEventCallback:e.fireTrackingEventCallback,abookImportTransactionId:e.abookImportTransactionId,isOauthImport:e.isOauthImport||!1,retryCount:t}).then((e=>r(e))).catch((e=>i(e)))
i(_.EXCEEDED_MAX_STATUS_CHECK_RETRIES)}),500)
break
case"ERROR_BAD_LOGIN":e.isOauthImport?r(a):i(_.INVALID_CREDENTIALS)
break
case"ERROR_ZERO_CONTACTS":i(_.ZERO_CONTACTS_TO_IMPORT)
break
default:i(_.IMPORT_ERROR_OTHER)}})).catch((()=>{e.fireTrackingEventCallback(b.TASK_STATUS,{status:"NETWORK_ERROR",abookImportTransactionId:e.abookImportTransactionId}),i(_.IMPORT_ERROR_OTHER)}))}catch(n){e.fireTrackingEventCallback(b.TASK_STATUS,{status:"NETWORK_ERROR",abookImportTransactionId:e.abookImportTransactionId}),i(_.IMPORT_ERROR_OTHER)}}))}function K(e){return new Promise(((n,t)=>{e||t(_.EMPTY_CONFIG),e.emailAddress&&"string"==typeof e.emailAddress||t(_.INVALID_EMAIL),e.password&&"string"==typeof e.password||t(_.INVALID_PASSWORD),e.abookImportTransactionId&&"string"==typeof e.abookImportTransactionId||t(_.INVALID_ABOOK_TRANSACTION_ID),e.getImportTicketIdCallback&&"function"==typeof e.getImportTicketIdCallback||t(_.INVALID_TICKET_ID_CALLBACK),e.pollStatusCallback&&"function"==typeof e.pollStatusCallback||t(_.INVALID_POLL_STATUS_CALLBACK),e.fireTrackingEventCallback&&"function"==typeof e.fireTrackingEventCallback||t(_.INVALID_TRACKING_CALLBACK),e.fireTrackingEventCallback(b.SUBMIT,{abookImportTransactionId:e.abookImportTransactionId}),e.getImportTicketIdCallback.call(this,{emailAddress:e.emailAddress,password:e.password,abookImportTransactionId:e.abookImportTransactionId}).then((r=>{if(r.importTicketId)return $({importTicketId:r.importTicketId,pollStatusCallback:e.pollStatusCallback,fireTrackingEventCallback:e.fireTrackingEventCallback,abookImportTransactionId:e.abookImportTransactionId}).then((e=>n(e))).catch((e=>t(e)))
t(_.INVALID_IMPORT_TICKET_ID)})).catch((e=>{Array.isArray(e.errors)&&e.errors.some((e=>429===e.status))?t(_.EXCEEDED_MAX_REQUEST_RETRIES):t(e||_.OTHER)}))}))}const H={hotmail:{width:905,height:580},aol:{width:520,height:315},"live.com":{width:905,height:580},"msn.com":{width:905,height:580},default:{width:790,height:650},minimum:{width:150,height:100}},G=P()
let W,Y,z,X,Q
function J(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.default,t=arguments.length>2?arguments[2]:void 0
if(G||"function"!=typeof Y){if(!W)return}else Y({url:e,size:n})
const{oAuthWindow:r}=W,{width:i,height:a}=n
r&&r.resizeTo?(r.location=t.sanitizeUrl(e),r.resizeTo(i,a),X.fireTrackingEventCallback(b.OAUTH_REDIRECT,{abookImportTransactionId:X.abookImportTransactionId})):W=null}function Z(){if(!W)return
const{oAuthWindow:e}=W
e&&(e.focus(),setTimeout((()=>{e&&e.close()}),5)),W=null}function ee(e){return new Promise(((n,t)=>{e.getImportTicketIdCallback.call(this,{emailAddress:e.emailAddress,abookImportTransactionId:e.abookImportTransactionId}).then((n=>{if(n.importTicketId)return $({importTicketId:n.importTicketId,pollStatusCallback:e.pollStatusCallback,fireTrackingEventCallback:e.fireTrackingEventCallback,abookImportTransactionId:e.abookImportTransactionId,isOauthImport:e.isOauthImport})
t(_.IMPORT_ERROR_OTHER)})).then((e=>{n(e)})).catch((e=>{Array.isArray(e.errors)&&e.errors.some((e=>429===e.status))?t(_.EXCEEDED_MAX_REQUEST_RETRIES):t(e)}))}))}function ne(){if(!G)return void(W={})
const{width:e,height:n}=H.minimum,t=window.open("","oauth-popup",`width=${e},height=${n},toolbar=0,location=0,status=0,scrollbars=no`)
W={oAuthWindow:t},Q=!1,t&&(t.focus(),function(){let e=0
return new Promise((function n(t,r){W&&W.oAuthWindow&&!W.oAuthWindow.closed?e<120?(e+=1,setTimeout(n,1e3,t,r)):(Z(),r()):(W=null,Q?t():r())}))}().catch((()=>{"function"==typeof z&&z(_.OAUTH_VALIDATION_TIMED_OUT)})))}function te(e,n){let t="linkedin.com"
G&&(function(){let e=document.domain,n=e
const t=/(lmodules)|(linkedin)/i,r=/\./g
if(r.test(e))for(let i=0,a=e.match(r).length;i<a&&(e=e.substring(e.indexOf(".")+1),t.test(e));i+=1)n=e
document.domain!==n&&(document.domain=n)}(),t=document.domain)
const r=`https://www.${t}/genie/startauth?sec=true&cb=onAuthenticationComplete&as=${e}`
return"YAHOO_JAPAN"===n?`https://fbi.address.yahoo.co.jp/explain?done=${encodeURIComponent(r)}`:r}function re(e){return new Promise(((n,t)=>{e||t(_.EMPTY_CONFIG),e.emailAddress&&e.emailAddress.length||t(_.INVALID_EMAIL),e.abookImportTransactionId&&e.abookImportTransactionId.length||t(_.INVALID_ABOOK_TRANSACTION_ID),e.provider&&e.provider.length||t(_.INVALID_EMAIL),e.getImportTicketIdCallback&&"function"==typeof e.getImportTicketIdCallback||t(_.INVALID_TICKET_ID_CALLBACK),e.pollStatusCallback&&"function"==typeof e.pollStatusCallback||t(_.INVALID_POLL_STATUS_CALLBACK),e.fireTrackingEventCallback&&"function"==typeof e.fireTrackingEventCallback||t(_.INVALID_TRACKING_CALLBACK),e.jSecure&&"object"==typeof e.jSecure||t(_.INVALID_JSECURE),e.isOauthImport=!0,W||ne(),W||t(_.OAUTH_POPUP_NOT_OPEN),Y=n,z=t,e.fireTrackingEventCallback(b.SUBMIT,{abookImportTransactionId:e.abookImportTransactionId}),ee(e).then((r=>{const{importTicketId:i,authSpec:a,authSpecGaapScriptV2Urn:o}=r
if(i)Z(),n(r)
else if(a){const n=te(a,e.provider),t=H[e.provider]
X=e,J(n,t,e.jSecure)}else if(o){const n=te(o,e.provider),t=H[e.provider]
X=e,J(n,t,e.jSecure)}else t(_.OTHER)})).catch((e=>{Z(),t(e)}))}))}G&&(window.onAuthenticationComplete=function(e,n){e?(X.emailAddress=e,ee(X).then((e=>{const{importTicketId:n}=e
n&&"function"==typeof Y?Y(e):"function"==typeof z&&z(_.IMPORT_ERROR_OTHER)})).catch((()=>{"function"==typeof z&&z(_.IMPORT_ERROR_OTHER)})).then((()=>Z()))):"function"==typeof z&&z({error:n}),X.fireTrackingEventCallback(b.OAUTH_CALLBACK,{abookImportTransactionId:X.abookImportTransactionId}),Q=!0,Z()})
class ie extends E{constructor(e){super([new S,new F(e),new j(e),new B,new q({promise:e})],p.INPUT_EMAIL,e),this.CONSTANTS=r,this.validateEmailAndResolveDomain=V,this.importContactsFromNonOauthDomain=K,this.importContactsFromOauthDomain=re,this.openOauthPopup=ne,this.closeOauthPopup=Z}}class ae extends E{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const{promise:n,pageKey:t}=e
if(!t)throw new Error("PageKey is required")
super([new S,new F(n,{dashEnabled:!0,pageKey:t}),new j(n,{dashEnabled:!0,pageKey:t}),new B,new q({promise:n,dashEnabled:!0,pageKey:t})],p.INPUT_EMAIL,n),this.CONSTANTS=r,this.validateEmailAndResolveDomain=V,this.importContactsFromNonOauthDomain=K,this.importContactsFromOauthDomain=re,this.openOauthPopup=ne,this.closeOauthPopup=Z}}},8560:function(e,n){!function(e){"use strict"
var n,t,r=["hasFlashPlayerVersion","9.0.0","setAttribute","swfContainerId","addFlashDivNode","___fp_swf_loaded","swfPath","false","experimental-webgl","components","webrtc","location","locationKey","platformKey","cpuClass","hardwareConcurrencyKey","numOfCores","deviceMemory","timezoneOffset","incognito","colorDepthKey","pixelRatio","screenResolution","screenResolutionKey","screenOrientation","availableScreenResolution","signals","networkInfo","battery","audio","automationKey","mimetyps","fontsFlash","getFeatures","Options not provided","key","alias","getData","data","latency","acq_time","allFeatures","getElementById","firstChild","nodeValue","parentNode","parse","str2ab","encode","btoa","fromCharCode","atob","crypto","subtle","importKey","SHA-256","wrap","importPk","spki","raw","RSA-OAEP","wrapErrorResult","error","number","AES-CBC","generateKey","decrypt","encrypt","catch","resolve","encryptWithKeyIds","Error: ec2","string","isNaN","MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAqyVTa3Pi5twlDxHc34nl3MlTHOweIenIid6hDqVlh5/wcHzIxvB9nZjObW3HWfwqejGM+n2ZGbo9x8R7ByS3/V4qRgAs1z4aB6F5+HcXsx8uVrQfwigK0+u7d3g1s7H8qUaguMPHxNnyj5EisTJBh2jf9ODp8TpWnhAQHCCSZcDM4JIoIlsVdGmv+dGlzZzmf1if26U4KJqFdrqS83r3nGWcEpXWiQB+mx/EX4brbrhOFCvfPovvsLEjMTm0UC68Bvki3UsB/vkkMPW9cxNiiJJdnDkOEEdQPuFmPug+sqhACl3IIHLVBFM7vO0ca14rcCNSbSDaaKOY6BQoW1A30wIDAQAB","MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAtw/ArJ9dD6hi+jrX6ZpRqwk2Mm5v3EElQGhzSngYHAm7gvdcAEj6sbU4HhrXs3+TZamDV+RHwL+rDT+TtD8ZJBaVbA+wRDdIezECZT+WNZw2SMkjAsX0OynAT/wowGfE72zMhYc4byGfQmtAQrUL2iJ19KIJj0aZ4m41kvnBHMZbwO52+ceyQhqAzB7bn6U//QHJySHgjaOsgkpPnuxZUz6ly+FrKveQp+bNIfh8R5GO2ABRoeBL4c3jip/UjmmnfYE3xdzubni1a6WQ6YTTb6ZEJSgQTp/Rc+o/btcKkTIqDcXvGbO0iAxev8EXV7GtkRguqgfwaURAaps9Nes5NwIDAQAB","encryptWithKey","encryptWithKeyFromDifferentSources","publicKey","publicKeyVersion","uuidv4","getRandomValues","apfcDf","flash/compiled/FontList.swf","/platform-telemetry/li/apfcDf","n/a","excluded","initialize","readyState","addEventListener","load","apfcDfPK","triggerApfc","reentry","placePonfBeacon","reqid","pageInstance","isProd","fullFeatureCollection","apfcDfPKV","https://www.linkedin.com","https://www.linkedin-ei.com","POST","setRequestHeader","Content-Type","application/json","send","telemetryCollectPath","host",".linkedin.com","startsWith","getUrlFromNoscriptBeacon","innerHTML","parseFromString","src","class","display:none;","ponfUrl","protocol","searchParams","charAt","substring","bc_context",".linkedin-ei.com","enabled","img","undefined","x64Add","x64Multiply","x64Rotl","x64LeftShift","x64Fmix","x64Xor","x64hash128","length","charCodeAt","toString","slice","00000000","each","prototype","forEach","map","push","RTCPeerConnection","webkitRTCPeerConnection","msRTCPeerConnection","stun:stun.l.google.com:19302?transport=udp","localDescription","sdp","split","indexOf","a=candidate:","keys","onicecandidate","candidate","complete","iceGatheringState","createDataChannel","createOffer","then","getHasLiedBrowser","undetected, fake browser","getBrowserNameAndVersion","Chrome","webdriver","document","getAttribute","_Selenium_IDE_Recorder","__webdriver_script_fn","Selenium","_phantom","PhantomJS","NOT_AVAILABLE","webRtcKey","getIPs","enumerateDevicesKey","isEnumerateDevicesSupported","enumerateDevices","gid","groupId","kind","label","audioKey","excludeIOS11","userAgent","webkitOfflineAudioContext","createOscillator","type","triangle","frequency","setValueAtTime","createDynamicsCompressor","threshold","knee","ratio","reduction","attack","currentTime","connect","destination","start","startRendering","oncomplete","audioTimeout","renderedBuffer","getChannelData","reduce","abs","disconnect","UserAgent","languageKey","language","browserLanguage","systemLanguage","screen","colorDepth","deviceMemoryKey","pixelDepthKey","pixelDepth","pixelRatioKey","devicePixelRatio","getScreenResolution","screenOrientationKey","detectScreenOrientation","EXCLUDED","Enabled","orientation","msOrientation","mozOrientation","width","availableScreenResolutionKey","getAvailableScreenResolution","availWidth","availHeight","getTimezoneOffset","timezone","Intl","DateTimeFormat","resolvedOptions","sessionStorageKey","hasSessionStorage","localStorageKey","hasLocalStorage","indexedDbKey","hasIndexedDB","addBehaviorKey","body","addBehavior","openDatabaseKey","cpuClassKey","getNavigatorCpuClass","oscpuKey","oscpu","appNameKey","appName","appVersionKey","appVersion","appCodeNameKey","appCodeName","seedKey","now","getNavigatorPlatform","productSubKey","productSub","vendorKey","vendor","vendorSubKey","doNotTrackKey","getDoNotTrack","incognitoKey","RequestFileSystem","webkitRequestFileSystem","estimate","quota","safariIncognito","openDatabase","localStorage","setItem","test","Firefox","open","onerror","onsuccess","EDGE","indexedDB","PointerEvent","match","exec","IE ","replace","OPR","splice","join","canvasKey","isCanvasSupported","getCanvasFp","webglKey","isWebGlSupported","getWebglFp","javascriptsKey","scripts","hash","href","pathname","port","getSignals","getAdBlock","getHasLiedLanguages","getHasLiedResolution","getHasLiedOs","hasOwnProperty","flashFontsKey","hasSwfObjectLoaded","hasMinFlashInstalled","loadSwfAndDetectFonts","missing options.fonts.swfPath","flash not installed","swf object not loaded","jsFontsKey","monospace","sans-serif","serif","Andale Mono","Arial","Arial Black","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Cambria","Cambria Math","Century Gothic","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Geneva","Georgia","Helvetica","Helvetica Neue","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3","concat","extendedJsFonts","fonts","getElementsByTagName","createElement","div","style","absolute","left","-9999px","fontSize","72px","fontStyle","normal","letterSpacing","lineBreak","auto","lineHeight","textTransform","none","textAlign","textDecoration","textShadow","whiteSpace","wordBreak","offsetWidth","offsetHeight","fontFamily","appendChild","removeChild","fontsHash","mimetypesComponent","mimeTypes","suffixes","description","pluginsComponent","excludeIE","getRegularPlugins","plugins","pluginsShouldBeSorted","sort","name","getOwnPropertyDescriptor","ActiveXObject","AcroPDF.PDF","Adodb.Stream","AgControl.AgControl","DevalVRXCtrl.DevalVRXCtrl.1","Msxml2.DOMDocument","Msxml2.XMLHTTP","PDF.PdfCtrl","QuickTime.QuickTime","QuickTimeCheckObject.QuickTimeCheck.1","RealPlayer","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","Scripting.Dictionary","SWCtl.SWCtl","Shell.UIHelper","ShockwaveFlash.ShockwaveFlash","TDCCtl.TDCCtl","WMPlayer.OCX","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","sortPluginsFor","batteryKey","getBattery","level","charging","chargingTime","dischargingTime","networkInfoKey","connection","downlink","downlinkMax","effectiveType","rtt","saveData","touchSupportKey","sessionStorage","ERROR","getHardwareConcurrency","hardwareConcurrency","platform","doNotTrack","msDoNotTrack","getTouchSupport","maxTouchPoints","msMaxTouchPoints","createEvent","TouchEvent","ontouchstart","canvas","height","getContext","rect","canvasWinding","isPointInPath","evenodd","yes","textBaseline","alphabetic","fillStyle","fillRect","dontUseFakeFontInCanvas","11pt Arial","font","11pt no-real-font-123","rgba(102, 204, 0, 0.2)","18pt Arial","fillText","globalCompositeOperation","multiply","rgb(255,0,255)","beginPath","closePath","fill","rgb(0,255,255)","arc","toDataURL","canvasHash","clearColor","enable","DEPTH_TEST","depthFunc","LEQUAL","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","getWebglCanvas","createBuffer","bindBuffer","ARRAY_BUFFER","STATIC_DRAW","itemSize","numItems","createShader","shaderSource","compileShader","FRAGMENT_SHADER","precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}","attachShader","linkProgram","useProgram","getAttribLocation","getUniformLocation","enableVertexAttribArray","vertexPosArray","vertexPosAttrib","FLOAT","uniform2f","offsetUniform","TRIANGLE_STRIP","webgl","hashOnly","vendorAndRenderer","getWebglVendorAndRenderer","getSupportedExtensions","webgl aliased line width range","ALIASED_LINE_WIDTH_RANGE","webgl aliased point size range","ALIASED_POINT_SIZE_RANGE","webgl alpha bits","ALPHA_BITS","webgl antialiasing","antialias","webgl blue bits","getParameter","BLUE_BITS","webgl depth bits","webgl green bits","GREEN_BITS","getExtension","EXT_texture_filter_anisotropic","WEBKIT_EXT_texture_filter_anisotropic","MOZ_EXT_texture_filter_anisotropic","MAX_TEXTURE_MAX_ANISOTROPY_EXT","webgl max combined texture image units","webgl max cube map texture size","webgl max fragment uniform vectors","MAX_FRAGMENT_UNIFORM_VECTORS","webgl max render buffer size","webgl max texture image units","MAX_TEXTURE_IMAGE_UNITS","MAX_TEXTURE_SIZE","MAX_VARYING_VECTORS","webgl max vertex attribs","MAX_VERTEX_ATTRIBS","MAX_VERTEX_TEXTURE_IMAGE_UNITS","webgl max vertex uniform vectors","MAX_VERTEX_UNIFORM_VECTORS","webgl max viewport dims","webgl red bits","RED_BITS","webgl renderer","RENDERER","SHADING_LANGUAGE_VERSION","webgl stencil bits","STENCIL_BITS","webgl vendor","VENDOR","webgl version","VERSION","webgl unmasked vendor","UNMASKED_VENDOR_WEBGL","webgl unmasked renderer","UNMASKED_RENDERER_WEBGL","INT","VERTEX","FRAGMENT","MEDIUM","LOW","precision","rangeMin","rangeMax","getShaderPrecisionFormat","_SHADER","precision ","toLowerCase"," shader ","WEBGL_debug_renderer_info","&nbsp;","className","adsbox","getElementsByClassName","languages","substr","windows phone","Windows Phone","win","Windows","android","linux","cros","Linux","iphone","ipad","iOS","Mac","Other","Android","mac","pike","ipod","opera","Opera","trident","20030107","Safari","Internet Explorer","toSource","isIE","swfobject"]
n=r,t=127,function(e){for(;--e;)n.push(n.shift())}(++t)
var i=function(e,n){return r[e-=0]}
!function(){class e{static[i("0x0")](e,n){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],n=[n[0]>>>16,65535&n[0],n[1]>>>16,65535&n[1]]
const t=[0,0,0,0]
return t[3]+=e[3]+n[3],t[2]+=t[3]>>>16,t[3]&=65535,t[2]+=e[2]+n[2],t[1]+=t[2]>>>16,t[2]&=65535,t[1]+=e[1]+n[1],t[0]+=t[1]>>>16,t[1]&=65535,t[0]+=e[0]+n[0],t[0]&=65535,[t[0]<<16|t[1],t[2]<<16|t[3]]}static[i("0x1")](e,n){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],n=[n[0]>>>16,65535&n[0],n[1]>>>16,65535&n[1]]
const t=[0,0,0,0]
return t[3]+=e[3]*n[3],t[2]+=t[3]>>>16,t[3]&=65535,t[2]+=e[2]*n[3],t[1]+=t[2]>>>16,t[2]&=65535,t[2]+=e[3]*n[2],t[1]+=t[2]>>>16,t[2]&=65535,t[1]+=e[1]*n[3],t[0]+=t[1]>>>16,t[1]&=65535,t[1]+=e[2]*n[2],t[0]+=t[1]>>>16,t[1]&=65535,t[1]+=e[3]*n[1],t[0]+=t[1]>>>16,t[1]&=65535,t[0]+=e[0]*n[3]+e[1]*n[2]+e[2]*n[1]+e[3]*n[0],t[0]&=65535,[t[0]<<16|t[1],t[2]<<16|t[3]]}static[i("0x2")](e,n){return 32==(n%=64)?[e[1],e[0]]:n<32?[e[0]<<n|e[1]>>>32-n,e[1]<<n|e[0]>>>32-n]:(n-=32,[e[1]<<n|e[0]>>>32-n,e[0]<<n|e[1]>>>32-n])}static[i("0x3")](e,n){return 0==(n%=64)?e:n<32?[e[0]<<n|e[1]>>>32-n,e[1]<<n]:[e[1]<<n-32,0]}static x64Xor(e,n){return[e[0]^n[0],e[1]^n[1]]}static[i("0x4")](n){return n=e.x64Xor(n,[0,n[0]>>>1]),n=e.x64Multiply(n,[4283543511,3981806797]),n=e[i("0x5")](n,[0,n[0]>>>1]),n=e[i("0x1")](n,[3301882366,444984403]),e[i("0x5")](n,[0,n[0]>>>1])}static[i("0x6")](n,t){t=t||0
const r=(n=n||"")[i("0x7")]%16,a=n.length-r
let o=[0,t],s=[0,t],c=[0,0],d=[0,0]
const u=[2277735313,289559509],l=[1291169091,658871167]
let p
for(p=0;p<a;p+=16)c=[255&n[i("0x8")](p+4)|(255&n[i("0x8")](p+5))<<8|(255&n[i("0x8")](p+6))<<16|(255&n.charCodeAt(p+7))<<24,255&n[i("0x8")](p)|(255&n[i("0x8")](p+1))<<8|(255&n[i("0x8")](p+2))<<16|(255&n.charCodeAt(p+3))<<24],d=[255&n[i("0x8")](p+12)|(255&n[i("0x8")](p+13))<<8|(255&n[i("0x8")](p+14))<<16|(255&n.charCodeAt(p+15))<<24,255&n[i("0x8")](p+8)|(255&n[i("0x8")](p+9))<<8|(255&n.charCodeAt(p+10))<<16|(255&n[i("0x8")](p+11))<<24],c=e[i("0x1")](c,u),c=e.x64Rotl(c,31),c=e[i("0x1")](c,l),o=e.x64Xor(o,c),o=e[i("0x2")](o,27),o=e.x64Add(o,s),o=e[i("0x0")](e[i("0x1")](o,[0,5]),[0,1390208809]),d=e[i("0x1")](d,l),d=e[i("0x2")](d,33),d=e[i("0x1")](d,u),s=e[i("0x5")](s,d),s=e.x64Rotl(s,31),s=e[i("0x0")](s,o),s=e.x64Add(e[i("0x1")](s,[0,5]),[0,944331445])
switch(c=[0,0],d=[0,0],r){case 15:d=e[i("0x5")](d,e[i("0x3")]([0,n.charCodeAt(p+14)],48))
case 14:d=e[i("0x5")](d,e[i("0x3")]([0,n[i("0x8")](p+13)],40))
case 13:d=e[i("0x5")](d,e[i("0x3")]([0,n.charCodeAt(p+12)],32))
case 12:d=e.x64Xor(d,e[i("0x3")]([0,n[i("0x8")](p+11)],24))
case 11:d=e[i("0x5")](d,e[i("0x3")]([0,n.charCodeAt(p+10)],16))
case 10:d=e[i("0x5")](d,e[i("0x3")]([0,n.charCodeAt(p+9)],8))
case 9:d=e.x64Xor(d,[0,n.charCodeAt(p+8)]),d=e[i("0x1")](d,l),d=e[i("0x2")](d,33),d=e.x64Multiply(d,u),s=e[i("0x5")](s,d)
case 8:c=e[i("0x5")](c,e[i("0x3")]([0,n[i("0x8")](p+7)],56))
case 7:c=e[i("0x5")](c,e[i("0x3")]([0,n[i("0x8")](p+6)],48))
case 6:c=e[i("0x5")](c,e.x64LeftShift([0,n.charCodeAt(p+5)],40))
case 5:c=e.x64Xor(c,e.x64LeftShift([0,n.charCodeAt(p+4)],32))
case 4:c=e.x64Xor(c,e.x64LeftShift([0,n[i("0x8")](p+3)],24))
case 3:c=e[i("0x5")](c,e[i("0x3")]([0,n[i("0x8")](p+2)],16))
case 2:c=e[i("0x5")](c,e.x64LeftShift([0,n[i("0x8")](p+1)],8))
case 1:c=e[i("0x5")](c,[0,n[i("0x8")](p)]),c=e[i("0x1")](c,u),c=e[i("0x2")](c,31),c=e[i("0x1")](c,l),o=e.x64Xor(o,c)}return o=e[i("0x5")](o,[0,n[i("0x7")]]),s=e.x64Xor(s,[0,n[i("0x7")]]),o=e.x64Add(o,s),s=e.x64Add(s,o),o=e[i("0x4")](o),s=e[i("0x4")](s),o=e[i("0x0")](o,s),s=e.x64Add(s,o),("00000000"+(o[0]>>>0)[i("0x9")](16))[i("0xa")](-8)+(i("0xb")+(o[1]>>>0)[i("0x9")](16))[i("0xa")](-8)+(i("0xb")+(s[0]>>>0).toString(16))[i("0xa")](-8)+(i("0xb")+(s[1]>>>0)[i("0x9")](16))[i("0xa")](-8)}}class n{static[i("0xc")](e,n){if(Array[i("0xd")][i("0xe")]&&e.forEach===Array[i("0xd")][i("0xe")])e[i("0xe")](n)
else if(e[i("0x7")]===+e[i("0x7")])for(let t=0,r=e.length;t<r;t++)n(e[t],t,e)
else for(let t in e)e.hasOwnProperty(t)&&n(e[t],t,e)}static map(e,t){let r=[]
return null==e?r:Array[i("0xd")].map&&e.map===Array[i("0xd")][i("0xf")]?e.map(t):(n[i("0xc")](e,(function(e,n,a){r[i("0x10")](t(e,n,a))})),r)}static getIPs(e,n){let t={},r=new(window[i("0x11")]||window[i("0x12")]||window.mozRTCPeerConnection||window[i("0x13")])({iceServers:[{urls:i("0x14")}]},{optional:[{RtpDataChannels:!0}]})
const a=function(e){if(null!==e)try{const n=/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(e)[1]
t[n]=!0}catch(e){}}
let o=!1
const s=function(){if(!0===o)return
o=!0
const e=r[i("0x15")]
null!==e&&e[i("0x16")][i("0x17")]("\n")[i("0xe")]((function(e){0!==e[i("0x18")](i("0x19"))&&0!==e[i("0x18")]("c=IN")||a(e)})),n(Object[i("0x1a")](t))}
r[i("0x1b")]=function(e){e[i("0x1c")]&&a(e.candidate.candidate)},r.onicegatheringstatechange=function(e){i("0x1d")===r[i("0x1e")]&&s()},r[i("0x1f")]("bl")
try{r[i("0x20")]()[i("0x21")]((function(e){r.setLocalDescription(e)}))}catch(e){r[i("0x20")]((function(e){r.setLocalDescription(e,(function(){}),(function(){}))}),(function(){}))}setTimeout((function(){s()}),800)}static automationKey(e,t){if(n[i("0x22")]())return void e(i("0x23"))
const r=n[i("0x24")]()[i("0x17")](" ")[0]
i("0x25")!==r||!0!==navigator[i("0x26")]?"Firefox"===r&&window[i("0x27")].documentElement[i("0x28")](i("0x26"))||i("0x29")in window||i("0x2a")in document?e(i("0x2b")):window.callPhantom||window[i("0x2c")]?e(i("0x2d")):e(t[i("0x2e")]):e(i("0x2b"))}static[i("0x2f")](e,t){n[i("0x30")](t,(n=>{e({ips:n})}))}static[i("0x31")](e,t){if(!n[i("0x32")]())return e(t[i("0x2e")])
navigator.mediaDevices[i("0x33")]()[i("0x21")]((function(n){e(n[i("0xf")]((function(e){let n={}
return n.id=e.deviceId,n[i("0x34")]=e[i("0x35")],n[i("0x36")]=e[i("0x36")],n[i("0x37")]=e[i("0x37")],n})))})).catch((function(n){e(n)}))}static isEnumerateDevicesSupported(){return navigator.mediaDevices&&navigator.mediaDevices[i("0x33")]}static[i("0x38")](e,t){let r=t.audio
if(r[i("0x39")]&&navigator[i("0x3a")].match(/OS 11.+Version\/11.+Safari/))return e(t.EXCLUDED)
const a=window.OfflineAudioContext||window[i("0x3b")]
if(null==a)return e(t[i("0x2e")])
let o=new a(1,44100,44100),s=o[i("0x3c")]()
s[i("0x3d")]=i("0x3e"),s[i("0x3f")][i("0x40")](1e4,o.currentTime)
let c=o[i("0x41")]()
n[i("0xc")]([[i("0x42"),-50],[i("0x43"),40],[i("0x44"),12],[i("0x45"),-20],[i("0x46"),0],["release",.25]],(function(e){void 0!==c[e[0]]&&"function"==typeof c[e[0]][i("0x40")]&&c[e[0]][i("0x40")](e[1],o[i("0x47")])})),s[i("0x48")](c),c[i("0x48")](o[i("0x49")]),s[i("0x4a")](0),o[i("0x4b")]()
let d=setTimeout((function(){return o[i("0x4c")]=function(){},o=null,e(i("0x4d"))}),r.timeout)
o[i("0x4c")]=function(n){let t
try{clearTimeout(d),t=n[i("0x4e")][i("0x4f")](0)[i("0xa")](4500,5e3)[i("0x50")]((function(e,n){return e+Math[i("0x51")](n)}),0)[i("0x9")](),s.disconnect(),c[i("0x52")]()}catch(n){return void e(n)}e(t)}}static[i("0x53")](e){e(navigator.userAgent)}static[i("0x26")](e,n){e(void 0===navigator.webdriver||null===navigator.webdriver?n.NOT_AVAILABLE:navigator[i("0x26")])}static[i("0x54")](e,n){e(navigator[i("0x55")]||navigator.userLanguage||navigator[i("0x56")]||navigator[i("0x57")]||n[i("0x2e")])}static colorDepthKey(e,n){e(window[i("0x58")][i("0x59")]||n[i("0x2e")])}static[i("0x5a")](e,n){let t=navigator.deviceMemory||n[i("0x2e")]
t!==n.NOT_AVAILABLE&&(t+=" GB"),e(t)}static[i("0x5b")](e,n){e(window[i("0x58")][i("0x5c")]||n[i("0x2e")])}static[i("0x5d")](e,n){e(window[i("0x5e")]||n.NOT_AVAILABLE)}static screenResolutionKey(e,t){e(n[i("0x5f")](t))}static[i("0x60")](e,n){if(!n[i("0x58")][i("0x61")])return void e(n[i("0x62")])
let t={}
t[i("0x63")]=void 0!==screen[i("0x64")],t.Orientation=screen[i("0x65")]||screen[i("0x66")]||(screen[i("0x64")]||{})[i("0x3d")],e(t)}static getScreenResolution(){return{w:window[i("0x58")][i("0x67")],h:window[i("0x58")].height}}static[i("0x68")](e,t){e(n[i("0x69")](t))}static getAvailableScreenResolution(e){return window[i("0x58")][i("0x6a")]&&window[i("0x58")][i("0x6b")]?{w:window[i("0x58")][i("0x6a")],h:window[i("0x58")][i("0x6b")]}:e[i("0x2e")]}static timezoneOffset(e){e((new Date)[i("0x6c")]()/60)}static[i("0x6d")](e,n){window[i("0x6e")]&&window[i("0x6e")][i("0x6f")]?e((new(window[i("0x6e")][i("0x6f")]))[i("0x70")]().timeZone):e(n.NOT_AVAILABLE)}static[i("0x71")](e,t){e(n[i("0x72")](t))}static[i("0x73")](e,t){e(n[i("0x74")](t))}static[i("0x75")](e,t){e(n[i("0x76")](t))}static[i("0x77")](e){e(!(!document[i("0x78")]||!document[i("0x78")][i("0x79")]))}static[i("0x7a")](e){e(!!window.openDatabase)}static[i("0x7b")](e,t){e(n[i("0x7c")](t))}static[i("0x7d")](e,n){e(navigator[i("0x7e")]||n.NOT_AVAILABLE)}static[i("0x7f")](e,n){e(navigator[i("0x80")]||n[i("0x2e")])}static[i("0x81")](e,n){e(navigator[i("0x82")]||n[i("0x2e")])}static[i("0x83")](e,n){e(navigator[i("0x84")]||n.NOT_AVAILABLE)}static[i("0x85")](e,n){e(Date[i("0x86")]())}static platformKey(e,t){e(n[i("0x87")](t))}static productKey(e,n){e(navigator.product||n[i("0x2e")])}static[i("0x88")](e,n){e(navigator[i("0x89")]||n[i("0x2e")])}static[i("0x8a")](e,n){e(navigator[i("0x8b")]||n[i("0x2e")])}static[i("0x8c")](e,n){e(navigator.vendorSub||n[i("0x2e")])}static[i("0x8d")](e,t){e(n[i("0x8e")](t))}static[i("0x8f")](e,t){const r=n.getBrowserNameAndVersion().split(" "),a=r[0],o=r[1]
let s=t[i("0x2e")]
if(i("0x25")===a)if(parseInt(o)<=74){const n=window[i("0x90")]||window[i("0x91")]
n?n(window.TEMPORARY,100,(function(n){e(!1)}),(function(n){e(!0)})):e(s)}else"storage"in navigator&&i("0x92")in navigator.storage?navigator.storage[i("0x92")]().then((function(n){const t=n[i("0x93")]
s=t<125829120,e(s)})):e(s)
else if("Safari"===a){if(s=!1,window[i("0x94")])s=!0
else{try{window[i("0x95")](null,null,null,null)}catch(e){s=!0}try{window[i("0x96")][i("0x97")]("test",1)}catch(e){s=!0}}void 0===s&&(s=!1,window[i("0x96")].removeItem(i("0x98"))),e(s)}else if(i("0x99")===a){let n=indexedDB[i("0x9a")]("test")
n[i("0x9b")]=function(){e(!0)},n[i("0x9c")]=function(){e(!1)}}else e("IE"===a||i("0x9d")===a?!window[i("0x9e")]&&(window[i("0x9f")]||window.MSPointerEvent):s)}static[i("0x24")](){let e,n=navigator[i("0x3a")],t=n[i("0xa0")](/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[]
return/trident/i[i("0x98")](t[1])?(e=/\brv[ :]+(\d+)/g[i("0xa1")](n)||[],i("0xa2")+(e[1]||"")):i("0x25")===t[1]&&(e=n[i("0xa0")](/\b(OPR|Edge)\/(\d+)/),null!=e)?e[i("0xa")](1).join(" ")[i("0xa3")](i("0xa4"),"Opera"):(t=t[2]?[t[1],t[2]]:[navigator[i("0x80")],navigator[i("0x82")],"-?"],e=n[i("0xa0")](/version\/(\d+)/i),null!=e&&t[i("0xa5")](1,1,e[1]),t[i("0xa6")](" "))}static[i("0xa7")](e,t){n[i("0xa8")]()?e(n[i("0xa9")](t)):e(t.NOT_AVAILABLE)}static[i("0xaa")](e,t){n[i("0xab")]()?e(n[i("0xac")](t)):e(t[i("0x2e")])}static[i("0xad")](e,n){if(void 0===document[i("0xae")]||null===document[i("0xae")])return e(n[i("0x2e")])
e([])}static locationKey(e,n){e({hash:location[i("0xaf")]||n[i("0x2e")],host:location.host||n[i("0x2e")],hostname:location.hostname||n[i("0x2e")],href:location[i("0xb0")]||n[i("0x2e")],origin:location.origin||n[i("0x2e")],pathname:location[i("0xb1")]||n[i("0x2e")],port:location[i("0xb2")]||n[i("0x2e")],protocol:location.protocol||n[i("0x2e")]})}static signalsKey(e){e(n[i("0xb3")]())}static getSignals(){const e={adBlockInstalled:function(){return n[i("0xb4")]()},liedLanguages:function(){return n[i("0xb5")]()},liedResolution:function(){return n[i("0xb6")]()},liedOS:function(){return n[i("0xb7")]()},liedBrowser:function(){return n.getHasLiedBrowser()}},t={}
for(const n in e)if(e[i("0xb8")](n)){const r=e[n]
t[n]=r(n)}return t}static[i("0xb9")](e,t){return n[i("0xba")]()?n[i("0xbb")]()?t.fonts.swfPath?void n[i("0xbc")]((function(n){e(n)}),t):e(i("0xbd")):e(i("0xbe")):e(i("0xbf"))}static[i("0xc0")](n,t){const r=[i("0xc1"),i("0xc2"),i("0xc3")]
let a=[i("0xc4"),i("0xc5"),i("0xc6"),"Arial Hebrew",i("0xc7"),i("0xc8"),i("0xc9"),i("0xca"),i("0xcb"),i("0xcc"),"Bookman Old Style","Calibri",i("0xcd"),i("0xce"),"Century",i("0xcf"),"Century Schoolbook",i("0xd0"),i("0xd1"),i("0xd2"),i("0xd3"),i("0xd4"),i("0xd5"),i("0xd6"),i("0xd7"),i("0xd8"),"Impact",i("0xd9"),i("0xda"),i("0xdb"),i("0xdc"),"LUCIDA GRANDE",i("0xdd"),i("0xde"),i("0xdf"),i("0xe0"),i("0xe1"),i("0xe2"),i("0xe3"),i("0xe4"),"MS Outlook",i("0xe5"),i("0xe6"),i("0xe7"),i("0xe8"),"MYRIAD",i("0xe9"),i("0xea"),i("0xeb"),i("0xec"),"Segoe Script",i("0xed"),i("0xee"),i("0xef"),i("0xf0"),i("0xf1"),i("0xf2"),"Times New Roman","Times New Roman PS",i("0xf3"),i("0xf4"),i("0xf5"),i("0xf6"),i("0xf7")]
void 0!==t.fonts&&void 0!==t.fonts.extendedJsFonts&&(a=a[i("0xf8")](t.fonts[i("0xf9")])),void 0!==t[i("0xfa")]&&void 0!==t[i("0xfa")].userDefinedFonts&&(a=a[i("0xf8")](t[i("0xfa")].userDefinedFonts)),a=a.filter((function(e,n){return a.indexOf(e)===n}))
const o=document[i("0xfb")](i("0x78"))[0],s=document[i("0xfc")]("div"),c=document.createElement(i("0xfd")),d={},u={},l=function(){const e=document[i("0xfc")]("span")
return e[i("0xfe")].position=i("0xff"),e[i("0xfe")][i("0x100")]=i("0x101"),e[i("0xfe")][i("0x102")]=i("0x103"),e.style[i("0x104")]=i("0x105"),e[i("0xfe")].fontWeight="normal",e[i("0xfe")][i("0x106")]=i("0x105"),e[i("0xfe")][i("0x107")]=i("0x108"),e.style[i("0x109")]=i("0x105"),e[i("0xfe")][i("0x10a")]=i("0x10b"),e.style[i("0x10c")]="left",e.style[i("0x10d")]="none",e[i("0xfe")][i("0x10e")]=i("0x10b"),e[i("0xfe")][i("0x10f")]=i("0x105"),e.style[i("0x110")]=i("0x105"),e[i("0xfe")].wordSpacing=i("0x105"),e.textContent="mmmmmmmmmmlli",e},p=function(e,n){const t=l()
return t.style.fontFamily="'"+e+"',"+n,t},f=function(e){let n=!1
for(let t=0;t<r[i("0x7")];t++)if(n=e[t][i("0x111")]!==d[r[t]]||e[t][i("0x112")]!==u[r[t]],n)return n
return n},m=function(){const e=[]
for(let n=0,t=r[i("0x7")];n<t;n++){const t=l()
t[i("0xfe")][i("0x113")]=r[n],s[i("0x114")](t),e[i("0x10")](t)}return e}()
o.appendChild(s)
for(let e=0,n=r.length;e<n;e++)d[r[e]]=m[e][i("0x111")],u[r[e]]=m[e][i("0x112")]
const y=function(){const e={}
for(let n=0,t=a[i("0x7")];n<t;n++){const t=[]
for(let e=0,o=r[i("0x7")];e<o;e++){const o=p(a[n],r[e])
c.appendChild(o),t[i("0x10")](o)}e[a[n]]=t}return e}()
o[i("0x114")](c)
const h=[]
for(let e=0,n=a[i("0x7")];e<n;e++)f(y[a[e]])&&h.push(a[e])
o[i("0x115")](c),o.removeChild(s)
const g={}
g[i("0x116")]=e[i("0x6")](h[i("0xa6")](),23),t[i("0xfa")].hashOnly||(g.lists=h),n(g)}static[i("0x117")](e,n){if(void 0===navigator[i("0x118")]||null===navigator[i("0x118")])return void e(n.NOT_AVAILABLE)
const t=navigator[i("0x118")],r=[]
for(let e=0;e<t.length;e++){const n={}
n[i("0x3d")]=t[e][i("0x3d")],n[i("0x119")]=t[e].suffixes,n.description=t[e][i("0x11a")],r[i("0x10")](n)}e(r)}static[i("0x11b")](e,t){n.isIE()?t.plugins[i("0x11c")]?e(t[i("0x62")]):e(n.getIEPlugins(t)):e(n[i("0x11d")](t))}static[i("0x11d")](e){if(void 0===navigator.plugins||null===navigator.plugins)return e[i("0x2e")]
let t=[]
for(let e=0,n=navigator[i("0x11e")][i("0x7")];e<n;e++)navigator[i("0x11e")][e]&&t.push(navigator[i("0x11e")][e])
return t[i("0x7")]>0&&n[i("0x11f")](e)&&(t=t[i("0x120")]((function(e,n){return e[i("0x121")]>n.name?1:e.name<n[i("0x121")]?-1:0}))),n[i("0xf")](t,(function(e){const t=n[i("0xf")](e,(function(e){return[e[i("0x3d")],e[i("0x119")]]}))
return[e[i("0x121")],e.description,t]}))}static getIEPlugins(e){let t=[]
if(Object[i("0x122")]&&Object[i("0x122")](window,i("0x123"))||i("0x123")in window){const r=[i("0x124"),i("0x125"),i("0x126"),i("0x127"),"MacromediaFlashPaper.MacromediaFlashPaper",i("0x128"),i("0x129"),i("0x12a"),i("0x12b"),i("0x12c"),i("0x12d"),i("0x12e"),i("0x12f"),i("0x130"),i("0x131"),i("0x132"),i("0x133"),"Skype.Detection",i("0x134"),i("0x135"),i("0x136"),i("0x137")]
t=n[i("0xf")](r,(function(n){try{return new(window[i("0x123")])(n),n}catch(n){return e.ERROR}}))}else t[i("0x10")](e[i("0x2e")])
return navigator[i("0x11e")]&&(t=t.concat(n.getRegularPlugins(e))),t}static[i("0x11f")](e){let n=!1
for(let t=0,r=e.plugins.sortPluginsFor[i("0x7")];t<r;t++){const r=e[i("0x11e")][i("0x138")][t]
if(navigator[i("0x3a")][i("0xa0")](r)){n=!0
break}}return n}static[i("0x139")](e,n){void 0!==navigator.getBattery?navigator[i("0x13a")]().then((function(n){const t={}
t.level=n[i("0x13b")],t[i("0x13c")]=n.charging,t.chargingTime=n[i("0x13d")],t.dischargingTime=n[i("0x13e")],e(t)})):e(n.NOT_AVAILABLE)}static[i("0x13f")](e,n){const t=navigator[i("0x140")]
e(void 0!==t?{downlink:t[i("0x141")],downlinkMax:t[i("0x142")],type:t[i("0x3d")],effectiveType:t[i("0x143")],rtt:t[i("0x144")],saveData:t[i("0x145")]}:n[i("0x2e")])}static[i("0x146")](e){e(n.getTouchSupport())}static hardwareConcurrencyKey(e,t){e(n.getHardwareConcurrency(t))}static hasSessionStorage(e){try{return!!window[i("0x147")]}catch(n){return e.ERROR}}static hasLocalStorage(e){try{return!!window[i("0x96")]}catch(n){return e[i("0x148")]}}static[i("0x76")](e){try{return!!window.indexedDB}catch(n){return e.ERROR}}static[i("0x149")](e){return navigator[i("0x14a")]?navigator[i("0x14a")]:e[i("0x2e")]}static[i("0x7c")](e){return navigator.cpuClass||e[i("0x2e")]}static[i("0x87")](e){return navigator[i("0x14b")]?navigator[i("0x14b")]:e[i("0x2e")]}static getDoNotTrack(e){return navigator[i("0x14c")]?navigator[i("0x14c")]:navigator[i("0x14d")]?navigator[i("0x14d")]:window[i("0x14c")]?window[i("0x14c")]:e.NOT_AVAILABLE}static[i("0x14e")](){let e,n=0
void 0!==navigator[i("0x14f")]?n=navigator.maxTouchPoints:void 0!==navigator[i("0x150")]&&(n=navigator[i("0x150")])
try{document[i("0x151")](i("0x152")),e=!0}catch(n){e=!1}return{maxTouchPoints:n,touchEvent:e,touchStart:i("0x153")in window}}static getCanvasFp(n){const t={},r=document[i("0xfc")](i("0x154"))
r[i("0x67")]=2e3,r[i("0x155")]=200,r[i("0xfe")].display="inline"
const a=r[i("0x156")]("2d")
return a[i("0x157")](0,0,10,10),a[i("0x157")](2,2,6,6),t[i("0x158")]=!1===a[i("0x159")](5,5,i("0x15a"))?i("0x15b"):"no",a[i("0x15c")]=i("0x15d"),a[i("0x15e")]="#f60",a[i("0x15f")](125,1,62,20),a[i("0x15e")]="#069",n[i("0x160")]?a.font=i("0x161"):a[i("0x162")]=i("0x163"),a.fillText("Cwm fjordbank glyphs vext quiz, 😃",2,15),a[i("0x15e")]=i("0x164"),a.font=i("0x165"),a[i("0x166")]("Cwm fjordbank glyphs vext quiz, 😃",4,45),a[i("0x167")]=i("0x168"),a.fillStyle=i("0x169"),a[i("0x16a")](),a.arc(50,50,50,0,2*Math.PI,!0),a[i("0x16b")](),a[i("0x16c")](),a[i("0x15e")]=i("0x16d"),a[i("0x16a")](),a[i("0x16e")](100,50,50,0,2*Math.PI,!0),a.closePath(),a[i("0x16c")](),a[i("0x15e")]="rgb(255,255,0)",a[i("0x16a")](),a[i("0x16e")](75,100,50,0,2*Math.PI,!0),a.closePath(),a[i("0x16c")](),a[i("0x15e")]=i("0x169"),a[i("0x16e")](75,75,75,0,2*Math.PI,!0),a[i("0x16e")](75,75,25,0,2*Math.PI,!0),a[i("0x16c")](i("0x15a")),r[i("0x16f")]&&(t[i("0x170")]=e.x64hash128(r[i("0x16f")](),23)),t}static getWebglFp(t){let r
const a=function(e){return r[i("0x171")](0,0,0,1),r[i("0x172")](r[i("0x173")]),r[i("0x174")](r[i("0x175")]),r[i("0x176")](r[i("0x177")]|r[i("0x178")]),"["+e[0]+", "+e[1]+"]"}
if(r=n[i("0x179")](),!r)return null
const o={},s=r[i("0x17a")]()
r[i("0x17b")](r[i("0x17c")],s)
const c=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.732134444,0])
r.bufferData(r[i("0x17c")],c,r[i("0x17d")]),s[i("0x17e")]=3,s[i("0x17f")]=3
const d=r.createProgram(),u=r[i("0x180")](r.VERTEX_SHADER)
r[i("0x181")](u,"attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}"),r[i("0x182")](u)
const l=r[i("0x180")](r[i("0x183")])
r[i("0x181")](l,i("0x184")),r[i("0x182")](l),r[i("0x185")](d,u),r.attachShader(d,l),r[i("0x186")](d),r[i("0x187")](d),d.vertexPosAttrib=r[i("0x188")](d,"attrVertex"),d.offsetUniform=r[i("0x189")](d,"uniformOffset"),r[i("0x18a")](d[i("0x18b")]),r.vertexAttribPointer(d[i("0x18c")],s[i("0x17e")],r[i("0x18d")],!1,0,0),r[i("0x18e")](d[i("0x18f")],1,1),r.drawArrays(r[i("0x190")],0,s[i("0x17f")])
try{o.webglHash=e[i("0x6")](r.canvas[i("0x16f")](),23)}catch(e){}if(t[i("0x191")][i("0x192")])return o
o[i("0x193")]=n[i("0x194")](),o.extensions=r[i("0x195")]()||[],o[i("0x196")]=a(r.getParameter(r[i("0x197")])),o[i("0x198")]=a(r.getParameter(r[i("0x199")])),o[i("0x19a")]=r.getParameter(r[i("0x19b")]),o[i("0x19c")]=r.getContextAttributes()[i("0x19d")]?i("0x15b"):"no",o[i("0x19e")]=r[i("0x19f")](r[i("0x1a0")]),o[i("0x1a1")]=r[i("0x19f")](r.DEPTH_BITS),o[i("0x1a2")]=r[i("0x19f")](r[i("0x1a3")]),o["webgl max anisotropy"]=function(e){const n=e[i("0x1a4")](i("0x1a5"))||e.getExtension(i("0x1a6"))||e.getExtension(i("0x1a7"))
if(n){let t=e[i("0x19f")](n[i("0x1a8")])
return 0===t&&(t=2),t}return null}(r),o[i("0x1a9")]=r[i("0x19f")](r.MAX_COMBINED_TEXTURE_IMAGE_UNITS),o[i("0x1aa")]=r.getParameter(r.MAX_CUBE_MAP_TEXTURE_SIZE),o[i("0x1ab")]=r[i("0x19f")](r[i("0x1ac")]),o[i("0x1ad")]=r[i("0x19f")](r.MAX_RENDERBUFFER_SIZE),o[i("0x1ae")]=r.getParameter(r[i("0x1af")]),o["webgl max texture size"]=r[i("0x19f")](r[i("0x1b0")]),o["webgl max varying vectors"]=r.getParameter(r[i("0x1b1")]),o[i("0x1b2")]=r[i("0x19f")](r[i("0x1b3")]),o["webgl max vertex texture image units"]=r[i("0x19f")](r[i("0x1b4")]),o[i("0x1b5")]=r[i("0x19f")](r[i("0x1b6")]),o[i("0x1b7")]=a(r[i("0x19f")](r.MAX_VIEWPORT_DIMS)),o[i("0x1b8")]=r[i("0x19f")](r[i("0x1b9")]),o[i("0x1ba")]=r.getParameter(r[i("0x1bb")]),o["webgl shading language version"]=r[i("0x19f")](r[i("0x1bc")]),o[i("0x1bd")]=r[i("0x19f")](r[i("0x1be")]),o[i("0x1bf")]=r[i("0x19f")](r[i("0x1c0")]),o[i("0x1c1")]=r[i("0x19f")](r[i("0x1c2")])
try{const e=r[i("0x1a4")]("WEBGL_debug_renderer_info")
e&&(o[i("0x1c3")]=r[i("0x19f")](e[i("0x1c4")]),o[i("0x1c5")]=r[i("0x19f")](e[i("0x1c6")]))}catch(e){}return r.getShaderPrecisionFormat?(n[i("0xc")]([i("0x18d"),i("0x1c7")],(function(e){n[i("0xc")]([i("0x1c8"),i("0x1c9")],(function(t){n[i("0xc")](["HIGH",i("0x1ca"),i("0x1cb")],(function(a){n.each([i("0x1cc"),i("0x1cd"),i("0x1ce")],(function(n){const s=r[i("0x1cf")](r[t+i("0x1d0")],r[a+"_"+e])[n]
i("0x1cc")!==n&&(n=i("0x1d1")+n)
const c=["webgl ",t[i("0x1d2")](),i("0x1d3"),a[i("0x1d2")]()," ",e[i("0x1d2")]()," ",n][i("0xa6")]("")
o[c]=s}))}))}))})),o):o}static[i("0x194")](){try{const e=n[i("0x179")](),t=e[i("0x1a4")](i("0x1d4"))
return e[i("0x19f")](t.UNMASKED_VENDOR_WEBGL)+"~"+e[i("0x19f")](t[i("0x1c6")])}catch(e){return null}}static[i("0xb4")](){const e=document[i("0xfc")](i("0xfd"))
e.innerHTML=i("0x1d5"),e[i("0x1d6")]=i("0x1d7")
let n=!1
try{document.body[i("0x114")](e),n=0===document[i("0x1d8")]("adsbox")[0][i("0x112")],document[i("0x78")][i("0x115")](e)}catch(e){n=!1}return n}static[i("0xb5")](){if(void 0!==navigator[i("0x1d9")])try{if(navigator[i("0x1d9")][0][i("0x1da")](0,2)!==navigator[i("0x55")][i("0x1da")](0,2))return!0}catch(e){return!0}return!1}static[i("0xb6")](){return window[i("0x58")].width<window[i("0x58")][i("0x6a")]||window.screen[i("0x155")]<window[i("0x58")][i("0x6b")]}static[i("0xb7")](){const e=navigator[i("0x3a")][i("0x1d2")]()
let n=navigator[i("0x7e")]
const t=navigator[i("0x14b")][i("0x1d2")]()
let r
if(r=e.indexOf(i("0x1db"))>=0?i("0x1dc"):e[i("0x18")](i("0x1dd"))>=0?i("0x1de"):e[i("0x18")](i("0x1df"))>=0?"Android":e[i("0x18")](i("0x1e0"))>=0||e[i("0x18")](i("0x1e1"))>=0?i("0x1e2"):e[i("0x18")](i("0x1e3"))>=0||e.indexOf(i("0x1e4"))>=0?i("0x1e5"):e[i("0x18")]("mac")>=0?i("0x1e6"):i("0x1e7"),(i("0x153")in window||navigator[i("0x14f")]>0||navigator[i("0x150")]>0)&&i("0x1dc")!==r&&i("0x1e8")!==r&&i("0x1e5")!==r&&i("0x1e7")!==r)return!0
if(void 0!==n){if(n=n[i("0x1d2")](),n[i("0x18")]("win")>=0&&"Windows"!==r&&i("0x1dc")!==r)return!0
if(n[i("0x18")]("linux")>=0&&"Linux"!==r&&i("0x1e8")!==r)return!0
if(n[i("0x18")]("mac")>=0&&i("0x1e6")!==r&&i("0x1e5")!==r)return!0
if((-1===n.indexOf(i("0x1dd"))&&-1===n.indexOf("linux")&&-1===n.indexOf(i("0x1e9")))!=(i("0x1e7")===r))return!0}return t.indexOf("win")>=0&&i("0x1de")!==r&&i("0x1dc")!==r||(t.indexOf(i("0x1e0"))>=0||t.indexOf(i("0x1df"))>=0||t[i("0x18")](i("0x1ea"))>=0)&&i("0x1e2")!==r&&i("0x1e8")!==r||(t[i("0x18")]("mac")>=0||t[i("0x18")]("ipad")>=0||t[i("0x18")](i("0x1eb"))>=0||t[i("0x18")](i("0x1e3"))>=0)&&i("0x1e6")!==r&&"iOS"!==r||(t[i("0x18")](i("0x1dd"))<0&&t.indexOf("linux")<0&&t[i("0x18")](i("0x1e9"))<0&&t[i("0x18")](i("0x1e3"))<0&&t.indexOf(i("0x1e4"))<0)!=("Other"===r)||void 0===navigator[i("0x11e")]&&"Windows"!==r&&i("0x1dc")!==r}static[i("0x22")](){const e=navigator[i("0x3a")].toLowerCase(),n=navigator[i("0x89")]
let t
if(t=e[i("0x18")]("firefox")>=0?i("0x99"):e[i("0x18")](i("0x1ec"))>=0||e[i("0x18")]("opr")>=0?i("0x1ed"):e[i("0x18")]("chrome")>=0?"Chrome":e[i("0x18")]("safari")>=0?"Safari":e[i("0x18")](i("0x1ee"))>=0?"Internet Explorer":i("0x1e7"),(i("0x25")===t||"Safari"===t||i("0x1ed")===t)&&i("0x1ef")!==n)return!0
const r=eval[i("0x9")]()[i("0x7")]
if(37===r&&i("0x1f0")!==t&&"Firefox"!==t&&i("0x1e7")!==t)return!0
if(39===r&&i("0x1f1")!==t&&"Other"!==t)return!0
if(33===r&&i("0x25")!==t&&i("0x1ed")!==t&&i("0x1e7")!==t)return!0
let a
try{throw"a"}catch(e){try{e[i("0x1f2")](),a=!0}catch(e){a=!1}}return a&&i("0x99")!==t&&"Other"!==t}static[i("0xa8")](){const e=document[i("0xfc")](i("0x154"))
return!(!e[i("0x156")]||!e[i("0x156")]("2d"))}static isWebGlSupported(){if(!n.isCanvasSupported())return!1
const e=n[i("0x179")]()
return!!window.WebGLRenderingContext&&!!e}static[i("0x1f3")](){return"Microsoft Internet Explorer"===navigator.appName||!("Netscape"!==navigator[i("0x80")]||!/Trident/[i("0x98")](navigator[i("0x3a")]))}static[i("0xba")](){return void 0!==window[i("0x1f4")]}static[i("0xbb")](){return window[i("0x1f4")][i("0x1f5")](i("0x1f6"))}static addFlashDivNode(e){const n=document[i("0xfc")](i("0xfd"))
n[i("0x1f7")]("id",e.fonts[i("0x1f8")]),document.body.appendChild(n)}static loadSwfAndDetectFonts(e,t){window.___fp_swf_loaded=function(n){e(n)}
const r=t.fonts[i("0x1f8")]
n[i("0x1f9")]()
const a={onReady:i("0x1fa")}
window.swfobject.embedSWF(t[i("0xfa")][i("0x1fb")],r,"1","1","9.0.0",!1,a,{allowScriptAccess:"always",menu:i("0x1fc")},{})}static[i("0x179")](){const e=document.createElement("canvas")
let n=null
try{n=e[i("0x156")]("webgl")||e[i("0x156")](i("0x1fd"))}catch(e){}return n||(n=null),n}constructor(){this[i("0x1fe")]=[{key:i("0x1ff"),getData:n[i("0x2f")]},{key:i("0x33"),getData:n[i("0x31")]},{key:i("0x80"),getData:n[i("0x7f")]},{key:"tsSeed",getData:n.seedKey},{key:i("0x82"),getData:n[i("0x81")]},{key:i("0x84"),getData:n[i("0x83")]},{key:i("0x200"),getData:n[i("0x201")]},{key:"javascripts",getData:n.javascriptsKey},{key:i("0x14b"),getData:n[i("0x202")]},{key:"product",getData:n.productKey},{key:i("0x89"),getData:n[i("0x88")]},{key:i("0x203"),getData:n[i("0x7b")]},{key:i("0x7e"),getData:n.oscpuKey},{key:"hardwareConcurrency",getData:n[i("0x204")],alias:i("0x205")},{key:i("0x206"),getData:n[i("0x5a")]},{key:i("0x8b"),getData:n[i("0x8a")]},{key:"vendorSub",getData:n.vendorSubKey},{key:i("0x55"),getData:n[i("0x54")]},{key:"timezoneOffset",getData:n[i("0x207")]},{key:i("0x6d"),getData:n.timezone},{key:i("0x3a"),getData:n[i("0x53")]},{key:i("0x26"),getData:n[i("0x26")]},{key:"doNotTrack",getData:n.doNotTrackKey},{key:i("0x208"),getData:n[i("0x8f")]},{key:i("0x59"),getData:n[i("0x209")]},{key:"pixelDepth",getData:n[i("0x5b")]},{key:i("0x20a"),getData:n[i("0x5d")]},{key:i("0x20b"),getData:n[i("0x20c")]},{key:i("0x20d"),getData:n[i("0x60")]},{key:i("0x20e"),getData:n.availableScreenResolutionKey},{key:i("0x147"),getData:n[i("0x71")]},{key:"localStorage",getData:n.localStorageKey},{key:"indexedDb",getData:n[i("0x75")]},{key:i("0x79"),getData:n.addBehaviorKey},{key:i("0x95"),getData:n[i("0x7a")]},{key:i("0x154"),getData:n[i("0xa7")]},{key:i("0x191"),getData:n[i("0xaa")]},{key:i("0x20f"),getData:n.signalsKey},{key:"touchSupport",getData:n[i("0x146")]},{key:i("0x210"),getData:n[i("0x13f")]},{key:i("0x211"),getData:n.batteryKey},{key:i("0x212"),getData:n[i("0x38")]},{key:"automation",getData:n[i("0x213")]},{key:"plugins",getData:n[i("0x11b")]},{key:i("0x214"),getData:n[i("0x117")]},{key:i("0xfa"),getData:n[i("0xc0")]},{key:i("0x215"),getData:n[i("0xb9")]}]}[i("0x216")](e,n){if("function"!=typeof e)return
if(!n)return e({error:i("0x217")})
let t={data:{latency:{acq_time:{}},errors:{}}},r=Date[i("0x86")](),a={},o=0,s=0
this.components[i("0xe")]((function(c){if(n.excludes[c[i("0x218")]])return
let d=c[i("0x218")]
void 0!==c.alias&&null!==c.alias&&c[i("0x219")][i("0x7")]>0&&(d=c.alias),a[d]=Date[i("0x86")](),o++
try{c[i("0x21a")]((function(n){t[i("0x21b")][d]=n,t.data[i("0x21c")][i("0x21d")][d]=Date[i("0x86")]()-a[d],s++,s>=o&&(t[i("0x21b")][i("0x21c")].acq_time[i("0x21e")]=Date[i("0x86")]()-r,e(t.data,!0))}),n)}catch(e){t[i("0x21b")].errors[d]=String(e)}})),t[i("0x21b")][i("0x21c")][i("0x21d")][i("0x21e")]=Date[i("0x86")]()-r,e(t[i("0x21b")],!1)}}function t(e){let n=arguments[i("0x7")]>1&&void 0!==arguments[1]&&arguments[1],t=arguments[2]
const r=t?t.querySelector("#"+e):document[i("0x21f")](e)
if(r){const t=r[i("0x220")][i("0x221")]
if(n&&r[i("0x222")][i("0x115")](r),t)try{return JSON[i("0x223")](t)}catch(e){return}}}class r{static[i("0x224")](e){const n=new ArrayBuffer(e[i("0x7")]),t=new Uint8Array(n)
for(let n=0,r=e[i("0x7")];n<r;n++)t[n]=e.charCodeAt(n)
return n}static[i("0x225")](e){return window[i("0x226")](String[i("0x227")].apply(null,e))}static importPk(e,n,t){const a=window[i("0x228")](n),o=r[i("0x224")](a)
return window[i("0x229")][i("0x22a")][i("0x22b")](e,o,{name:"RSA-OAEP",hash:i("0x22c")},!0,t)}static[i("0x22d")](e,n){return r[i("0x22e")](i("0x22f"),n,["wrapKey"])[i("0x21")]((n=>window[i("0x229")].subtle.wrapKey(i("0x230"),e,n,{name:i("0x231")})))[i("0x21")]((e=>r.encode(new Uint8Array(e))))}static[i("0x232")](e){const n={a:null,b:null,c:null}
return n[i("0x233")]=e,n}static encryptWithKey(e,n,t){const a={a:null,b:null,c:null}
try{let o=Date.now()
if("string"!=typeof n||i("0x234")!=typeof t)throw new Error("ec1")
const s=window.crypto.getRandomValues(new Uint8Array(16))
a.a=r.encode(s)
const c=(new TextEncoder)[i("0x225")](e),d=i("0x235")
return window.crypto[i("0x22a")][i("0x236")]({name:d,length:256},!0,["encrypt",i("0x237")])[i("0x21")]((e=>window.crypto[i("0x22a")][i("0x238")]({name:d,iv:s},e,c)[i("0x21")]((s=>r.wrap(e,n)[i("0x21")]((e=>(a.b=e,a.c=r[i("0x225")](new Uint8Array(s)),a.d=Date[i("0x86")]()-o,a.e=t,a)))))))[i("0x239")]((e=>(a[i("0x233")]=String(e),a)))}catch(e){return a[i("0x233")]=String(e),Promise[i("0x23a")](a)}}static[i("0x23b")](e,n,a,o){if("string"!=typeof n||"string"!=typeof a)return Promise[i("0x23a")](r[i("0x232")](i("0x23c")))
let s=t(n),c=parseInt(t(a))
return(i("0x23d")!=typeof s||i("0x234")!=typeof c||Number[i("0x23e")](c))&&(s=i(o?"0x23f":"0x240"),c=o?2:1),r[i("0x241")](e,s,c)}static[i("0x242")](e,n,t,a,o){return null!=a&&"string"==typeof a[i("0x243")]&&i("0x234")==typeof a[i("0x244")]?r[i("0x241")](e,a[i("0x243")],a[i("0x244")]):r[i("0x23b")](e,n,t,o)}static[i("0x245")](){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^window.crypto[i("0x246")](new Uint8Array(1))[0]&15>>e/4)[i("0x9")](16)))}}const a={preprocessor:null,audio:{timeout:1e3,excludeIOS11:!0},fonts:{swfContainerId:i("0x247"),swfPath:i("0x248"),userDefinedFonts:[],extendedJsFonts:void 0,hashOnly:!1},screen:{detectScreenOrientation:!0},plugins:{sortPluginsFor:[/palemoon/i],excludeIE:!1},webgl:{hashOnly:!1},ponfUrl:"https://ponf.linkedin.com/pixel/tracking.png",telemetryCollectPath:i("0x249"),extraComponents:[],excludes:{pixelRatio:!0,doNotTrack:!0,fontsFlash:!0},debug:!1,NOT_AVAILABLE:i("0x24a"),ERROR:"err",EXCLUDED:i("0x24b")}
class o{constructor(e){void 0!==e?this[i("0x24c")](a,e):i("0x1d")===document[i("0x24d")]?this[i("0x24c")](a):window[i("0x24e")](i("0x24f"),(()=>{this[i("0x24c")](a)}))}[i("0x24c")](e,a){if(null!=a||null!=t(i("0x250"))){this[i("0x253")](e,a)
var o=this[i("0x254")],s=this[i("0x255")],c=this[i("0x256")]()
return(new n).getFeatures((function(n,t){n[i("0x254")]=o,n[i("0x255")]=s,n[i("0x257")]=t,r[i("0x242")](JSON.stringify(n),i("0x250"),i("0x258"),a,c)[i("0x21")]((n=>{globalThis[i("0x247")]=n,!0===t&&function(e,n,t){let r=new XMLHttpRequest,a=i(t?"0x259":"0x25a")
a+=String(n),r[i("0x9a")](i("0x25b"),a),r[i("0x25c")](i("0x25d"),i("0x25e")),r[i("0x25f")](e)}(JSON.stringify(n),e[i("0x260")],c)}))}),e)}globalThis[i("0x251")]=this[i("0x252")]}}o[i("0xd")].reentry=function(e){globalThis[i("0x251")]=null,new o(e)},o[i("0xd")].isProd=function(){const e=location&&location[i("0x261")]
return e&&e[i("0x18")](i("0x262"))>-1&&!e[i("0x263")]("pemberly")},o[i("0xd")][i("0x264")]=function(){var e=[]
return[...document[i("0x1d8")]("div_bc")].forEach((n=>{[...n[i("0xfb")]("noscript")][i("0xe")]((n=>{let t=n[i("0x265")]
if(t){var r=(new DOMParser)[i("0x266")](t,"text/html")
r&&[...r[i("0x1d8")]("bc")][i("0xe")]((n=>{e[i("0x10")]({src:n[i("0x28")](i("0x267")),style:n.getAttribute(i("0xfe")),class:n[i("0x28")](i("0x268")),width:n[i("0x28")](i("0x67")),height:n[i("0x28")]("height")})}))}}))})),0===e[i("0x7")]?null:e[0]},o.prototype[i("0x253")]=function(e,n){if(null==e)return
var t,a,o="bc",s=i("0x269"),c="1",d="1",u=e[i("0x26a")]
if(this[i("0x254")]=null,this[i("0x255")]=null,null!==(t=this.getUrlFromNoscriptBeacon())){o=t.class,s=t[i("0xfe")],c=t[i("0x67")],d=t[i("0x155")]
let e=new URL(t[i("0x267")])
u=e[i("0x26b")]+"//"+e[i("0x261")]+e[i("0xb1")],this[i("0x254")]=e.searchParams.get(i("0x254")),this.pageInstance=e[i("0x26c")].get(i("0x255"))}else if(void 0!==(a=function(e){let n=arguments[i("0x7")]>1&&void 0!==arguments[1]&&arguments[1],t=arguments[2]
const r=t?t.querySelector("#"+e):document[i("0x21f")](e)
if(r){const t=r[i("0x220")][i("0x221")]
if(n&&r[i("0x222")][i("0x115")](r),t)try{let e=t
return"'"!==e[i("0x26d")](0)&&'"'!==e[i("0x26d")](0)||(e=e[i("0x26e")](1,e[i("0x7")]-1)),JSON[i("0x223")](e)}catch(e){return}}}(i("0x26f"))))this[i("0x254")]=void 0===a.reqid?null:a.reqid,this[i("0x255")]=a[i("0x255")]
else{if(void 0===n)return
this.pageInstance=n[i("0x255")]}this[i("0x256")]()||(u=u.replace(/\.linkedin\.com/,i("0x270"))),null===this[i("0x254")]&&(this[i("0x254")]=r[i("0x245")]())
let l=u+"?"+new URLSearchParams({reqid:this[i("0x254")],pageInstance:this[i("0x255")],js:i("0x271")})[i("0x9")](),p=document[i("0x1d8")]("div_bc")[0]
null==p&&(p=document.createElement(i("0xfd")),p[i("0x1f7")]("id",this.reqid),document[i("0x78")][i("0x114")](p))
let f=document[i("0xfc")](i("0x272"))
f[i("0x267")]=l,f[i("0xfe")]=s,f.className=o,f.width=c,f[i("0x155")]=d,p.appendChild(f)},i("0x273")!=typeof globalThis&&"undefined"!=typeof document&&i("0x273")!=typeof window&&new o}(),e.CommonFeaturesAccessor=class{static isInitialized(){return Boolean("undefined"!=typeof globalThis&&void 0!==globalThis.triggerApfc&&null!==globalThis.triggerApfc)}static setDf(e){globalThis.triggerApfc(e)}},Object.defineProperty(e,"__esModule",{value:!0})}(n)},7727:(e,n,t)=>{"use strict"
function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var a
t.r(n),t.d(n,{NON_ESSENTIAL_CATEGORIES:()=>d,USER_MODE:()=>u,getBannerData:()=>A,getCookieConsent:()=>E,parseEncodedConsent:()=>T,updateCookieConsent:()=>S})
var o,s,c,d={ADVERTISING:"ADVERTISING",ANALYTICS_AND_RESEARCH:"ANALYTICS_AND_RESEARCH",FUNCTIONAL:"FUNCTIONAL"},u={GUEST:"GUEST",MEMBER:"MEMBER"},l=(i(a={},u.GUEST,"li_gc"),i(a,u.MEMBER,"li_mc"),a),p="liap",f=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null
for(var o in r(this,e),n=n||{},this.consentAvailable=!1,this.issuedAt=t,this.userMode=i,this.optedInConsentMap={},d)n[o]=n[o]||0,0!==n[o]&&(this.consentAvailable=!0),this.optedInConsentMap[o]=1===n[o]||0===n[o]&&1===a},m=(o=[d.ADVERTISING,d.ANALYTICS_AND_RESEARCH,d.FUNCTIONAL],s=[0,1,2,0],c=new RegExp(["^(\\d+)","(\\d+)","(\\d+)","((?:.|\\s)+)"].join(";")),{parseConsentBody:function(e,n){var t=e.match(c)
if(!t)return{error:"Invalid consent body encoding",consent:new f}
for(var r=parseInt(t[1],10),i={},a=0;a<o.length;a++)i[o[a]]=s[r>>2*a&3]
var d=new Date(1e3*parseInt(t[2],10)),u=parseInt(t[3],10),l=0
return u>=0&&u<=3&&(l=s[u]),{error:null,consent:new f(i,d,n,l)}}}),y=new RegExp(["^(\\d+)","((?:.|\\s)+)"].join(";")),h=function(e,n){var t=n.match(new RegExp("(?:^|; *)".concat(e,"=([^;]*)")))
return t&&t.length>1?t[1]:null},g=function(e,n){var t=h(l[e],n)
return t?T(t,e):h(l[u.GUEST],n)||h(l[u.MEMBER],n)?v(2):v(1)},v=function(e){var n={}
for(var t in d)n[t]=e
return{error:null,consent:new f(n,null,null,e)}},_=function(){var e=document.domain.match(/^(?:|.*\.)([^\.]+\.[^\.]+)$/)
return e?e[1]:"linkedin-ei.com"},b=function(e){var n=e===u.MEMBER?"settings/member-cookies":"mypreferences/g/guest-cookies"
return"https://www.".concat(_(),"/").concat(n)},T=function(e,n){e&&e.length>1&&'"'==e.charAt(0)&&'"'==e.charAt(e.length-1)&&(e=e.substring(1,e.length-1))
var t,r=null
try{r=(t=e,"undefined"==typeof atob&&"undefined"!=typeof Buffer?Buffer.from(t,"base64").toString("binary"):atob(t)).match(y)}catch(e){}if(!r)return{error:"Invalid consent encoding",consent:new f}
var i=parseInt(r[1],10),a=r[2]
return 1===i?m.parseConsentBody(a,n):{error:"Invalid encoded consent version ".concat(i),consent:new f}},E=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.cookie
return e||(e=h(p,n)?h(l[u.MEMBER],n)?u.MEMBER:u.GUEST:h(l[u.GUEST],n)?u.GUEST:u.MEMBER),g(e,n)},A=function(e){var n=E(e),t=n.consent,r=e||t.userMode||u.GUEST
return{showBanner:!n.error&&!t.consentAvailable,userMode:r,managePreferenceUrl:b(r)}},S=function(e,n){var t=e.optedInConsentMap,r=e.updateSettings,i=e.userMode
n=n||function(e,n){},e.optedInConsentMap||n("optedInConsentMap is a required option",null)
var a=new XMLHttpRequest
a.open("POST","https://www.".concat(_(),"/cookie-consent/")),a.setRequestHeader("Content-Type","application/json"),a.withCredentials=!0,a.onload=function(){200!==a.status?n("Request failed with status ".concat(a.status),null):n(null,a)},a.onerror=function(){n("Request failed with an error",a)}
var o={UPDATE_SETTINGS:r,USER_MODE:i,CATEGORIES:{}}
for(var s in d){var c=void 0
!0===t[s]?c=1:!1===t[s]&&(c=2),o.CATEGORIES[s]=c}a.send(JSON.stringify(o))}},4319:(e,n,t)=>{"use strict"
var r
t.r(n),t.d(n,{CALL_TREE_ID_HEADER_NAME:()=>f,DEGRADATION_TRACKING_EVENT_FIELD:()=>b,DEGRADATION_TRACKING_EVENT_NAME:()=>l,DOWNSTREAM_REQUEST_FIELD:()=>T,DegradationTrackingMetadata:()=>B,DegradationTrackingMetadataOptionName:()=>P,FABRIC_HEADER_NAME:()=>h,FEATURE_DEGRADATION_METRIC_EVENT_NAME:()=>p,FailureTrackingMetadata:()=>Y,INSTRUMENTATION_GUIDE_PROMPT:()=>u,InternalFailureProcessingMetadata:()=>z,InternalFeatureDegradationMetricEventProducer:()=>k,InternalFeatureDegradationMetricStore:()=>N,InvalidArgumentError:()=>U,JET_NOISE_TAG:()=>S,JET_UNCLASSIFIED_ERROR_TAG:()=>A,METRIC_EMISSION_INTERVAL_IN_MS:()=>E,MICROSOFT_EDGE_REFERENCE_HEADER_NAME:()=>y,PEM_METADATA_HEADER_NAME:()=>g,PEM_RESPONSE_METADATA_HEADER_NAME:()=>v,PEM_RESPONSE_METATADA_HEADER_AVAILABILITY_KEY:()=>_,POINT_OF_PRESENCE_ID_HEADER_NAME:()=>m,ParsedResponseHeaders:()=>X,PemTrackingService:()=>J,ResponseDetails:()=>Q,RetryableDegradationTrackingMetadata:()=>q,SUPPORTED_DEGRADATION_TRACKING_METADATA_OPTIONS:()=>D,calculateSuccessfulDownstreamCallsRatio:()=>W,createDegradeEvents:()=>H,determineResponseErrorType:()=>K,generateSpanSuffix:()=>G,parseDownstreamEndpointPathname:()=>V,refineServerErrorType:()=>$,validateKey:()=>j,validateProductName:()=>F})
var i=new Uint8Array(16)
function a(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")
return r(i)}const o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=function(e){return"string"==typeof e&&o.test(e)}
for(var c=[],d=0;d<256;++d)c.push((d+256).toString(16).substr(1))
const u="See https://go/pem/degradation-tracking-user-guide for instrumentation instructions",l="FeatureDegradeEvent",p="FeatureDegradationMetricEvent",f="x-li-uuid",m="x-li-pop",y="x-msedge-ref",h="x-li-fabric",g="X-LI-PEM-Metadata",v="x-li-pem-resp-meta",_="availability",b={featureKey:"featureKey",productName:"productName",downstreamRequests:"downstreamRequests"},T={degradationKey:"degradationKey",degradationReason:"degradationReason",responseCode:"responseCode",endpointPath:"endpointPath",callTreeId:"responseCallTreeId"},E=6e4,A="pem-unclassified-error",S="noise"
class C{constructor(e,n){this._collectedFeatureMetrics=e,this._fireEventCallback=n}}class k extends C{produceMetricEvent(e){this._collectedFeatureMetrics.flushMetrics().forEach((n=>{const t=[]
n.featureCallCounts.forEach((e=>{t.push({featureProductName:e.featureMetricIdentifier.productName,featureKey:e.featureMetricIdentifier.featureKey,degradedDownstreamCallCount:e.failedApiCallCount,totalDownstreamCallCount:e.totalApiCallCount,retriedDownstreamCallCount:e.retriedApiCallCount,retriedSuccessfulDownstreamCallsRatio:e.retriedSuccessfulCallsRatio,pointOfPresenceId:e.featureMetricIdentifier.pointOfPresenceId,responseErrorTypeV2:e.featureMetricIdentifier.responseErrorType,successfulDownstreamCallsRatio:e.successfulApiCallsRatio,metricKey:{featureProductName:e.featureMetricIdentifier.productName,featureKey:e.featureMetricIdentifier.featureKey,pointOfPresenceId:e.featureMetricIdentifier.pointOfPresenceId,responseErrorTypeV2:e.featureMetricIdentifier.responseErrorType,responseFabric:e.featureMetricIdentifier.responseFabric}})}))
const r={header:{},requestHeader:{},time:Date.now(),metrics:t}
this._fireEventCallback(p,r,n.pageInstance,e)}))}}class I{constructor(e){this._featureCallCounts=new Map,this._pageInstance=e}get pageInstance(){return this._pageInstance}get featureCallCounts(){return this._featureCallCounts}}class R{constructor(e){this.featureMetricIdentifier=e}}function x(e){return JSON.stringify(e,Object.keys(e).sort())}class w extends I{trackSuccessfulFeatureApiCall(e){this.trackMetric(e,(e=>{e.successfulApiCallsRatio+=1,e.totalApiCallCount++}))}trackFailedFeatureApiCall(e,n){this.trackMetric(e,(e=>{0===n?e.failedApiCallCount++:e.successfulApiCallsRatio+=n,e.totalApiCallCount++}))}trackRetriedFeatureApiCall(e,n){this.trackMetric(e,(e=>{e.retriedApiCallCount++,e.retriedSuccessfulCallsRatio+=n}))}trackRetriedSuccessfulFeatureApiCall(e){this.trackMetric(e,(e=>{e.successfulApiCallsRatio++,e.totalApiCallCount++}))}changeRetriedMetricsToTotal(){this.featureCallCounts.forEach((e=>e.changeCallCountsFromRetriedToTotal()))}trackMetric(e,n){const t=x(e)
if(this.featureCallCounts.has(t))n(this.featureCallCounts.get(t))
else{const r=new O(e)
n(r),this.featureCallCounts.set(t,r)}}}class O extends R{constructor(){super(...arguments),this.successfulApiCallsRatio=0,this.failedApiCallCount=0,this.totalApiCallCount=0,this.retriedApiCallCount=0,this.retriedSuccessfulCallsRatio=0}mergeCallCounts(e){return this.successfulApiCallsRatio+=e.successfulApiCallsRatio,this.failedApiCallCount+=e.failedApiCallCount,this.totalApiCallCount+=e.totalApiCallCount,this.retriedApiCallCount+=e.retriedApiCallCount,this.retriedSuccessfulCallsRatio+=e.retriedSuccessfulCallsRatio,this}changeCallCountsFromRetriedToTotal(){this.totalApiCallCount+=this.retriedApiCallCount,this.successfulApiCallsRatio+=this.retriedSuccessfulCallsRatio,0===this.successfulApiCallsRatio&&(this.failedApiCallCount+=1),this.retriedApiCallCount=0,this.retriedSuccessfulCallsRatio=0}}class M{flushMetrics(){const e=[...this.metrics.values()]
return this.metrics=new Map,e}}class N extends M{constructor(){super(...arguments),this.metrics=new Map}incrementSuccessfulFeatureApiCall(e,n){this.incrementMetric(n,(n=>n.trackSuccessfulFeatureApiCall(e)))}incrementFailedFeatureApiCall(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this.incrementMetric(n,(n=>n.trackFailedFeatureApiCall(e,t)))}incrementRetriedFeatureApiCall(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this.incrementMetric(n,(n=>n.trackRetriedFeatureApiCall(e,t)))}incrementRetriedSuccessfulApiCall(e,n){this.incrementMetric(n,(n=>n.trackRetriedSuccessfulFeatureApiCall(e)))}mergeMetricsFrom(e){e.metrics.forEach(((e,n)=>{const t=this.metrics.get(n)
void 0!==t?e.featureCallCounts.forEach(((e,r)=>{var i
let a=t.featureCallCounts.get(r)
void 0!==a?a=a.mergeCallCounts(e):null===(i=this.metrics.get(n))||void 0===i||i.featureCallCounts.set(n,e)})):this.metrics.set(n,e)}))}changeRetriedMetricsToTotal(){this.metrics.forEach((e=>e.changeRetriedMetricsToTotal()))}incrementMetric(e,n){const t=x(e)
if(this.metrics.has(t))n(this.metrics.get(t))
else{const r=new w(e)
n(r),this.metrics.set(t,r)}}}var P
!function(e){e.ProductName="productName",e.AdditionalDegradedResponseCodes="additionalDegradedResponseCodes",e.NonDegradedResponseCodes="nonDegradedResponseCodes",e.DegradationKeyOverrides="degradationKeyOverrides",e.ClientSensorGroupName="clientSensorGroupName",e.EnablePerformanceMeasurement="enablePerformanceMeasurement",e.CustomTrackingId="customTrackingId",e.DisableAvailabilityCalculation="disableAvailabilityCalculation",e.EnableSessionRecording="enableSessionRecording"}(P||(P={}))
const D=new Set(Object.values(P))
class U extends Error{constructor(e){super(e),Object.setPrototypeOf(this,U.prototype)}}function L(e){return 0===e.length||!e.trim()}function F(e){if("string"!=typeof e)throw new U(`The product name must be a string. ${u}.`)
if(L(e))throw new U(`No product name was specified. Please configure a defaultProductName or specify it per instrumented API call. ${u}.`)
if(/[^a-zA-Z0-9-_ \\/]/.test(e))throw new U(`Product name '${e}' can only contain alphanumeric, underscores (_), spaces ( ), dashes (-) and forward slashes (/). ${u}.`)
return e}function j(e){if("string"!=typeof e)throw new U(`Keys must be strings. ${u}.`)
if(L(e))throw new U(`Keys should not be blank. ${u}.`)
if(/[^a-z0-9-]/.test(e))throw new U(`'${e}' can only contain lowercase alphanumeric characters and dashes (-). ${u}.`)
return e}class B{constructor(e,n,t){var r,i,a
if(this._shouldEnablePerformanceMeasurement=!1,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._featureKey=j(e),this._defaultDegradationKey=j(n),!t)return this._additionalDegradedResponseCodes=[],this._nonDegradedResponseCodes=[],void(this._degradationKeyOverrides=[])
if("object"!=typeof t)throw new U(`DegradationTrackingMetadata options should be an object. ${u}.`)
const o=t.productName
o&&(this._productName=F(o))
const s=t.additionalDegradedResponseCodes,c=t.nonDegradedResponseCodes
!function(e,n){const t=(e,n)=>{if("number"!=typeof(t=e)||!isFinite(t)||Math.floor(t)!==t||e<=0||e>999)throw new U(`Please only specify positive integer response codes between 1 and 999 for the ${n} option. ${e} was specified. ${u}.`)
var t
if(429===e||999===e)throw new U(`PEM does not consider 429 and 999 API responses indications of the real member experience because it represents LinkedIn throttling abusive requests. We drop 429s and 999s by default, so please remove them from your ${n} options.`)
if(n===P.NonDegradedResponseCodes&&e>=400&&e<500)throw new U(`For server responses that have a status code, PEM does not consider 4xx as degraded. ${e} is not considered a degradation unless you explicitly add it to the ${P.AdditionalDegradedResponseCodes} option. Please remove ${e} from the ${P.NonDegradedResponseCodes} option. ${u}.`)}
if(void 0!==e&&!Array.isArray(e))throw new U(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that shouldn't be counted as degraded for the ${P.NonDegradedResponseCodes} option. ${u}.`)
if(void 0!==n&&!Array.isArray(n))throw new U(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that should only be considered as the degraded state(s) for the ${P.AdditionalDegradedResponseCodes} option. ${u}.`)
null==e||e.forEach((e=>t(e,P.NonDegradedResponseCodes))),null==n||n.forEach((e=>t(e,P.AdditionalDegradedResponseCodes)))
const r=new Set(n),i=new Set(e)
if([...r].some((e=>i.has(e))))throw new U(`Response codes can't be both degraded and non-degraded. Please ensure that your additionalDegradedResponseCodes and nonDegradedResponseCodes don't have any overlapping response codes. ${u}.`)}(c,s),this._nonDegradedResponseCodes=c||[],this._additionalDegradedResponseCodes=s||[],this._degradationKeyOverrides=t.degradationKeyOverrides||[],this._clientSensorGroupName=t.clientSensorGroupName,this._shouldEnablePerformanceMeasurement=null!==(r=t.enablePerformanceMeasurement)&&void 0!==r&&r,this._customTrackingId=t.customTrackingId,this._shouldDisableAvailabilityCalculation=null!==(i=t.disableAvailabilityCalculation)&&void 0!==i&&i,this._shouldRecordSession=null!==(a=t.enableSessionRecording)&&void 0!==a&&a,function(e){Object.keys(e).forEach((e=>{if(!D.has(e))throw new U(`An unsupported degradation tracking option '${e}' was provided. Please fix or remove it. ${u}`)}))}(t)}static isDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(B.prototype).every((n=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),n)))}get featureKey(){return this._featureKey}get defaultDegradationKey(){return this._defaultDegradationKey}get degradationKey(){return this._defaultDegradationKey}get productName(){return this._productName}get additionalDegradedResponseCodes(){return this._additionalDegradedResponseCodes}get nonDegradedResponseCodes(){return this._nonDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationKeyOverrides}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._shouldEnablePerformanceMeasurement}get customTrackingId(){return this._customTrackingId}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}}class q{constructor(e){this._degradationTrackingMetadata=e,this._featureMetricStore=new N,this._lastRequestMetricStore=new N,this._requestsMade=0,this._trackingId=function(e,n,t){var r=(e=e||{}).random||(e.rng||a)()
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0
for(var i=0;i<16;++i)n[t+i]=r[i]
return n}return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(c[e[n+0]]+c[e[n+1]]+c[e[n+2]]+c[e[n+3]]+"-"+c[e[n+4]]+c[e[n+5]]+"-"+c[e[n+6]]+c[e[n+7]]+"-"+c[e[n+8]]+c[e[n+9]]+"-"+c[e[n+10]]+c[e[n+11]]+c[e[n+12]]+c[e[n+13]]+c[e[n+14]]+c[e[n+15]]).toLowerCase()
if(!s(t))throw TypeError("Stringified UUID is invalid")
return t}(r)}()}static isRetryableDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(q.prototype).every((n=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),n)))}get degradationTrackingMetadata(){return this._degradationTrackingMetadata}get featureMetricStore(){return this._featureMetricStore}get currentRequestSequenceId(){return this._requestsMade-1}get flowTrackingId(){return this._trackingId}get shouldDisableAvailabilityCalculation(){return this._degradationTrackingMetadata.shouldDisableAvailabilityCalculation}get featureKey(){return this._degradationTrackingMetadata.featureKey}get defaultDegradationKey(){return this._degradationTrackingMetadata.defaultDegradationKey}get productName(){return this._degradationTrackingMetadata.productName}get nonDegradedResponseCodes(){return new Set(this._degradationTrackingMetadata.nonDegradedResponseCodes)}get additionalDegradedResponseCodes(){return this._degradationTrackingMetadata.additionalDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationTrackingMetadata.degradationKeyOverrides}get customTrackingId(){return this._degradationTrackingMetadata.customTrackingId}get clientSensorGroupName(){return this._degradationTrackingMetadata.clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._degradationTrackingMetadata.shouldEnablePerformanceMeasurement}incrementRetriedFeatureApiCall(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this._requestsMade++,this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),this._lastRequestMetricStore.flushMetrics(),this._lastRequestMetricStore.incrementRetriedFeatureApiCall(e,n,t)}incrementRetriedSuccessfulApiCall(e,n){this._requestsMade++,this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),this._lastRequestMetricStore.flushMetrics(),this._lastRequestMetricStore.incrementRetriedSuccessfulApiCall(e,n)}flushMetricStoreToServiceStore(e){this._lastRequestMetricStore.changeRetriedMetricsToTotal(),this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),e.mergeMetricsFrom(this._featureMetricStore),this._featureMetricStore.flushMetrics(),this._lastRequestMetricStore.flushMetrics()}}function V(e,n){if(!e.includes("/"))return e
const t=function(e){const n=document.createElement("a")
return n.href=e,n.pathname}(e),r=t.split("/").filter((e=>e.length))
if(!n.length)return r.join("/")
const i=[]
for(let e=r.length-1;e>=0;e--){const t=r[e],a=n.indexOf(t)
a>=0?n.splice(a,1):i.push(t)}return i.reverse().join("/")}function $(e){if(e){if(e.fabric)return"SERVER_ERROR"
if(e.pointOfPresenceId)return"TRAFFIC_L0_TO_L1_ERROR"
if(e.microsoftEdgeReference)return"TRAFFIC_AFD_TO_L0_ERROR"}return"SERVER_ERROR"}function K(e){const n=e.responseError,t=e.parsedHeaders,r=e.responseCode
if(r){if(429===r||999===r)return"TOO_MANY_REQUESTS"
if(t&&!t.hasAnyLinkedInHeaders()&&r&&r>=400&&r<600)return"BLOCKED_BY_CLIENT_PROXY"
if((i=r)>=400&&i<500)return function(e){return 429===e?"TOO_MANY_REQUESTS":"CLIENT_ERROR"}(r)
if(function(e){return e>=500&&e<600}(r))return $(t)
if(function(e,n){return!!(e>=200&&e<300&&n&&n.downstreamAvailability<1)}(r,t))return"DOWNSTREAM_GRACEFUL_DEGRADATION"}var i
if(!n)return null
if(n instanceof Error){if("AbortError"===n.name)return"CLIENT_ABORTED"
if(n instanceof TypeError&&(n.message.indexOf("Network request failed")>=0||n.message.indexOf("NetworkError when attempting to fetch resource")>=0||n.message.indexOf("Failed to fetch")>=0))return"NETWORK_ERROR"}else{if("timeout"===n.statusText)return"CLIENT_TIMEOUT"
if(0===n.status&&"abort"===n.statusText)return"CLIENT_ABORTED"
if("readyState"in n&&0===n.readyState)return"NETWORK_ERROR"}return"UNCLASSIFIED"}function H(e,n,t,r){if(!(null==e?void 0:e.trim())||!n||!Array.isArray(n))return[]
const i=[],a=r.responseCode
return n.forEach((n=>{const o=n.getDegradationKey(a),s=n.shouldImpactAvailability(t)&&n.isCountedAgainstAvailability(t,a),c={endpointPath:e,degradationKey:o,responseErrorTypeV2:t,isCountedAgainstAvailability:s,downstreamServiceErrorCode:r.downstreamServiceErrorCode}
a&&(c.responseCode=a)
const d=r.parsedHeaders
d.callTreeId&&(c.responseCallTreeId=d.callTreeId),(null==d?void 0:d.pointOfPresenceId)&&(c.pointOfPresenceId=d.pointOfPresenceId),(null==d?void 0:d.microsoftEdgeReference)&&(c.microsoftEdgeReference=d.microsoftEdgeReference),(null==d?void 0:d.fabric)&&(c.fabric=d.fabric),q.isRetryableDegradationTrackingMetadata(n.retryableTrackingMetadata)&&(c.retryDetails={trackingId:n.retryableTrackingMetadata.flowTrackingId,sequenceId:n.retryableTrackingMetadata.currentRequestSequenceId}),i.push({header:{},requestHeader:{},productName:n.productName,featureKey:n.featureKey,failedDownstreamRequests:[c],customTrackingId:n.customTrackingId})})),i}function G(e){if(!e)return"-success"
switch(e){case"SERVER_ERROR":case"GRAPHQL_FULL_FAILURE":return"-server-error"
case"CLIENT_ERROR":case"TOO_MANY_REQUESTS":return"-client-error"
default:return"-misc-error"}}function W(e,n){return"DOWNSTREAM_GRACEFUL_DEGRADATION"===e?n.downstreamAvailability:0}class Y extends B{static isFailureTrackingMetadata(e){return"object"==typeof e&&(null==e?void 0:e.constructor.name)===Y.name}}class z{constructor(e,n){if(this._additionalDegradedResponseCodes=new Set,this._degradationKeyByResponseCode=new Map,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._retryableTrackingMetadata=null,!q.isRetryableDegradationTrackingMetadata(e)&&!B.isDegradationTrackingMetadata(e)&&!Y.isFailureTrackingMetadata(e))throw new U("We encountered a bug where we forgot to provide the tracking metadata as an argument. Please report it to the #pem team.")
if(!n)throw new U("We encountered a bug where we forgot to provide the product name as an argument. Please report it to the #pem team.")
this._featureKey=e.featureKey,this._productName=n,this._clientSensorGroupName=e.clientSensorGroupName,this._defaultDegradationKey=e.defaultDegradationKey
let t=B.isDegradationTrackingMetadata(e)?e:void 0
q.isRetryableDegradationTrackingMetadata(e)&&(t=e.degradationTrackingMetadata,this._retryableTrackingMetadata=e),void 0!==t?(this._nonDegradedResponseCodes=new Set(t.nonDegradedResponseCodes),this._customTrackingId=t.customTrackingId,this._shouldDisableAvailabilityCalculation=t.shouldDisableAvailabilityCalculation,this._shouldRecordSession=t.shouldRecordSession,t.additionalDegradedResponseCodes.length&&(this.processAdditionalDegradedResponseCodes(e.additionalDegradedResponseCodes),this.initializeDegradationKeyOverrides(e.degradationKeyOverrides))):(this._nonDegradedResponseCodes=new Set(e.nonDegradedResponseCodes),this._customTrackingId=e.customTrackingId,this.processAdditionalDegradedResponseCodes(e.additionalDegradedResponseCodes),this.initializeDegradationKeyOverrides(e.degradationKeyOverrides))}getDegradationKey(e){return this._degradationKeyByResponseCode.has(e)?this._degradationKeyByResponseCode.get(e):this._defaultDegradationKey}get featureKey(){return this._featureKey}get productName(){return this._productName}get customTrackingId(){return this._customTrackingId}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}get retryableTrackingMetadata(){return this._retryableTrackingMetadata}get retryMetricStore(){var e,n
return void 0!==(null===(e=this._retryableTrackingMetadata)||void 0===e?void 0:e.featureMetricStore)?null===(n=this._retryableTrackingMetadata)||void 0===n?void 0:n.featureMetricStore:null}isCountedAgainstAvailability(e,n){return null!==e&&(null==n||this.canResponseCodeCountAgainstAvailability(n))}canResponseCodeCountAgainstAvailability(e){if(this._degradationKeyByResponseCode.has(e))return!0
if(this._additionalDegradedResponseCodes.has(e))return!0
const n=e>=400&&e<500,t=this._nonDegradedResponseCodes.has(e)
return!n&&!t}shouldImpactAvailability(e,n,t){return!(e&&"CLIENT_ABORTED"===e||"BLOCKED_BY_CLIENT_PROXY"===e||!(null==t?void 0:t.hasAnyLinkedInHeaders())&&n&&n>=400&&n<600||"TOO_MANY_REQUESTS"===e)}processAdditionalDegradedResponseCodes(e){e.forEach((e=>{if(this._nonDegradedResponseCodes.has(e))throw new U(`You attempted to specify ${e} as an additional degraded response code for the '${this.featureKey}' feature, however it is also specified in the non-degraded response codes for that feature. Please decide whether you want to consider ${e} responses a degraded state or not. ${u}.`)
this._additionalDegradedResponseCodes.add(e)}))}initializeDegradationKeyOverrides(e){e.forEach((e=>{if(!e.responseCodesToOverride||!e.degradationKey||!Array.isArray(e.responseCodesToOverride)||"string"!=typeof e.degradationKey)throw new U(`Degradation key overrides must consist of an array of responseCodesToOverride and a string degradationKey. ${u}.`)
new Set(e.responseCodesToOverride).forEach((n=>{if(!this.canResponseCodeCountAgainstAvailability(n))throw new U(`A degradation key override was specified for ${n}, but that response code isn't considered degraded. Please add it to additionalDegradedResponseCodes if you want it to count against your availability.`)
this._degradationKeyByResponseCode.set(n,e.degradationKey)}))}))}}class X{constructor(e){const n=new Map
null==e||e.forEach(((e,t)=>{n.set(t.toLowerCase(),e)})),this._callTreeId=n.get(f)||null,this._pointOfPresenceId=n.get(m)||null,this._msEdgeRef=n.get(y)||null,this._fabric=n.get(h)||null,this._responseMetadata=n.get(v)||null,this._downstreamAvailability=function(e){if(null==e)return null
const n=e.split(",")
for(const e of n){const n=e.split("=",2)
if(2===n.length&&n[0]===_){const e=parseFloat(n[1])
if(e>=0&&e<=1)return e}}return null}(this._responseMetadata)||1}get callTreeId(){return this._callTreeId}get pointOfPresenceId(){return this._pointOfPresenceId}get microsoftEdgeReference(){return this._msEdgeRef}get fabric(){return this._fabric}get downstreamAvailability(){return this._downstreamAvailability}hasAnyLinkedInHeaders(){return!!(this._fabric||this._pointOfPresenceId||this._msEdgeRef||this._callTreeId)}}class Q{constructor(e,n,t,r){this._responseCode=e||null,this._parsedResponseHeaders=n?new X(n):new X,this._responseError=t||null,this._downstreamServiceErrorCode=r}get responseCode(){return this._responseCode}get parsedHeaders(){return this._parsedResponseHeaders}get responseError(){return this._responseError}set responseError(e){this._responseError=e}get downstreamServiceErrorCode(){return this._downstreamServiceErrorCode}set downstreamServiceErrorCode(e){this._downstreamServiceErrorCode=e}}class J{constructor(e,n,t){this._featureMetricStore=new N,this._defaultProductName=e,this._fireEventCallback=n,this._jetErrorCallback=t,this._metricSender=new k(this._featureMetricStore,n),window.setInterval((()=>this._metricSender.produceMetricEvent()),E),window.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&this._metricSender.produceMetricEvent(!0)}))}trackFeatureDegradationsForFetch(e,n,t,r,i){let a,o=null
const s=new Map,c=this._createFailureProcessingMetadata(t)
return n=this._getAndValidateUrlEntityIDs(n),r.then((e=>{o=e.status,e.headers.forEach(((e,n)=>s.set(n.toLowerCase(),e))),!1===e.ok&&(a=e)})).catch((e=>{throw a=e,e})).finally((()=>{this._trackResponse(e,o,n,c,i,s,a)}))}trackFeatureDegradationsForJQueryAjax(e,n,t,r,i,a){const o=n.status,s=n.getAllResponseHeaders(),c=new Map
s&&s.trim().split(/[\r\n]+/).forEach((e=>{const n=e.split(": "),t=n.shift()
if(t){const e=n.join(": ")
c.set(t.toLowerCase(),e)}}))
const d=a?null:n,u=this._createFailureProcessingMetadata(r)
t=this._getAndValidateUrlEntityIDs(t),this._trackResponse(e,o,t,u,i,c,d)}startRetryFlow(e){return J.startRetryFlow(e)}static startRetryFlow(e){return new q(e)}completeRetryFlow(e){if(!q.isRetryableDegradationTrackingMetadata(e))throw new U("retryFlowMetadata must be an instance of RetryableDegradationTrackingMetadata")
e.flushMetricStoreToServiceStore(this._featureMetricStore)}_trackResponse(e,n,t,r,i,a,o){const s=new Q(n,a,o),c=s.parsedHeaders,d=K(s),u=V(e,t),p=new Set,f=new Set
r.forEach((e=>{p.add(e.productName),f.add(e.featureKey)
const t=null!==e.retryableTrackingMetadata&&null!==e.retryMetricStore
!e.shouldDisableAvailabilityCalculation&&e.shouldImpactAvailability(d)&&(e.isCountedAgainstAvailability(d,n)?(t?e.retryableTrackingMetadata.incrementRetriedFeatureApiCall.bind(e.retryableTrackingMetadata):this._featureMetricStore.incrementFailedFeatureApiCall.bind(this._featureMetricStore))({featureKey:e.featureKey,productName:e.productName,pointOfPresenceId:c.pointOfPresenceId,responseErrorType:d,responseFabric:c.fabric},i,W(d,c)):(t?e.retryableTrackingMetadata.incrementRetriedSuccessfulApiCall.bind(e.retryableTrackingMetadata):this._featureMetricStore.incrementSuccessfulFeatureApiCall.bind(this._featureMetricStore))({featureKey:e.featureKey,productName:e.productName,pointOfPresenceId:c.pointOfPresenceId,responseFabric:c.fabric},i))})),d&&(this._reportErrorIfUnclassified(o,d,n,p,f),H(u,r,d,s).forEach((e=>{this._fireEventCallback(l,e,i)})))}_reportErrorIfUnclassified(e,n,t,r,i){var a
if((0===t||null==t)&&"UNCLASSIFIED"===n){const n=[S,A]
let t
r.forEach((e=>n.push(`pem-product-${e}`))),i.forEach((e=>n.push(`pem-feature-${e}`))),t=e instanceof Error?e:new Error(`Could not classify jQuery response: ${JSON.stringify(e)}`),null===(a=this._jetErrorCallback)||void 0===a||a.call(this,t,n,!1)}}_createFailureProcessingMetadata(e){if(!e||!Array.isArray(e)||!e.length)throw new U(`Please specify a non-empty array of degradation tracking metadata. ${u}.`)
const n=new Set
return e.map((e=>{if(!B.isDegradationTrackingMetadata(e)&&!q.isRetryableDegradationTrackingMetadata(e))throw new U(`Please use DegradationTrackingMetadata or RetryableDegradationTrackingMetadata to specify the degradations. ${u}.`)
const t=F(e.productName||this._defaultProductName),r=`${t}!!${e.featureKey}`
if(n.has(r))throw new U("More than one degradation tracking metadata has the same productName/featureKey combination. Please merge them together")
return n.add(r),new z(e,t)}))}_getAndValidateUrlEntityIDs(e){if(!Array.isArray(e))throw new U(`Please specify the queried IDs to remove from the request URL, or use an empty array if there are none. ${u}.`)
return e}}},6835:function(e){e.exports=function(){"use strict"
var e="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",n="undefined"==typeof document||"textContent"in document.createElement("div")?"textContent":"innerText",t=["b","del","em","i","s","strong","sub","sup"],r=t.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),i=[e,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|")
function a(){}function o(e,n){if(n=n||"log","undefined"!=typeof window&&window&&window.jet&&"error"===n.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[n]&&console[n](e)}new RegExp("&#?[a-zA-Z0-9]{1,10};")
var s,c,d=(c=/[&<>"'\u0000\\=]/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"�","\\":"&#92;","=":"&#61;"},function(e){return null==e?null:e.toString().replace(c,(function(e){return s[e]}))}),u=function(){var e,t,r=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi
if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")}
e=document.createElement("div")
var i={nbsp:" ",lt:"<",gt:">",amp:"&",quot:'"'}
return t="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):"�"},function(a){return null==a?null:(a+"").replace(r,(function(r,a,o,s){return a?(c=a,i.hasOwnProperty(c)?i[c]:(e.innerHTML="&"+c+";",d=e[n],i[c]=d,d)):o||s?t(parseInt(o||s,o?16:10)||65533):"�"
var c,d}))}}(),l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}
function p(e){return/[<&]/.test(e)}var f,m=Array.prototype.forEach?function(e,n){Array.prototype.forEach.call(e,n)}:function(e,n){for(var t=0,r=e.length;t<r;t++)n(e[t],t)}
function y(e){e=l(e)?e:[e]
var n,t,a,o=0,s="<(?!/?"
return s+="(?:",m(e,(function(e,c){n=e.tags||r,t=e.attrs||i,a=e.checkUrlAttrs||!1,0!==c&&(s+="|"),s+="(?:"+n.join("|")+")",s+="(?:",s+="[ \t\r\n]*",s+="|[ \t\r\n]+",s+="(?:(?:",s+="(?:"+t+")(?:=([\"'])[^'\"<>]*\\"+ ++o+")?",a&&(s+="|(?:href|src)=([\"'])(?:(?:https?|ftp|mailto|invalid)(?::|&#(?:58|x3a);)|(?:data:image/(?:gif|jpg|jpeg|png);base64,)|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++o),s+=")[ \t\r\n]*)+",s+=")"})),s+=")",s+="/?>)",new RegExp(s,"i")}function h(e){return y({tags:e=e||r,checkUrlAttrs:!0})}function g(e,n){var t=(n=n||{}).allowTags,r=!1!==n.hasCustomElementMarkup
return t?!h(t).test(e):r?!g.R_UNSAFE_CUSTOM_ELEMENT.test(e):!g.R_UNSAFE_HTML.test(e)}function v(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}function _(e,n,t){if(null==e)return null
e=e.toString()
var r=n?function(e,n){var t={}
return e.replace(/\{([^}]+)\}/g,(function(e,r){var i,o=e
if(t.hasOwnProperty(r))return t[r]
if(n.hasOwnProperty(r)){if(!((i="string"==typeof(o=n[r]))||o instanceof a||"number"==typeof o))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.")
o=i?d(o):o.toString()}return t[r]=o,o}))}(e,n):e,i=e
return p(r)&&!g(r,t)&&(r=v(r),o("Content contains tags or attributes that are not allowed:\nContent: "+i,"error")),r}function b(e,n){for(var t=+n.length,r=0,i=e.length;r<t;r++)e[i++]=n[r]
return e.length=i,e}g.R_UNSAFE_HTML=h(),g.R_UNSAFE_CUSTOM_ELEMENT=y([{tags:r,checkUrlAttrs:!0},{tags:[(f={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"}).tag],attrs:[e,f.attrs].join("|"),checkUrlAttrs:!1}])
var T={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]}
T.optgroup=T.option,T.tbody=T.tfoot=T.colgroup=T.caption=T.thead,T.th=T.td
var E=/<([\w:]+)/
function A(e,n){var t,r,i,a,o,s,c,d=n.createDocumentFragment(),u=[]
for(o=0,c=e.length;o<c;o++)if((a=e[o])||0===a)if("string"==typeof a){for(i=i||d.appendChild(n.createElement("div")),t=(E.exec(a)||["",""])[1].toLowerCase(),k(i,(r=T[t]||T._default)[1]+a+r[2]),s=r[0];s--;)i.lastChild&&i.lastChild.nodeType===Node.ELEMENT_NODE&&(i=i.lastChild)
b(u,i.childNodes),(i=d.firstChild).textContent=""}else b(u,a.nodeType?[a]:a)
for(d.textContent="",a=u[o=0];a;)d.appendChild(a),a=u[++o]
return d}var S=_,C=_
function k(e,t,r){var i=_(t,r)
return p(i)?e.innerHTML=i:e[n]=i,i}function I(e,n){if(!(this instanceof I))return new I(e,n);(n=n||{}).allowTags=n.allowTags?n.allowTags.reduce((function(e,n){return e.concat(n)}),[]):null,this._string=e,this._options=n}I.prototype=function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])
return e}(new a,{toString:function(){var e=this._string,n=this._stringVal,t=e
return void 0!==n?n:(g(e,this._options)||(t=e,e=v(e),o("UnsafeString contains tags or attributes that are not allowed.\nString: "+t,"error")),this._stringVal=e,e)}})
var R=/ /g,x=/[\s\u0000<>"]|%00/,w=/\\/,O=/([.]|%2e){2}/i,M=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])")
function N(e){var n=void 0,t="invalid://"
if("string"!=typeof e)return o("jSecure Warning: url must be a string","error"),t
if((n=e.trim()).indexOf(" ")>-1&&(o("jSecure Warning: url should not contain spaces: "+e,"warn"),n=n.replace(R,"+")),!M.test(n))return o("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),t
if(x.test(n))return o("jSecure Error: not valid url character found in url: "+e,"error"),t
var r=n.split("?")[0],i=void 0,a=!1
try{i=decodeURI(r)}catch(e){a=!0}return a?(o("jSecure Error: malformed url path detected: "+r),t):w.test(r)||O.test(r)||O.test(i)?(o("jSecure Error: malicious data found in url path: "+r,"error"),t):e}var P={redirect:function(e){window&&(window.location.href=e)}}
return{ALLOWED_TAGS:r,FORMATTING_TAGS:t,htmlEncode:d,htmlUnencode:u,log:o,mk:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r]
var i="",a=void 0,o=t.length
return e&&e.forEach((function(e,n){i+=e,n<o&&(a=t[n],i+=a instanceof I?a:d(a))})),C(i)},parseHTML:function(e,n){var t
if(n=n||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)t=A([e],n)
else{if(!l(e))return e
t=A(e,n)}return b([],t.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:S,reEncode:function(e){return d(u(e))},_redirector:P,redirect:function(e){var n=N(e)
n===e&&P.redirect(n)},sanitizeHTML:C,sanitizeUrl:N,setElementContent:k,text:function(e){return o("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),d(e)},unsafe:function(e){return e},UnsafeString:I}}()},686:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{INPAGE_URL:()=>i,getShimmedLink:()=>c,initAnchorLinkShim:()=>p,isExternalLink:()=>s,removeAnchorLinkShim:()=>f})
var r=["linkedin.com","linkedin.cn","linkedin-ei.com","linkedin-ei.cn","lynda.com"],i="https://www.linkedin.com/safety/go",a=new RegExp(/^http(s)?:\/\/.*/)
function o(e){return e?(e=(e=(e=(e=(e=e.replace(/(https?:\/\/)?(www.)?/i,"")).includes("/")?e.split("/")[0]:e).includes("@")?e.split("@")[1]:e).includes(":")?e.split(":")[0]:e).split(".")).slice(e.length-2).join("."):(console.warn("Called getDomain with empty url"),e)}function s(e){var n
return!(!function(e){return!(!e||"string"!=typeof e||!e.match(1<arguments.length&&void 0!==arguments[1]?arguments[1]:a))}(e)||(e=o(e))===o(null==(n=window)?void 0:n.location.host)||-1!==r.indexOf(e))}function c(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}
if(s(e)){var t,r=i+"?url=".concat(encodeURIComponent(e))
for(t in n)r+="&"+t+"="+encodeURIComponent(n[t])
return r}return e}function d(e,n){return n instanceof HTMLAnchorElement?n:e instanceof HTMLAnchorElement?e:n===e||null===n?null:n.parentElement instanceof HTMLAnchorElement?n.parentElement:d(e,n.parentElement)}function u(e){return function(n){(n=n.currentTarget instanceof HTMLElement&&n.target instanceof HTMLElement?d(n.currentTarget,n.target):null)&&(n.href=c(n.href,e),n.removeAttribute("rel"))}}function l(e){return function(n){var t=n.currentTarget instanceof HTMLElement&&n.target instanceof HTMLElement?d(n.currentTarget,n.target):null
"Enter"===n.key&&t&&(t.href=c(t.href,e),t.removeAttribute("rel"))}}function p(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}
e instanceof HTMLElement?(e.addEventListener("mousedown",u(n)),e.addEventListener("keydown",l(n))):console.warn("attempting to `initAnchorLinkShim()` on non-`HTMLElement` item ".concat(e))}function f(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}
console.error("removeAnchorLinkShim is deprecated and does nothing. Please remove this call (with element ".concat(e," and params ").concat(JSON.stringify(n)))}},588:function(e){var n
"undefined"!=typeof self&&self,n=function(){return function(e){var n={}
function t(r){if(n[r])return n[r].exports
var i=n[r]={i:r,l:!1,exports:{}}
return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e}
return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="/",t(t.s=62)}([function(e,n){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")()
"number"==typeof __g&&(__g=t)},function(e,n,t){var r=t(30)("wks"),i=t(21),a=t(0).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r},function(e,n){var t=e.exports={version:"2.6.11"}
"number"==typeof __e&&(__e=t)},function(e,n,t){var r=t(4),i=t(44),a=t(28),o=Object.defineProperty
n.f=t(5)?Object.defineProperty:function(e,n,t){if(r(e),n=a(n,!0),r(t),i)try{return o(e,n,t)}catch(e){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!")
return"value"in t&&(e[n]=t.value),e}},function(e,n,t){var r=t(8)
e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!")
return e}},function(e,n,t){e.exports=!t(14)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(e,n,t){var r=t(0),i=t(2),a=t(17),o=t(7),s=t(9),c=function(e,n,t){var d,u,l,p=e&c.F,f=e&c.G,m=e&c.S,y=e&c.P,h=e&c.B,g=e&c.W,v=f?i:i[n]||(i[n]={}),_=v.prototype,b=f?r:m?r[n]:(r[n]||{}).prototype
for(d in f&&(t=n),t)(u=!p&&b&&void 0!==b[d])&&s(v,d)||(l=u?b[d]:t[d],v[d]=f&&"function"!=typeof b[d]?t[d]:h&&u?a(l,r):g&&b[d]==l?function(e){var n=function(n,t,r){if(this instanceof e){switch(arguments.length){case 0:return new e
case 1:return new e(n)
case 2:return new e(n,t)}return new e(n,t,r)}return e.apply(this,arguments)}
return n.prototype=e.prototype,n}(l):y&&"function"==typeof l?a(Function.call,l):l,y&&((v.virtual||(v.virtual={}))[d]=l,e&c.R&&_&&!_[d]&&o(_,d,l)))}
c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,n,t){var r=t(3),i=t(19)
e.exports=t(5)?function(e,n,t){return r.f(e,n,i(1,t))}:function(e,n,t){return e[n]=t,e}},function(e,n){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,n){var t={}.hasOwnProperty
e.exports=function(e,n){return t.call(e,n)}},function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=window||e}).call(n,t(40))},function(e,n,t){var r=t(68),i=t(26)
e.exports=function(e){return r(i(e))}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.PROD_REGEX=/^((?!\.(stg|corp)).)*\.linkedin\.(com|cn)$/,n.UDO_KEY="utag_data",n.CDN_HOSTNAME_PROD="platform.linkedin.com",n.CDN_HOSTNAME_EI="platform.linkedin-ei.com",n.CN_CDN_HOSTNAME_PROD="platform.linkedin.cn",n.CN_CDN_HOSTNAME_EI="platform.linkedin-ei.cn",n.COOKIE_CONSENT_CHECK_INTERVAL=2e3,n.ROOT_HOSTNAME_EI="www.linkedin-ei.com",n.ROOT_HOSTNAME_PROD="www.linkedin.com",n.CN_ROOT_HOSTNAME_EI="www.linkedin-ei.cn",n.CN_ROOT_HOSTNAME_PROD="www.linkedin.cn",n.UTAG_GLOBAL_OBJECT_KEY="utag",n.UTAG_CONFIG_OVERRIDE_OBJECT_KEY="utag_cfg_ovrd",n.CUSTOM_EVENTS_TMS_LOAD_EVENT="TagManagementSystemLoadEvent",n.CUSTOM_EVENTS_TAG_FIRE_AUDIT_EVENT="ExternalMarketingTagFireEvent",n.TAG_MANAGEMENT_SYSTEM_USED="tealium",n.USER_METADATA_PATH="/litms/api/metadata/user",n.TRACKING_EVENT_DEBUG_DATA="trackingEventDebugData",n.REFRESH_ON_COOKIE_CONSENT_PROPERTY="entity.refreshOnCookieConsent"},function(e,n){e.exports=!0},function(e,n){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,n){e.exports={}},function(e,n){var t={}.toString
e.exports=function(e){return t.call(e).slice(8,-1)}},function(e,n,t){var r=t(18)
e.exports=function(e,n,t){if(r(e),void 0===n)return e
switch(t){case 1:return function(t){return e.call(n,t)}
case 2:return function(t,r){return e.call(n,t,r)}
case 3:return function(t,r,i){return e.call(n,t,r,i)}}return function(){return e.apply(n,arguments)}}},function(e,n){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")
return e}},function(e,n){e.exports=function(e,n){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:n}}},function(e,n,t){var r=t(47),i=t(31)
e.exports=Object.keys||function(e){return r(e,i)}},function(e,n){var t=0,r=Math.random()
e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++t+r).toString(36))}},function(e,n,t){var r=t(3).f,i=t(9),a=t(1)("toStringTag")
e.exports=function(e,n,t){e&&!i(e=t?e:e.prototype,a)&&r(e,a,{configurable:!0,value:n})}},function(e,n,t){e.exports={default:t(85),__esModule:!0}},function(e,n,t){"use strict"
n.__esModule=!0
var r=o(t(63)),i=o(t(75)),a="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e}
function o(e){return e&&e.__esModule?e:{default:e}}n.default="function"==typeof i.default&&"symbol"===a(r.default)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":a(e)}},function(e,n){var t=Math.ceil,r=Math.floor
e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:t)(e)}},function(e,n){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e)
return e}},function(e,n,t){var r=t(8),i=t(0).document,a=r(i)&&r(i.createElement)
e.exports=function(e){return a?i.createElement(e):{}}},function(e,n,t){var r=t(8)
e.exports=function(e,n){if(!r(e))return e
var t,i
if(n&&"function"==typeof(t=e.toString)&&!r(i=t.call(e)))return i
if("function"==typeof(t=e.valueOf)&&!r(i=t.call(e)))return i
if(!n&&"function"==typeof(t=e.toString)&&!r(i=t.call(e)))return i
throw TypeError("Can't convert object to primitive value")}},function(e,n,t){var r=t(30)("keys"),i=t(21)
e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,n,t){var r=t(2),i=t(0),a="__core-js_shared__",o=i[a]||(i[a]={});(e.exports=function(e,n){return o[e]||(o[e]=void 0!==n?n:{})})("versions",[]).push({version:r.version,mode:t(13)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,n){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,n,t){var r=t(26)
e.exports=function(e){return Object(r(e))}},function(e,n,t){n.f=t(1)},function(e,n,t){var r=t(0),i=t(2),a=t(13),o=t(33),s=t(3).f
e.exports=function(e){var n=i.Symbol||(i.Symbol=a?{}:r.Symbol||{})
"_"==e.charAt(0)||e in n||s(n,e,{value:o.f(e)})}},function(e,n){n.f={}.propertyIsEnumerable},function(e,n,t){e.exports={default:t(88),__esModule:!0}},function(e,n,t){"use strict"
var r=t(18)
function i(e){var n,t
this.promise=new e((function(e,r){if(void 0!==n||void 0!==t)throw TypeError("Bad Promise constructor")
n=e,t=r})),this.resolve=r(n),this.reject=r(t)}e.exports.f=function(e){return new i(e)}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.shouldRefreshOnCookieConsent=n.isDebugMode=n.generateCacheBuster=n.assign=void 0
var r=o(t(23)),i=t(12),a=o(t(10))
function o(e){return e&&e.__esModule?e:{default:e}}n.assign=function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]
if(t)for(var i=(0,r.default)(t),a=0;a<i.length;a++){var o=i[a]
e[o]=t[o]}}return e},n.generateCacheBuster=function(e){var n=new a.default.Date
n.setSeconds(0),n.setMilliseconds(0)
var t=Math.floor(n.getMinutes()/e)*e
return n.setMinutes(t),n.getTime()},n.isDebugMode=function(){return/utagdb=[^;]+/.test(a.default.document.cookie)},n.shouldRefreshOnCookieConsent=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]
return!!Array.isArray(e)&&e.some((function(e){var n=e.data[i.REFRESH_ON_COOKIE_CONSENT_PROPERTY]
return"boolean"==typeof n?n:"string"==typeof n&&"true"===n.toLowerCase()}))}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0})
var r="undefined"!=typeof window&&window&&"node"!==window.appEnvironment
n.default=r},function(e,n){var t
t=function(){return this}()
try{t=t||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(t=window)}e.exports=t},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.getAPIHostname=n.getCDNHostname=n.isProd=void 0
var r,i=(r=t(10))&&r.__esModule?r:{default:r},a=function(e){if(e&&e.__esModule)return e
var n={}
if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])
return n.default=e,n}(t(12))
function o(){var e=i.default.location?i.default.location.hostname:""
return a.PROD_REGEX.test(e)}function s(){var e=i.default.location?i.default.location.hostname:""
return/\.cn$/.test(e)}n.isProd=o,n.getCDNHostname=function(){return o()?s()?a.CN_CDN_HOSTNAME_PROD:a.CDN_HOSTNAME_PROD:s()?a.CN_CDN_HOSTNAME_EI:a.CDN_HOSTNAME_EI},n.getAPIHostname=function(){return o()?s()?a.CN_ROOT_HOSTNAME_PROD:a.ROOT_HOSTNAME_PROD:s()?a.CN_ROOT_HOSTNAME_EI:a.ROOT_HOSTNAME_EI}},function(e,n,t){"use strict"
var r=t(65)(!0)
t(43)(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,n=this._t,t=this._i
return t>=n.length?{value:void 0,done:!0}:(e=r(n,t),this._i+=e.length,{value:e,done:!1})}))},function(e,n,t){"use strict"
var r=t(13),i=t(6),a=t(45),o=t(7),s=t(15),c=t(66),d=t(22),u=t(71),l=t(1)("iterator"),p=!([].keys&&"next"in[].keys()),f="keys",m="values",y=function(){return this}
e.exports=function(e,n,t,h,g,v,_){c(t,n,h)
var b,T,E,A=function(e){if(!p&&e in I)return I[e]
switch(e){case f:case m:return function(){return new t(this,e)}}return function(){return new t(this,e)}},S=n+" Iterator",C=g==m,k=!1,I=e.prototype,R=I[l]||I["@@iterator"]||g&&I[g],x=R||A(g),w=g?C?A("entries"):x:void 0,O="Array"==n&&I.entries||R
if(O&&(E=u(O.call(new e)))!==Object.prototype&&E.next&&(d(E,S,!0),r||"function"==typeof E[l]||o(E,l,y)),C&&R&&R.name!==m&&(k=!0,x=function(){return R.call(this)}),r&&!_||!p&&!k&&I[l]||o(I,l,x),s[n]=x,s[S]=y,g)if(b={values:C?x:A(m),keys:v?x:A(f),entries:w},_)for(T in b)T in I||a(I,T,b[T])
else i(i.P+i.F*(p||k),n,b)
return b}},function(e,n,t){e.exports=!t(5)&&!t(14)((function(){return 7!=Object.defineProperty(t(27)("div"),"a",{get:function(){return 7}}).a}))},function(e,n,t){e.exports=t(7)},function(e,n,t){var r=t(4),i=t(67),a=t(31),o=t(29)("IE_PROTO"),s=function(){},c=function(){var e,n=t(27)("iframe"),r=a.length
for(n.style.display="none",t(49).appendChild(n),n.src="javascript:",(e=n.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[a[r]]
return c()}
e.exports=Object.create||function(e,n){var t
return null!==e?(s.prototype=r(e),t=new s,s.prototype=null,t[o]=e):t=c(),void 0===n?t:i(t,n)}},function(e,n,t){var r=t(9),i=t(11),a=t(69)(!1),o=t(29)("IE_PROTO")
e.exports=function(e,n){var t,s=i(e),c=0,d=[]
for(t in s)t!=o&&r(s,t)&&d.push(t)
for(;n.length>c;)r(s,t=n[c++])&&(~a(d,t)||d.push(t))
return d}},function(e,n,t){var r=t(25),i=Math.min
e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,n,t){var r=t(0).document
e.exports=r&&r.documentElement},function(e,n,t){t(72)
for(var r=t(0),i=t(7),a=t(15),o=t(1)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var d=s[c],u=r[d],l=u&&u.prototype
l&&!l[o]&&i(l,o,d),a[d]=a.Array}},function(e,n){n.f=Object.getOwnPropertySymbols},function(e,n,t){var r=t(47),i=t(31).concat("length","prototype")
n.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,n){},function(e,n,t){var r=t(16),i=t(1)("toStringTag"),a="Arguments"==r(function(){return arguments}())
e.exports=function(e){var n,t,o
return void 0===e?"Undefined":null===e?"Null":"string"==typeof(t=function(e,n){try{return e[n]}catch(e){}}(n=Object(e),i))?t:a?r(n):"Object"==(o=r(n))&&"function"==typeof n.callee?"Arguments":o}},function(e,n,t){var r=t(4),i=t(18),a=t(1)("species")
e.exports=function(e,n){var t,o=r(e).constructor
return void 0===o||null==(t=r(o)[a])?n:i(t)}},function(e,n,t){var r,i,a,o=t(17),s=t(95),c=t(49),d=t(27),u=t(0),l=u.process,p=u.setImmediate,f=u.clearImmediate,m=u.MessageChannel,y=u.Dispatch,h=0,g={},v=function(){var e=+this
if(g.hasOwnProperty(e)){var n=g[e]
delete g[e],n()}},_=function(e){v.call(e.data)}
p&&f||(p=function(e){for(var n=[],t=1;arguments.length>t;)n.push(arguments[t++])
return g[++h]=function(){s("function"==typeof e?e:Function(e),n)},r(h),h},f=function(e){delete g[e]},"process"==t(16)(l)?r=function(e){l.nextTick(o(v,e,1))}:y&&y.now?r=function(e){y.now(o(v,e,1))}:m?(a=(i=new m).port2,i.port1.onmessage=_,r=o(a.postMessage,a,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",_,!1)):r="onreadystatechange"in d("script")?function(e){c.appendChild(d("script")).onreadystatechange=function(){c.removeChild(this),v.call(e)}}:function(e){setTimeout(o(v,e,1),0)}),e.exports={set:p,clear:f}},function(e,n){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,n,t){var r=t(4),i=t(8),a=t(37)
e.exports=function(e,n){if(r(e),i(n)&&n.constructor===e)return n
var t=a.f(e)
return(0,t.resolve)(n),t.promise}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.UTAG_CACHE_BUSTER_INTERVAL_IN_MINUTES_DEFAULT=n.createLoadRulesCompletedListenerForUTag=n.setGlobalUTagReference=n.cleanUpGlobalUTagReferences=n.getUTagFromGlobalReference=n.getTagsFired=n.processQueuedEvents=n.trackControlInteraction=n.trackPageView=n.loadScript=n.constructContainerTagUrl=void 0
var r=p(t(23)),i=p(t(36)),a=p(t(10)),o=l(t(12)),s=l(t(41)),c=t(60),d=t(38),u=p(t(39))
function l(e){if(e&&e.__esModule)return e
var n={}
if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])
return n.default=e,n}function p(e){return e&&e.__esModule?e:{default:e}}a.default[o.UTAG_CONFIG_OVERRIDE_OBJECT_KEY]=a.default[o.UTAG_CONFIG_OVERRIDE_OBJECT_KEY]||{},a.default[o.TRACKING_EVENT_DEBUG_DATA]=a.default[o.TRACKING_EVENT_DEBUG_DATA]||[],a.default[o.UTAG_CONFIG_OVERRIDE_OBJECT_KEY].noview=!0,a.default[o.UTAG_CONFIG_OVERRIDE_OBJECT_KEY].nocookie=!0
var f=void 0
function m(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,t=null
return"string"==typeof e&&(t="https://"+s.getCDNHostname()+"/litms/utag/"+e+"/utag.js?cb="+(0,d.generateCacheBuster)(n)),t}function y(){return function(){if(void 0===f&&u.default){var e=a.default.document.cookie.match(/litms_utag_override=([^;]+)/)
f=e?e[1]:""}return f}().length>0}function h(e,n,t,r){e.onLoadRulesRunOnce(t)
var i=(0,d.assign)({},n,(0,c.getUpdatedSharedEventData)(r))
e.view(i),(0,d.isDebugMode)()&&a.default[o.TRACKING_EVENT_DEBUG_DATA].push({profileName:r,eventType:"PV",trackingData:i})}function g(e,n,t,r){e.onLoadRulesRunOnce(t)
var i=(0,d.assign)({},n,(0,c.getUpdatedSharedEventData)())
e.link(i),(0,d.isDebugMode)()&&a.default[o.TRACKING_EVENT_DEBUG_DATA].push({profileName:r,eventType:"CI",trackingData:i})}function v(e){a.default[o.UTAG_GLOBAL_OBJECT_KEY]=e}n.constructContainerTagUrl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",n=arguments[1]
return y()?f:m(e,n)},n.loadScript=function(e){return new i.default((function(n){var t=a.default.document.createElement("script")
t.type="text/javascript",t.src=e,t.async=!0,t.onload=n,a.default.document.getElementsByTagName("head")[0].appendChild(t)}))},n.trackPageView=h,n.trackControlInteraction=g,n.processQueuedEvents=function(e,n,t){if(v(e),n instanceof Array&&n.length>0)for(var r=n.length,i=0;i<r;i++){var a=n.shift()
a.isControlInteraction?g(e,a.data,a.callback,t):h(e,a.data,a.callback,t)}},n.getTagsFired=function(e){return(0,r.default)(e.loader.cfg).filter((function(n){return 1===e.loader.cfg[n].send&&0!==e.loader.cfg[n].load}))},n.getUTagFromGlobalReference=function(){return a.default[o.UTAG_GLOBAL_OBJECT_KEY]},n.cleanUpGlobalUTagReferences=function(){void 0!==a.default[o.UTAG_GLOBAL_OBJECT_KEY]&&(a.default[o.UTAG_GLOBAL_OBJECT_KEY]=void 0),void 0!==a.default[o.UDO_KEY]&&(a.default[o.UDO_KEY]=void 0)},n.setGlobalUTagReference=v,n.createLoadRulesCompletedListenerForUTag=function(e){var n=[]
e.onLoadRulesRunOnce=function(e){n.push(e)}
var t=e.loader.initcfg
e.loader.initcfg=function(){if(t.call(this,arguments),n.length>0){var e=n.shift()
e()}}},n.UTAG_CACHE_BUSTER_INTERVAL_IN_MINUTES_DEFAULT=5},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.getUpdatedSharedEventData=n.addInUpdatedComplianceObjectFromConsentCookie=n.sharedEventData=n.addSharedEventData=n.getAllowlistForProfile=n.getUserSettings=n.UDO=void 0
var r=f(t(23)),i=f(t(24)),a=f(t(36)),o=f(t(10)),s=p(t(12)),c=t(41),d=t(108),u=p(t(109)),l=t(38)
function p(e){if(e&&e.__esModule)return e
var n={}
if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])
return n.default=e,n}function f(e){return e&&e.__esModule?e:{default:e}}var m=void 0,y={},h={},g=o.default[s.UDO_KEY]||(o.default[s.UDO_KEY]={})
function v(e,n){var t=(0,l.assign)({},e),r=n+"."+n,i=e[r+".isEnterpriseUser"]||e[n+".isEnterpriseUser"],a=e[r+".isBoundUser"]||e[n+".isBoundUser"],o=i&&!a
return t["compliance.isAdvertisingOptIn"]=!o&&u.getUpdatedUserAdvertisingOptIn(t),t["compliance.isAnalyticsAndResearchOptIn"]=u.getUpdatedUserAnalyticsAndResearchOptIn(t),t["compliance.isFunctionalOptIn"]=u.getUpdatedUserFunctionalOptIn(t),t}n.UDO=g,n.getUserSettings=function(){if(!m){var e="https://"+(0,c.getAPIHostname)()+s.USER_METADATA_PATH
m=new a.default((function(n,t){(0,d.get)(e,(function(e){try{n(JSON.parse(e))}catch(e){console.error("Invalid JSON format of userSettings"),t(e)}}),(function(e){t(e)}))}))}return m},n.getAllowlistForProfile=function(e){if(!h[e]){var n=function(e){return"https://"+(0,c.getCDNHostname)()+"/litms/allowlist/"+encodeURIComponent(e)}(e),t=new a.default((function(e,t){(0,d.get)(n,(function(n){e(JSON.parse(n))}),(function(e){t(e)}),!1)}))
h[e]=t}return h[e]},n.addSharedEventData=function(e,n){var t="string"!=typeof n?"":n+"."
"object"===(void 0===e?"undefined":(0,i.default)(e))&&(0,r.default)(e).forEach((function(n){y[t+n]=e[n]}))},n.sharedEventData=y,n.addInUpdatedComplianceObjectFromConsentCookie=v,n.getUpdatedSharedEventData=function(e){return v(y,e)}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),function(e){function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){(null==n||n>e.length)&&(n=e.length)
for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t]
return r}t.d(n,"NON_ESSENTIAL_CATEGORIES",(function(){return g})),t.d(n,"USER_MODE",(function(){return v})),t.d(n,"getBannerData",(function(){return N})),t.d(n,"getCookieConsent",(function(){return M})),t.d(n,"parseEncodedConsent",(function(){return O})),t.d(n,"updateCookieConsent",(function(){return P}))
var o=new RegExp("urn:[^:]+:([a-z]\\w*)(?::(.+))?"),s=/^fs_/
function c(e){if("string"!=typeof e)throw new TypeError("URNs must be of type string, but the parameter passed to extractEntityInfoFromUrn was of type "+typeof e+".")
var n,t,r=o.exec(e)
return r&&(n=r[1].replace(s,""),t=r[2]),{id:t,type:n}}var d,u,l,p,f,m,y=/(?![^(]*\)),/,h=function e(n){var t=c(n),r=t.id,i=t.type,a={}
if("("===r.charAt(0)){for(var o,s=r.substring(1,r.length-1).split(y),d=0;o=s[d];++d)0===o.indexOf("urn")&&(s[d]=e(o))
r=s}return a[i]=r,a},g={ADVERTISING:"ADVERTISING",ANALYTICS_AND_RESEARCH:"ANALYTICS_AND_RESEARCH",FUNCTIONAL:"FUNCTIONAL"},v={GUEST:"GUEST",MEMBER:"MEMBER",ENTERPRISE_UNBOUND:"ENTERPRISE_UNBOUND"},_=(i(d={},v.GUEST,"li_gc"),i(d,v.MEMBER,"li_mc"),i(d,v.ENTERPRISE_UNBOUND,"li_ec"),d),b=(i(u={},v.GUEST,"mypreferences/g/guest-cookies"),i(u,v.MEMBER,"settings/member-cookies"),i(u,v.ENTERPRISE_UNBOUND,"settings/cookies"),u),T="liap",E=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null
for(var o in r(this,e),n=n||{},this.consentAvailable=!1,this.issuedAt=t,this.userMode=i,this.optedInConsentMap={},g)n[o]=n[o]||0,0!==n[o]&&(this.consentAvailable=!0),this.optedInConsentMap[o]=1===n[o]||0===n[o]&&1===a},A=(l=[g.ADVERTISING,g.ANALYTICS_AND_RESEARCH,g.FUNCTIONAL],p=[0,1,2,0],f=function(e){for(var n={},t=0;t<l.length;t++)n[l[t]]=p[e>>2*t&3]
return n},m=function(e){var n=0
return e>=0&&e<=3&&(n=p[e]),n},{parseConsentBody:function(e,n){var t=new RegExp(["^(\\d+)","(\\d+)","(\\d+)","((?:.|\\s)+)"].join(";")),r=e.match(t)
if(!r)return{error:"Invalid consent body encoding",consent:new E}
var i=f(parseInt(r[1],10)),a=new Date(1e3*parseInt(r[2],10)),o=m(parseInt(r[3],10))
return{error:null,consent:new E(i,a,n,o)}},parseConsentBodyEnterpriseUnbound:function(e,n,t){var r=function(e){try{var n=h(e)
if(n&&n.enterpriseProfile&&n.enterpriseProfile.length>=2&&n.enterpriseProfile[0].enterpriseAccount)return{enterpriseAccountId:parseInt(n.enterpriseProfile[0].enterpriseAccount,10),enterpriseProfileId:parseInt(n.enterpriseProfile[1],10)}}catch(e){return null}return null}(n)
if(!r)return{error:"Invalid enterprise profile urn provided",consent:new E}
var i=r.enterpriseAccountId,o=r.enterpriseProfileId,s=new RegExp(["^((?:\\d+,\\d+,\\d+,\\d+,\\d+)(?:\\|(?:\\d+,\\d+,\\d+,\\d+,\\d+))*)","(\\d+)","(\\d+)","(?:(?:.|\\s)+)$"].join(";")),c=e.match(s)
if(!c)return{error:"Invalid consent body encoding",consent:new E}
var d=c[1].split("|").map((function(e){return e.split(",").map((function(e){return parseInt(e,10)}))})).filter((function(e){var n,r=(4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var t=[],r=!0,i=!1,a=void 0
try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),4!==t.length);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return t}}(n)||function(e,n){if(e){if("string"==typeof e)return a(e,4)
var t=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,4):void 0}}(n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),s=r[1],c=r[2],d=r[3]
return s===i&&c===o&&d===t}))[0]
if(!d)return{error:null,consent:new E}
var u=f(d[0]),l=new Date(1e3*parseInt(c[2],10)),p=m(parseInt(c[3],10))
return{error:null,consent:new E(u,l,v.ENTERPRISE_UNBOUND,p)}}}),S=new RegExp(["^(\\d+)","((?:.|\\s)+)"].join(";")),C=function(e,n){var t=n.match(new RegExp("(?:^|; *)".concat(e,"=([^;]*)")))
return t&&t.length>1?t[1]:null},k=function(e,n,t,r){var i=C(_[e],n)
return i?O(i,e,t,r):C(_[v.GUEST],n)||C(_[v.MEMBER],n)||C(_[v.ENTERPRISE_UNBOUND],n)?I(2):I(1)},I=function(e){var n={}
for(var t in g)n[t]=e
return{error:null,consent:new E(n,null,null,e)}},R=function(){var e=document.domain.match(/^(?:|.*\.)([^\.]+\.[^\.]+)$/)
return e?e[1]:"linkedin-ei.com"},x=function(e){var n=b[e]
return"https://www.".concat(R(),"/").concat(n)},w=function(){return"undefined"==typeof document},O=function(n,t,r,i){n&&n.length>1&&'"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1))
var a,o=null
try{o=(a=n,"undefined"==typeof atob&&void 0!==e?e.from(a,"base64").toString("binary"):atob(a)).match(S)}catch(e){}if(!o)return{error:"Invalid consent encoding",consent:new E}
var s=parseInt(o[1],10),c=o[2]
return 1===s?t===v.ENTERPRISE_UNBOUND?A.parseConsentBodyEnterpriseUnbound(c,r,i):A.parseConsentBody(c,t):{error:"Invalid encoded consent version ".concat(s),consent:new E}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.enterpriseProfileUrn,i=t.enterpriseAppInstanceId
if("string"!=typeof n){if(w())return{error:"cookie string must be provided in SSR mode",consent:new E}
n=document.cookie}if(r&&!i||!r&&i)return{error:"enterpriseProfileUrn and enterpriseAppInstanceId must both be provided if at least one is provided",consent:new E}
if(!(e!==v.ENTERPRISE_UNBOUND||r&&i))return{error:"enterpriseProfileUrn and enterpriseAppInstanceId are required for unbound userMode",consent:new E}
if(!e){var a=C(_[v.ENTERPRISE_UNBOUND],n)
if(a&&r&&i){var o=O(a,v.ENTERPRISE_UNBOUND,r,i),s=o.consent.userMode===v.ENTERPRISE_UNBOUND
if(s||o.error)return o}e=C(T,n)?C(_[v.MEMBER],n)?v.MEMBER:v.GUEST:C(_[v.GUEST],n)?v.GUEST:v.MEMBER}return k(e,n,r,i)},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=M(e,document.cookie,n),r=t.consent,i=e||r.userMode||v.GUEST
return{showBanner:!t.error&&!r.consentAvailable,userMode:i,managePreferenceUrl:x(i)}},P=function(e,n){var t=e.optedInConsentMap,r=e.updateSettings,i=e.userMode,a=e.xLiTrackPayload,o=e.enterpriseContext||{},s=o.enterpriseProfileHash,c=o.enterpriseAppInstanceId
n=n||function(e,n){}
var d=C(_[v.ENTERPRISE_UNBOUND],document.cookie)
t||n("optedInConsentMap is a required option",null)
var u=new XMLHttpRequest,l=new URLSearchParams
d&&c&&l.append("appInstanceId",c)
var p=Array.from(l).length?"?"+l.toString():""
u.open("POST","https://www.".concat(R(),"/cookie-consent/").concat(p)),u.setRequestHeader("Content-Type","application/json"),a&&u.setRequestHeader("X-LI-Track",a),d&&s&&u.setRequestHeader("x-li-identity",s),u.withCredentials=!0,u.onload=function(){200!==u.status?n("Request failed with status ".concat(u.status),null):n(null,u)},u.onerror=function(){n("Request failed with an error",u)}
var f={UPDATE_SETTINGS:r,USER_MODE:i,CATEGORIES:{}}
for(var m in g){var y=void 0
!0===t[m]?y=1:!1===t[m]&&(y=2),f.CATEGORIES[m]=y}u.send(JSON.stringify(f))}}.call(n,t(110).Buffer)},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.getInstanceForProfile=n.addSharedEventData=void 0
var r=g(t(24)),i=g(t(23)),a=g(t(36)),o=g(t(103)),s=g(t(104)),c=h(t(59)),d=h(t(114)),u=t(60),l=t(38),p=g(t(115)),f=t(61),m=g(t(39)),y=t(12)
function h(e){if(e&&e.__esModule)return e
var n={}
if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])
return n.default=e,n}function g(e){return e&&e.__esModule?e:{default:e}}var v={},_=void 0,b={},T=void 0,E=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.profileName,r=n.tracking2Instance,i=n.enableAllowlisting,s=void 0!==i&&i,c=n.cacheBusterInterval;(0,o.default)(this,e),this.isInitialized=!1,this.isAllowlistingEnabled=!1,this._allowlistReadyPromise=a.default.resolve({}),this.isContainerTagLoaded=!1,this._queue=[],this.allowlist={pageKey:{},controlUrn:{}},this.tracking2Instance=r,this.profileName=t,this.enableAllowlisting=s,this.cacheBusterInterval=c}return(0,s.default)(e,[{key:"initialize",value:function(){var e=this
return this._shouldInitialize()?this.isInitialized?(console.warn("Initialize should not be called more that once"),this.initializePromise.then()):(m.default&&(sessionStorage.getItem("utagLandingPage")||sessionStorage.setItem("utagLandingPage",window.location.href)),this.isInitialized=!0,this.initializePromise=new a.default((function(n,t){e.enableAllowlisting?(e.isAllowlistingEnabled=!0,e._onInitializeSuccessCallback=n,e._onInitializeFailureCallback=t,e._allowlistReadyPromise=(0,u.getAllowlistForProfile)(e.profileName).then((function(n){return e._processAllowlistResult(n)})).catch((function(n){return console.error("Unable to retrieve allowlists for profile : "+e.profileName,n)}))):e._loadContainerTag(n,t)})),this.profileName&&(v[this.profileName]=this),this.initializePromise):a.default.resolve()}},{key:"_processAllowlistResult",value:function(e){var n=this;(0,i.default)(e).forEach((function(t){return n.addValuesToAllowlist(t,e[t])}))}},{key:"_loadContainerTag",value:function(e,n){var t=this
c.cleanUpGlobalUTagReferences()
var o=(0,u.getUserSettings)().then((function(e){(0,i.default)(e).forEach((function(n){(0,u.addSharedEventData)(e[n],n)}))})).catch((function(e){console.error("Unable to get user settings while calling loading container tag",e)})),s=c.loadScript(c.constructContainerTagUrl(this.profileName,this.cacheBusterInterval))
a.default.all([o,s]).then((function(){t.isContainerTagLoaded=!0,t._uTag=c.getUTagFromGlobalReference(),c.createLoadRulesCompletedListenerForUTag(t._uTag),t._processQueuedEvents()
var n=d.buildTmsLoadEvent()
"object"===(0,r.default)(t.tracking2Instance)&&d.fireTrackingEvent(t.tracking2Instance,n),e(n)})).catch((function(e){console.error("Unable to complete loading container tag",e),n()}))}},{key:"_shouldInitialize",value:function(){return!p.default}},{key:"_shouldProcessEvent",value:function(e){var n=this
return p.default?a.default.resolve(!1):this.isAllowlistingEnabled?new a.default((function(t){n._allowlistReadyPromise.then((function(){t(n._isEventAllowlisted(e))}))})):a.default.resolve(!0)}},{key:"_isEventAllowlisted",value:function(e){return void 0!==e.controlUrn?this._isEventAllowlistedByControlUrn(e):this._isEventAllowlistedByPageKey(e)}},{key:"_isEventAllowlistedByPageKey",value:function(e){return void 0!==this.allowlist.pageKey[e.pageKey]}},{key:"_isEventAllowlistedByControlUrn",value:function(e){return void 0!==this.allowlist.controlUrn[e.controlUrn]}},{key:"addValuesToAllowlist",value:function(e,n){var t=this
"string"==typeof e&&Array.isArray(n)&&void 0!==this.allowlist[e]&&n.forEach((function(n){t.allowlist[e][n]=!0}))}},{key:"_processQueuedEvents",value:function(){this.isContainerTagLoaded?c.processQueuedEvents(this._uTag,this._queue,this.profileName):this.isInitialized&&this.isAllowlistingEnabled&&this._loadContainerTag(this._onInitializeSuccessCallback,this._onInitializeFailureCallback)}},{key:"_fireAuditEvent",value:function(){var e=d.buildTagFireAuditEvent(this._uTag)
return void 0!==this.tracking2Instance&&void 0!==e&&d.fireTrackingEvent(this.tracking2Instance,e),e}},{key:"_createCallbackForAuditEvent",value:function(e){var n=this
return function(){var t=n._fireAuditEvent()
"function"==typeof e&&e(t)}}},{key:"_checkForCookieConsent",value:function(){var e=this;(0,f.getCookieConsent)().consent.consentAvailable&&!T?(0,l.shouldRefreshOnCookieConsent)(b.payloads)?location.reload():this._refireTracking():_=setTimeout((function(){e._checkForCookieConsent()}),y.COOKIE_CONSENT_CHECK_INTERVAL)}},{key:"_refireTracking",value:function(){var e=this
b.payloads&&b.payloads.forEach((function(n){var t=n.data,r=n.callback
t.cookieConsentGiven=!0,e.trackPageView(t,r)}))}},{key:"_savePayloadForRefire",value:function(e,n){var t=this
if(m.default){T=!1
var r=b,i=r.payloads,a=void 0===i?[]:i,o=r.url,s=location.href,c={data:e,callback:n},d=s!==o?[]:a
d.push(c),b={url:s,payloads:d},_||(_=setTimeout((function(){t._checkForCookieConsent()}),y.COOKIE_CONSENT_CHECK_INTERVAL))}}},{key:"trackPageView",value:function(e,n){var t=this
return(0,f.getCookieConsent)().consent.consentAvailable||this._savePayloadForRefire(e,n),this._shouldProcessEvent(e).then((function(r){r&&(t._queue.push({isControlInteraction:!1,data:e,callback:t._createCallbackForAuditEvent(n)}),t._processQueuedEvents())}))}},{key:"trackControlInteraction",value:function(e,n){var t=this
return this._shouldProcessEvent(e).then((function(r){r&&(t._queue.push({isControlInteraction:!0,data:e,callback:t._createCallbackForAuditEvent(n)}),t._processQueuedEvents())}))}}]),e}()
n.addSharedEventData=u.addSharedEventData,n.getInstanceForProfile=function(e){var n=v[e]
return n&&c.setGlobalUTagReference(n._uTag),n},n.default=E},function(e,n,t){e.exports={default:t(64),__esModule:!0}},function(e,n,t){t(42),t(50),e.exports=t(33).f("iterator")},function(e,n,t){var r=t(25),i=t(26)
e.exports=function(e){return function(n,t){var a,o,s=String(i(n)),c=r(t),d=s.length
return c<0||c>=d?e?"":void 0:(a=s.charCodeAt(c))<55296||a>56319||c+1===d||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):a:e?s.slice(c,c+2):o-56320+(a-55296<<10)+65536}}},function(e,n,t){"use strict"
var r=t(46),i=t(19),a=t(22),o={}
t(7)(o,t(1)("iterator"),(function(){return this})),e.exports=function(e,n,t){e.prototype=r(o,{next:i(1,t)}),a(e,n+" Iterator")}},function(e,n,t){var r=t(3),i=t(4),a=t(20)
e.exports=t(5)?Object.defineProperties:function(e,n){i(e)
for(var t,o=a(n),s=o.length,c=0;s>c;)r.f(e,t=o[c++],n[t])
return e}},function(e,n,t){var r=t(16)
e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,n,t){var r=t(11),i=t(48),a=t(70)
e.exports=function(e){return function(n,t,o){var s,c=r(n),d=i(c.length),u=a(o,d)
if(e&&t!=t){for(;d>u;)if((s=c[u++])!=s)return!0}else for(;d>u;u++)if((e||u in c)&&c[u]===t)return e||u||0
return!e&&-1}}},function(e,n,t){var r=t(25),i=Math.max,a=Math.min
e.exports=function(e,n){return(e=r(e))<0?i(e+n,0):a(e,n)}},function(e,n,t){var r=t(9),i=t(32),a=t(29)("IE_PROTO"),o=Object.prototype
e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,n,t){"use strict"
var r=t(73),i=t(74),a=t(15),o=t(11)
e.exports=t(43)(Array,"Array",(function(e,n){this._t=o(e),this._i=0,this._k=n}),(function(){var e=this._t,n=this._k,t=this._i++
return!e||t>=e.length?(this._t=void 0,i(1)):i(0,"keys"==n?t:"values"==n?e[t]:[t,e[t]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")},function(e,n){e.exports=function(){}},function(e,n){e.exports=function(e,n){return{value:n,done:!!e}}},function(e,n,t){e.exports={default:t(76),__esModule:!0}},function(e,n,t){t(77),t(53),t(83),t(84),e.exports=t(2).Symbol},function(e,n,t){"use strict"
var r=t(0),i=t(9),a=t(5),o=t(6),s=t(45),c=t(78).KEY,d=t(14),u=t(30),l=t(22),p=t(21),f=t(1),m=t(33),y=t(34),h=t(79),g=t(80),v=t(4),_=t(8),b=t(32),T=t(11),E=t(28),A=t(19),S=t(46),C=t(81),k=t(82),I=t(51),R=t(3),x=t(20),w=k.f,O=R.f,M=C.f,N=r.Symbol,P=r.JSON,D=P&&P.stringify,U=f("_hidden"),L=f("toPrimitive"),F={}.propertyIsEnumerable,j=u("symbol-registry"),B=u("symbols"),q=u("op-symbols"),V=Object.prototype,$="function"==typeof N&&!!I.f,K=r.QObject,H=!K||!K.prototype||!K.prototype.findChild,G=a&&d((function(){return 7!=S(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a}))?function(e,n,t){var r=w(V,n)
r&&delete V[n],O(e,n,t),r&&e!==V&&O(V,n,r)}:O,W=function(e){var n=B[e]=S(N.prototype)
return n._k=e,n},Y=$&&"symbol"==typeof N.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof N},z=function(e,n,t){return e===V&&z(q,n,t),v(e),n=E(n,!0),v(t),i(B,n)?(t.enumerable?(i(e,U)&&e[U][n]&&(e[U][n]=!1),t=S(t,{enumerable:A(0,!1)})):(i(e,U)||O(e,U,A(1,{})),e[U][n]=!0),G(e,n,t)):O(e,n,t)},X=function(e,n){v(e)
for(var t,r=h(n=T(n)),i=0,a=r.length;a>i;)z(e,t=r[i++],n[t])
return e},Q=function(e){var n=F.call(this,e=E(e,!0))
return!(this===V&&i(B,e)&&!i(q,e))&&(!(n||!i(this,e)||!i(B,e)||i(this,U)&&this[U][e])||n)},J=function(e,n){if(e=T(e),n=E(n,!0),e!==V||!i(B,n)||i(q,n)){var t=w(e,n)
return!t||!i(B,n)||i(e,U)&&e[U][n]||(t.enumerable=!0),t}},Z=function(e){for(var n,t=M(T(e)),r=[],a=0;t.length>a;)i(B,n=t[a++])||n==U||n==c||r.push(n)
return r},ee=function(e){for(var n,t=e===V,r=M(t?q:T(e)),a=[],o=0;r.length>o;)!i(B,n=r[o++])||t&&!i(V,n)||a.push(B[n])
return a}
$||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor!")
var e=p(arguments.length>0?arguments[0]:void 0),n=function(t){this===V&&n.call(q,t),i(this,U)&&i(this[U],e)&&(this[U][e]=!1),G(this,e,A(1,t))}
return a&&H&&G(V,e,{configurable:!0,set:n}),W(e)},s(N.prototype,"toString",(function(){return this._k})),k.f=J,R.f=z,t(52).f=C.f=Z,t(35).f=Q,I.f=ee,a&&!t(13)&&s(V,"propertyIsEnumerable",Q,!0),m.f=function(e){return W(f(e))}),o(o.G+o.W+o.F*!$,{Symbol:N})
for(var ne="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;ne.length>te;)f(ne[te++])
for(var re=x(f.store),ie=0;re.length>ie;)y(re[ie++])
o(o.S+o.F*!$,"Symbol",{for:function(e){return i(j,e+="")?j[e]:j[e]=N(e)},keyFor:function(e){if(!Y(e))throw TypeError(e+" is not a symbol!")
for(var n in j)if(j[n]===e)return n},useSetter:function(){H=!0},useSimple:function(){H=!1}}),o(o.S+o.F*!$,"Object",{create:function(e,n){return void 0===n?S(e):X(S(e),n)},defineProperty:z,defineProperties:X,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:ee})
var ae=d((function(){I.f(1)}))
o(o.S+o.F*ae,"Object",{getOwnPropertySymbols:function(e){return I.f(b(e))}}),P&&o(o.S+o.F*(!$||d((function(){var e=N()
return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))}))),"JSON",{stringify:function(e){for(var n,t,r=[e],i=1;arguments.length>i;)r.push(arguments[i++])
if(t=n=r[1],(_(n)||void 0!==e)&&!Y(e))return g(n)||(n=function(e,n){if("function"==typeof t&&(n=t.call(this,e,n)),!Y(n))return n}),r[1]=n,D.apply(P,r)}}),N.prototype[L]||t(7)(N.prototype,L,N.prototype.valueOf),l(N,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)},function(e,n,t){var r=t(21)("meta"),i=t(8),a=t(9),o=t(3).f,s=0,c=Object.isExtensible||function(){return!0},d=!t(14)((function(){return c(Object.preventExtensions({}))})),u=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},l=e.exports={KEY:r,NEED:!1,fastKey:function(e,n){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e
if(!a(e,r)){if(!c(e))return"F"
if(!n)return"E"
u(e)}return e[r].i},getWeak:function(e,n){if(!a(e,r)){if(!c(e))return!0
if(!n)return!1
u(e)}return e[r].w},onFreeze:function(e){return d&&l.NEED&&c(e)&&!a(e,r)&&u(e),e}}},function(e,n,t){var r=t(20),i=t(51),a=t(35)
e.exports=function(e){var n=r(e),t=i.f
if(t)for(var o,s=t(e),c=a.f,d=0;s.length>d;)c.call(e,o=s[d++])&&n.push(o)
return n}},function(e,n,t){var r=t(16)
e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,n,t){var r=t(11),i=t(52).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[]
e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,n,t){var r=t(35),i=t(19),a=t(11),o=t(28),s=t(9),c=t(44),d=Object.getOwnPropertyDescriptor
n.f=t(5)?d:function(e,n){if(e=a(e),n=o(n,!0),c)try{return d(e,n)}catch(e){}if(s(e,n))return i(!r.f.call(e,n),e[n])}},function(e,n,t){t(34)("asyncIterator")},function(e,n,t){t(34)("observable")},function(e,n,t){t(86),e.exports=t(2).Object.keys},function(e,n,t){var r=t(32),i=t(20)
t(87)("keys",(function(){return function(e){return i(r(e))}}))},function(e,n,t){var r=t(6),i=t(2),a=t(14)
e.exports=function(e,n){var t=(i.Object||{})[e]||Object[e],o={}
o[e]=n(t),r(r.S+r.F*a((function(){t(1)})),"Object",o)}},function(e,n,t){t(53),t(42),t(50),t(89),t(101),t(102),e.exports=t(2).Promise},function(e,n,t){"use strict"
var r,i,a,o,s=t(13),c=t(0),d=t(17),u=t(54),l=t(6),p=t(8),f=t(18),m=t(90),y=t(91),h=t(55),g=t(56).set,v=t(96)(),_=t(37),b=t(57),T=t(97),E=t(58),A="Promise",S=c.TypeError,C=c.process,k=C&&C.versions,I=k&&k.v8||"",R=c.Promise,x="process"==u(C),w=function(){},O=i=_.f,M=!!function(){try{var e=R.resolve(1),n=(e.constructor={})[t(1)("species")]=function(e){e(w,w)}
return(x||"function"==typeof PromiseRejectionEvent)&&e.then(w)instanceof n&&0!==I.indexOf("6.6")&&-1===T.indexOf("Chrome/66")}catch(e){}}(),N=function(e){var n
return!(!p(e)||"function"!=typeof(n=e.then))&&n},P=function(e,n){if(!e._n){e._n=!0
var t=e._c
v((function(){for(var r=e._v,i=1==e._s,a=0,o=function(n){var t,a,o,s=i?n.ok:n.fail,c=n.resolve,d=n.reject,u=n.domain
try{s?(i||(2==e._h&&L(e),e._h=1),!0===s?t=r:(u&&u.enter(),t=s(r),u&&(u.exit(),o=!0)),t===n.promise?d(S("Promise-chain cycle")):(a=N(t))?a.call(t,c,d):c(t)):d(r)}catch(e){u&&!o&&u.exit(),d(e)}};t.length>a;)o(t[a++])
e._c=[],e._n=!1,n&&!e._h&&D(e)}))}},D=function(e){g.call(c,(function(){var n,t,r,i=e._v,a=U(e)
if(a&&(n=b((function(){x?C.emit("unhandledRejection",i,e):(t=c.onunhandledrejection)?t({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=x||U(e)?2:1),e._a=void 0,a&&n.e)throw n.v}))},U=function(e){return 1!==e._h&&0===(e._a||e._c).length},L=function(e){g.call(c,(function(){var n
x?C.emit("rejectionHandled",e):(n=c.onrejectionhandled)&&n({promise:e,reason:e._v})}))},F=function(e){var n=this
n._d||(n._d=!0,(n=n._w||n)._v=e,n._s=2,n._a||(n._a=n._c.slice()),P(n,!0))},j=function(e){var n,t=this
if(!t._d){t._d=!0,t=t._w||t
try{if(t===e)throw S("Promise can't be resolved itself");(n=N(e))?v((function(){var r={_w:t,_d:!1}
try{n.call(e,d(j,r,1),d(F,r,1))}catch(e){F.call(r,e)}})):(t._v=e,t._s=1,P(t,!1))}catch(e){F.call({_w:t,_d:!1},e)}}}
M||(R=function(e){m(this,R,A,"_h"),f(e),r.call(this)
try{e(d(j,this,1),d(F,this,1))}catch(e){F.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=t(98)(R.prototype,{then:function(e,n){var t=O(h(this,R))
return t.ok="function"!=typeof e||e,t.fail="function"==typeof n&&n,t.domain=x?C.domain:void 0,this._c.push(t),this._a&&this._a.push(t),this._s&&P(this,!1),t.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r
this.promise=e,this.resolve=d(j,e,1),this.reject=d(F,e,1)},_.f=O=function(e){return e===R||e===o?new a(e):i(e)}),l(l.G+l.W+l.F*!M,{Promise:R}),t(22)(R,A),t(99)(A),o=t(2).Promise,l(l.S+l.F*!M,A,{reject:function(e){var n=O(this)
return(0,n.reject)(e),n.promise}}),l(l.S+l.F*(s||!M),A,{resolve:function(e){return E(s&&this===o?R:this,e)}}),l(l.S+l.F*!(M&&t(100)((function(e){R.all(e).catch(w)}))),A,{all:function(e){var n=this,t=O(n),r=t.resolve,i=t.reject,a=b((function(){var t=[],a=0,o=1
y(e,!1,(function(e){var s=a++,c=!1
t.push(void 0),o++,n.resolve(e).then((function(e){c||(c=!0,t[s]=e,--o||r(t))}),i)})),--o||r(t)}))
return a.e&&i(a.v),t.promise},race:function(e){var n=this,t=O(n),r=t.reject,i=b((function(){y(e,!1,(function(e){n.resolve(e).then(t.resolve,r)}))}))
return i.e&&r(i.v),t.promise}})},function(e,n){e.exports=function(e,n,t,r){if(!(e instanceof n)||void 0!==r&&r in e)throw TypeError(t+": incorrect invocation!")
return e}},function(e,n,t){var r=t(17),i=t(92),a=t(93),o=t(4),s=t(48),c=t(94),d={},u={};(n=e.exports=function(e,n,t,l,p){var f,m,y,h,g=p?function(){return e}:c(e),v=r(t,l,n?2:1),_=0
if("function"!=typeof g)throw TypeError(e+" is not iterable!")
if(a(g)){for(f=s(e.length);f>_;_++)if((h=n?v(o(m=e[_])[0],m[1]):v(e[_]))===d||h===u)return h}else for(y=g.call(e);!(m=y.next()).done;)if((h=i(y,v,m.value,n))===d||h===u)return h}).BREAK=d,n.RETURN=u},function(e,n,t){var r=t(4)
e.exports=function(e,n,t,i){try{return i?n(r(t)[0],t[1]):n(t)}catch(n){var a=e.return
throw void 0!==a&&r(a.call(e)),n}}},function(e,n,t){var r=t(15),i=t(1)("iterator"),a=Array.prototype
e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,n,t){var r=t(54),i=t(1)("iterator"),a=t(15)
e.exports=t(2).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,n){e.exports=function(e,n,t){var r=void 0===t
switch(n.length){case 0:return r?e():e.call(t)
case 1:return r?e(n[0]):e.call(t,n[0])
case 2:return r?e(n[0],n[1]):e.call(t,n[0],n[1])
case 3:return r?e(n[0],n[1],n[2]):e.call(t,n[0],n[1],n[2])
case 4:return r?e(n[0],n[1],n[2],n[3]):e.call(t,n[0],n[1],n[2],n[3])}return e.apply(t,n)}},function(e,n,t){var r=t(0),i=t(56).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,c="process"==t(16)(o)
e.exports=function(){var e,n,t,d=function(){var r,i
for(c&&(r=o.domain)&&r.exit();e;){i=e.fn,e=e.next
try{i()}catch(r){throw e?t():n=void 0,r}}n=void 0,r&&r.enter()}
if(c)t=function(){o.nextTick(d)}
else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0)
t=function(){u.then(d)}}else t=function(){i.call(r,d)}
else{var l=!0,p=document.createTextNode("")
new a(d).observe(p,{characterData:!0}),t=function(){p.data=l=!l}}return function(r){var i={fn:r,next:void 0}
n&&(n.next=i),e||(e=i,t()),n=i}}},function(e,n,t){var r=t(0).navigator
e.exports=r&&r.userAgent||""},function(e,n,t){var r=t(7)
e.exports=function(e,n,t){for(var i in n)t&&e[i]?e[i]=n[i]:r(e,i,n[i])
return e}},function(e,n,t){"use strict"
var r=t(0),i=t(2),a=t(3),o=t(5),s=t(1)("species")
e.exports=function(e){var n="function"==typeof i[e]?i[e]:r[e]
o&&n&&!n[s]&&a.f(n,s,{configurable:!0,get:function(){return this}})}},function(e,n,t){var r=t(1)("iterator"),i=!1
try{var a=[7][r]()
a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,n){if(!n&&!i)return!1
var t=!1
try{var a=[7],o=a[r]()
o.next=function(){return{done:t=!0}},a[r]=function(){return o},e(a)}catch(e){}return t}},function(e,n,t){"use strict"
var r=t(6),i=t(2),a=t(0),o=t(55),s=t(58)
r(r.P+r.R,"Promise",{finally:function(e){var n=o(this,i.Promise||a.Promise),t="function"==typeof e
return this.then(t?function(t){return s(n,e()).then((function(){return t}))}:e,t?function(t){return s(n,e()).then((function(){throw t}))}:e)}})},function(e,n,t){"use strict"
var r=t(6),i=t(37),a=t(57)
r(r.S,"Promise",{try:function(e){var n=i.f(this),t=a(e)
return(t.e?n.reject:n.resolve)(t.v),n.promise}})},function(e,n,t){"use strict"
n.__esModule=!0,n.default=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}},function(e,n,t){"use strict"
n.__esModule=!0
var r,i=(r=t(105))&&r.__esModule?r:{default:r}
n.default=function(){function e(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(n,t,r){return t&&e(n.prototype,t),r&&e(n,r),n}}()},function(e,n,t){e.exports={default:t(106),__esModule:!0}},function(e,n,t){t(107)
var r=t(2).Object
e.exports=function(e,n,t){return r.defineProperty(e,n,t)}},function(e,n,t){var r=t(6)
r(r.S+r.F*!t(5),"Object",{defineProperty:t(3).f})},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.get=void 0
var r,i=(r=t(10))&&r.__esModule?r:{default:r}
n.get=function(e,n,t){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3]
if("function"!=typeof n||"function"!=typeof t)throw new TypeError("One of the specified callbacks is not a function.")
var a=new i.default.XMLHttpRequest
a.withCredentials=r,a.open("GET",e,!0),a.onreadystatechange=function(){this.readyState===this.DONE&&(200===this.status&&"function"==typeof n?n(this.responseText):t(this))},a.send()}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.getUpdatedUserFunctionalOptIn=n.getUpdatedUserAnalyticsAndResearchOptIn=n.getUpdatedUserAdvertisingOptIn=n.getAdvertisingOptIn=n.getAnalyticsAndResearchOptIn=n.getFunctionalOptIn=n.getGDPROptIn=void 0
var r=function(e){if(e&&e.__esModule)return e
var n={}
if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])
return n.default=e,n}(t(61))
function i(e){return e["compliance.isGDPROptIn"]}function a(){var e=r.getCookieConsent()
return!e||e.consent.optedInConsentMap.FUNCTIONAL}function o(){var e=r.getCookieConsent()
return!e||e.consent.optedInConsentMap.ANALYTICS_AND_RESEARCH}function s(){var e=r.getCookieConsent()
return!e||e.consent.optedInConsentMap.ADVERTISING}n.getGDPROptIn=i,n.getFunctionalOptIn=a,n.getAnalyticsAndResearchOptIn=o,n.getAdvertisingOptIn=s,n.getUpdatedUserAdvertisingOptIn=function(e){return s()&&i(e)},n.getUpdatedUserAnalyticsAndResearchOptIn=function(e){return o()},n.getUpdatedUserFunctionalOptIn=function(e){return a()}},function(e,n,t){"use strict";(function(e){var r=t(111),i=t(112),a=t(113)
function o(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,n){if(o()<n)throw new RangeError("Invalid typed array length")
return c.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(n)).__proto__=c.prototype:(null===e&&(e=new c(n)),e.length=n),e}function c(e,n,t){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(e,n,t)
if("number"==typeof e){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string")
return l(this,e)}return d(this,e,n,t)}function d(e,n,t,r){if("number"==typeof n)throw new TypeError('"value" argument must not be a number')
return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer?function(e,n,t,r){if(n.byteLength,t<0||n.byteLength<t)throw new RangeError("'offset' is out of bounds")
if(n.byteLength<t+(r||0))throw new RangeError("'length' is out of bounds")
return n=void 0===t&&void 0===r?new Uint8Array(n):void 0===r?new Uint8Array(n,t):new Uint8Array(n,t,r),c.TYPED_ARRAY_SUPPORT?(e=n).__proto__=c.prototype:e=p(e,n),e}(e,n,t,r):"string"==typeof n?function(e,n,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding')
var r=0|m(n,t),i=(e=s(e,r)).write(n,t)
return i!==r&&(e=e.slice(0,i)),e}(e,n,t):function(e,n){if(c.isBuffer(n)){var t=0|f(n.length)
return 0===(e=s(e,t)).length||n.copy(e,0,0,t),e}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||(r=n.length)!=r?s(e,0):p(e,n)
if("Buffer"===n.type&&a(n.data))return p(e,n.data)}var r
throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,n)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number')
if(e<0)throw new RangeError('"size" argument must not be negative')}function l(e,n){if(u(n),e=s(e,n<0?0:0|f(n)),!c.TYPED_ARRAY_SUPPORT)for(var t=0;t<n;++t)e[t]=0
return e}function p(e,n){var t=n.length<0?0:0|f(n.length)
e=s(e,t)
for(var r=0;r<t;r+=1)e[r]=255&n[r]
return e}function f(e){if(e>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes")
return 0|e}function m(e,n){if(c.isBuffer(e))return e.length
if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength
"string"!=typeof e&&(e=""+e)
var t=e.length
if(0===t)return 0
for(var r=!1;;)switch(n){case"ascii":case"latin1":case"binary":return t
case"utf8":case"utf-8":case void 0:return B(e).length
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t
case"hex":return t>>>1
case"base64":return q(e).length
default:if(r)return B(e).length
n=(""+n).toLowerCase(),r=!0}}function y(e,n,t){var r=!1
if((void 0===n||n<0)&&(n=0),n>this.length)return""
if((void 0===t||t>this.length)&&(t=this.length),t<=0)return""
if((t>>>=0)<=(n>>>=0))return""
for(e||(e="utf8");;)switch(e){case"hex":return w(this,n,t)
case"utf8":case"utf-8":return k(this,n,t)
case"ascii":return R(this,n,t)
case"latin1":case"binary":return x(this,n,t)
case"base64":return C(this,n,t)
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,n,t)
default:if(r)throw new TypeError("Unknown encoding: "+e)
e=(e+"").toLowerCase(),r=!0}}function h(e,n,t){var r=e[n]
e[n]=e[t],e[t]=r}function g(e,n,t,r,i){if(0===e.length)return-1
if("string"==typeof t?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:e.length-1),t<0&&(t=e.length+t),t>=e.length){if(i)return-1
t=e.length-1}else if(t<0){if(!i)return-1
t=0}if("string"==typeof n&&(n=c.from(n,r)),c.isBuffer(n))return 0===n.length?-1:v(e,n,t,r,i)
if("number"==typeof n)return n&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,n,t):Uint8Array.prototype.lastIndexOf.call(e,n,t):v(e,[n],t,r,i)
throw new TypeError("val must be string, number or Buffer")}function v(e,n,t,r,i){var a,o=1,s=e.length,c=n.length
if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||n.length<2)return-1
o=2,s/=2,c/=2,t/=2}function d(e,n){return 1===o?e[n]:e.readUInt16BE(n*o)}if(i){var u=-1
for(a=t;a<s;a++)if(d(e,a)===d(n,-1===u?0:a-u)){if(-1===u&&(u=a),a-u+1===c)return u*o}else-1!==u&&(a-=a-u),u=-1}else for(t+c>s&&(t=s-c),a=t;a>=0;a--){for(var l=!0,p=0;p<c;p++)if(d(e,a+p)!==d(n,p)){l=!1
break}if(l)return a}return-1}function _(e,n,t,r){t=Number(t)||0
var i=e.length-t
r?(r=Number(r))>i&&(r=i):r=i
var a=n.length
if(a%2!=0)throw new TypeError("Invalid hex string")
r>a/2&&(r=a/2)
for(var o=0;o<r;++o){var s=parseInt(n.substr(2*o,2),16)
if(isNaN(s))return o
e[t+o]=s}return o}function b(e,n,t,r){return V(B(n,e.length-t),e,t,r)}function T(e,n,t,r){return V(function(e){for(var n=[],t=0;t<e.length;++t)n.push(255&e.charCodeAt(t))
return n}(n),e,t,r)}function E(e,n,t,r){return T(e,n,t,r)}function A(e,n,t,r){return V(q(n),e,t,r)}function S(e,n,t,r){return V(function(e,n){for(var t,r,i,a=[],o=0;o<e.length&&!((n-=2)<0);++o)r=(t=e.charCodeAt(o))>>8,i=t%256,a.push(i),a.push(r)
return a}(n,e.length-t),e,t,r)}function C(e,n,t){return 0===n&&t===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(n,t))}function k(e,n,t){t=Math.min(e.length,t)
for(var r=[],i=n;i<t;){var a,o,s,c,d=e[i],u=null,l=d>239?4:d>223?3:d>191?2:1
if(i+l<=t)switch(l){case 1:d<128&&(u=d)
break
case 2:128==(192&(a=e[i+1]))&&(c=(31&d)<<6|63&a)>127&&(u=c)
break
case 3:a=e[i+1],o=e[i+2],128==(192&a)&&128==(192&o)&&(c=(15&d)<<12|(63&a)<<6|63&o)>2047&&(c<55296||c>57343)&&(u=c)
break
case 4:a=e[i+1],o=e[i+2],s=e[i+3],128==(192&a)&&128==(192&o)&&128==(192&s)&&(c=(15&d)<<18|(63&a)<<12|(63&o)<<6|63&s)>65535&&c<1114112&&(u=c)}null===u?(u=65533,l=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=l}return function(e){var n=e.length
if(n<=I)return String.fromCharCode.apply(String,e)
for(var t="",r=0;r<n;)t+=String.fromCharCode.apply(String,e.slice(r,r+=I))
return t}(r)}n.Buffer=c,n.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1)
return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),n.kMaxLength=o(),c.poolSize=8192,c._augment=function(e){return e.__proto__=c.prototype,e},c.from=function(e,n,t){return d(null,e,n,t)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(e,n,t){return function(e,n,t,r){return u(n),n<=0?s(e,n):void 0!==t?"string"==typeof r?s(e,n).fill(t,r):s(e,n).fill(t):s(e,n)}(null,e,n,t)},c.allocUnsafe=function(e){return l(null,e)},c.allocUnsafeSlow=function(e){return l(null,e)},c.isBuffer=function(e){return!(null==e||!e._isBuffer)},c.compare=function(e,n){if(!c.isBuffer(e)||!c.isBuffer(n))throw new TypeError("Arguments must be Buffers")
if(e===n)return 0
for(var t=e.length,r=n.length,i=0,a=Math.min(t,r);i<a;++i)if(e[i]!==n[i]){t=e[i],r=n[i]
break}return t<r?-1:r<t?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0
default:return!1}},c.concat=function(e,n){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers')
if(0===e.length)return c.alloc(0)
var t
if(void 0===n)for(n=0,t=0;t<e.length;++t)n+=e[t].length
var r=c.allocUnsafe(n),i=0
for(t=0;t<e.length;++t){var o=e[t]
if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers')
o.copy(r,i),i+=o.length}return r},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length
if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits")
for(var n=0;n<e;n+=2)h(this,n,n+1)
return this},c.prototype.swap32=function(){var e=this.length
if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits")
for(var n=0;n<e;n+=4)h(this,n,n+3),h(this,n+1,n+2)
return this},c.prototype.swap64=function(){var e=this.length
if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits")
for(var n=0;n<e;n+=8)h(this,n,n+7),h(this,n+1,n+6),h(this,n+2,n+5),h(this,n+3,n+4)
return this},c.prototype.toString=function(){var e=0|this.length
return 0===e?"":0===arguments.length?k(this,0,e):y.apply(this,arguments)},c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer")
return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES
return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},c.prototype.compare=function(e,n,t,r,i){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer")
if(void 0===n&&(n=0),void 0===t&&(t=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),n<0||t>e.length||r<0||i>this.length)throw new RangeError("out of range index")
if(r>=i&&n>=t)return 0
if(r>=i)return-1
if(n>=t)return 1
if(this===e)return 0
for(var a=(i>>>=0)-(r>>>=0),o=(t>>>=0)-(n>>>=0),s=Math.min(a,o),d=this.slice(r,i),u=e.slice(n,t),l=0;l<s;++l)if(d[l]!==u[l]){a=d[l],o=u[l]
break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,n,t){return-1!==this.indexOf(e,n,t)},c.prototype.indexOf=function(e,n,t){return g(this,e,n,t,!0)},c.prototype.lastIndexOf=function(e,n,t){return g(this,e,n,t,!1)},c.prototype.write=function(e,n,t,r){if(void 0===n)r="utf8",t=this.length,n=0
else if(void 0===t&&"string"==typeof n)r=n,t=this.length,n=0
else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")
n|=0,isFinite(t)?(t|=0,void 0===r&&(r="utf8")):(r=t,t=void 0)}var i=this.length-n
if((void 0===t||t>i)&&(t=i),e.length>0&&(t<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds")
r||(r="utf8")
for(var a=!1;;)switch(r){case"hex":return _(this,e,n,t)
case"utf8":case"utf-8":return b(this,e,n,t)
case"ascii":return T(this,e,n,t)
case"latin1":case"binary":return E(this,e,n,t)
case"base64":return A(this,e,n,t)
case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,n,t)
default:if(a)throw new TypeError("Unknown encoding: "+r)
r=(""+r).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}}
var I=4096
function R(e,n,t){var r=""
t=Math.min(e.length,t)
for(var i=n;i<t;++i)r+=String.fromCharCode(127&e[i])
return r}function x(e,n,t){var r=""
t=Math.min(e.length,t)
for(var i=n;i<t;++i)r+=String.fromCharCode(e[i])
return r}function w(e,n,t){var r,i=e.length;(!n||n<0)&&(n=0),(!t||t<0||t>i)&&(t=i)
for(var a="",o=n;o<t;++o)a+=(r=e[o])<16?"0"+r.toString(16):r.toString(16)
return a}function O(e,n,t){for(var r=e.slice(n,t),i="",a=0;a<r.length;a+=2)i+=String.fromCharCode(r[a]+256*r[a+1])
return i}function M(e,n,t){if(e%1!=0||e<0)throw new RangeError("offset is not uint")
if(e+n>t)throw new RangeError("Trying to access beyond buffer length")}function N(e,n,t,r,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance')
if(n>i||n<a)throw new RangeError('"value" argument is out of bounds')
if(t+r>e.length)throw new RangeError("Index out of range")}function P(e,n,t,r){n<0&&(n=65535+n+1)
for(var i=0,a=Math.min(e.length-t,2);i<a;++i)e[t+i]=(n&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,n,t,r){n<0&&(n=4294967295+n+1)
for(var i=0,a=Math.min(e.length-t,4);i<a;++i)e[t+i]=n>>>8*(r?i:3-i)&255}function U(e,n,t,r,i,a){if(t+r>e.length)throw new RangeError("Index out of range")
if(t<0)throw new RangeError("Index out of range")}function L(e,n,t,r,a){return a||U(e,0,t,4),i.write(e,n,t,r,23,4),t+4}function F(e,n,t,r,a){return a||U(e,0,t,8),i.write(e,n,t,r,52,8),t+8}c.prototype.slice=function(e,n){var t,r=this.length
if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<e&&(n=e),c.TYPED_ARRAY_SUPPORT)(t=this.subarray(e,n)).__proto__=c.prototype
else{var i=n-e
t=new c(i,void 0)
for(var a=0;a<i;++a)t[a]=this[a+e]}return t},c.prototype.readUIntLE=function(e,n,t){e|=0,n|=0,t||M(e,n,this.length)
for(var r=this[e],i=1,a=0;++a<n&&(i*=256);)r+=this[e+a]*i
return r},c.prototype.readUIntBE=function(e,n,t){e|=0,n|=0,t||M(e,n,this.length)
for(var r=this[e+--n],i=1;n>0&&(i*=256);)r+=this[e+--n]*i
return r},c.prototype.readUInt8=function(e,n){return n||M(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,n){return n||M(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,n){return n||M(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,n){return n||M(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,n){return n||M(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,n,t){e|=0,n|=0,t||M(e,n,this.length)
for(var r=this[e],i=1,a=0;++a<n&&(i*=256);)r+=this[e+a]*i
return r>=(i*=128)&&(r-=Math.pow(2,8*n)),r},c.prototype.readIntBE=function(e,n,t){e|=0,n|=0,t||M(e,n,this.length)
for(var r=n,i=1,a=this[e+--r];r>0&&(i*=256);)a+=this[e+--r]*i
return a>=(i*=128)&&(a-=Math.pow(2,8*n)),a},c.prototype.readInt8=function(e,n){return n||M(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,n){n||M(e,2,this.length)
var t=this[e]|this[e+1]<<8
return 32768&t?4294901760|t:t},c.prototype.readInt16BE=function(e,n){n||M(e,2,this.length)
var t=this[e+1]|this[e]<<8
return 32768&t?4294901760|t:t},c.prototype.readInt32LE=function(e,n){return n||M(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,n){return n||M(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,n){return n||M(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,n){return n||M(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,n){return n||M(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,n){return n||M(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,n,t,r){e=+e,n|=0,t|=0,r||N(this,e,n,t,Math.pow(2,8*t)-1,0)
var i=1,a=0
for(this[n]=255&e;++a<t&&(i*=256);)this[n+a]=e/i&255
return n+t},c.prototype.writeUIntBE=function(e,n,t,r){e=+e,n|=0,t|=0,r||N(this,e,n,t,Math.pow(2,8*t)-1,0)
var i=t-1,a=1
for(this[n+i]=255&e;--i>=0&&(a*=256);)this[n+i]=e/a&255
return n+t},c.prototype.writeUInt8=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,1,255,0),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=255&e,n+1},c.prototype.writeUInt16LE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):P(this,e,n,!0),n+2},c.prototype.writeUInt16BE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):P(this,e,n,!1),n+2},c.prototype.writeUInt32LE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=255&e):D(this,e,n,!0),n+4},c.prototype.writeUInt32BE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):D(this,e,n,!1),n+4},c.prototype.writeIntLE=function(e,n,t,r){if(e=+e,n|=0,!r){var i=Math.pow(2,8*t-1)
N(this,e,n,t,i-1,-i)}var a=0,o=1,s=0
for(this[n]=255&e;++a<t&&(o*=256);)e<0&&0===s&&0!==this[n+a-1]&&(s=1),this[n+a]=(e/o>>0)-s&255
return n+t},c.prototype.writeIntBE=function(e,n,t,r){if(e=+e,n|=0,!r){var i=Math.pow(2,8*t-1)
N(this,e,n,t,i-1,-i)}var a=t-1,o=1,s=0
for(this[n+a]=255&e;--a>=0&&(o*=256);)e<0&&0===s&&0!==this[n+a+1]&&(s=1),this[n+a]=(e/o>>0)-s&255
return n+t},c.prototype.writeInt8=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,1,127,-128),c.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[n]=255&e,n+1},c.prototype.writeInt16LE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8):P(this,e,n,!0),n+2},c.prototype.writeInt16BE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=255&e):P(this,e,n,!1),n+2},c.prototype.writeInt32LE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[n]=255&e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):D(this,e,n,!0),n+4},c.prototype.writeInt32BE=function(e,n,t){return e=+e,n|=0,t||N(this,e,n,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),c.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=255&e):D(this,e,n,!1),n+4},c.prototype.writeFloatLE=function(e,n,t){return L(this,e,n,!0,t)},c.prototype.writeFloatBE=function(e,n,t){return L(this,e,n,!1,t)},c.prototype.writeDoubleLE=function(e,n,t){return F(this,e,n,!0,t)},c.prototype.writeDoubleBE=function(e,n,t){return F(this,e,n,!1,t)},c.prototype.copy=function(e,n,t,r){if(t||(t=0),r||0===r||(r=this.length),n>=e.length&&(n=e.length),n||(n=0),r>0&&r<t&&(r=t),r===t)return 0
if(0===e.length||0===this.length)return 0
if(n<0)throw new RangeError("targetStart out of bounds")
if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds")
if(r<0)throw new RangeError("sourceEnd out of bounds")
r>this.length&&(r=this.length),e.length-n<r-t&&(r=e.length-n+t)
var i,a=r-t
if(this===e&&t<n&&n<r)for(i=a-1;i>=0;--i)e[i+n]=this[i+t]
else if(a<1e3||!c.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)e[i+n]=this[i+t]
else Uint8Array.prototype.set.call(e,this.subarray(t,t+a),n)
return a},c.prototype.fill=function(e,n,t,r){if("string"==typeof e){if("string"==typeof n?(r=n,n=0,t=this.length):"string"==typeof t&&(r=t,t=this.length),1===e.length){var i=e.charCodeAt(0)
i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string")
if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255)
if(n<0||this.length<n||this.length<t)throw new RangeError("Out of range index")
if(t<=n)return this
var a
if(n>>>=0,t=void 0===t?this.length:t>>>0,e||(e=0),"number"==typeof e)for(a=n;a<t;++a)this[a]=e
else{var o=c.isBuffer(e)?e:B(new c(e,r).toString()),s=o.length
for(a=0;a<t-n;++a)this[a+n]=o[a%s]}return this}
var j=/[^+\/0-9A-Za-z-_]/g
function B(e,n){var t
n=n||1/0
for(var r=e.length,i=null,a=[],o=0;o<r;++o){if((t=e.charCodeAt(o))>55295&&t<57344){if(!i){if(t>56319){(n-=3)>-1&&a.push(239,191,189)
continue}if(o+1===r){(n-=3)>-1&&a.push(239,191,189)
continue}i=t
continue}if(t<56320){(n-=3)>-1&&a.push(239,191,189),i=t
continue}t=65536+(i-55296<<10|t-56320)}else i&&(n-=3)>-1&&a.push(239,191,189)
if(i=null,t<128){if((n-=1)<0)break
a.push(t)}else if(t<2048){if((n-=2)<0)break
a.push(t>>6|192,63&t|128)}else if(t<65536){if((n-=3)<0)break
a.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point")
if((n-=4)<0)break
a.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return a}function q(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(j,"")).length<2)return""
for(;e.length%4!=0;)e+="="
return e}(e))}function V(e,n,t,r){for(var i=0;i<r&&!(i+t>=n.length||i>=e.length);++i)n[i+t]=e[i]
return i}}).call(n,t(40))},function(e,n,t){"use strict"
n.byteLength=function(e){var n=d(e),t=n[0],r=n[1]
return 3*(t+r)/4-r},n.toByteArray=function(e){var n,t,r=d(e),o=r[0],s=r[1],c=new a(function(e,n,t){return 3*(n+t)/4-t}(0,o,s)),u=0,l=s>0?o-4:o
for(t=0;t<l;t+=4)n=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],c[u++]=n>>16&255,c[u++]=n>>8&255,c[u++]=255&n
return 2===s&&(n=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,c[u++]=255&n),1===s&&(n=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,c[u++]=n>>8&255,c[u++]=255&n),c},n.fromByteArray=function(e){for(var n,t=e.length,i=t%3,a=[],o=16383,s=0,c=t-i;s<c;s+=o)a.push(u(e,s,s+o>c?c:s+o))
return 1===i?(n=e[t-1],a.push(r[n>>2]+r[n<<4&63]+"==")):2===i&&(n=(e[t-2]<<8)+e[t-1],a.push(r[n>>10]+r[n>>4&63]+r[n<<2&63]+"=")),a.join("")}
for(var r=[],i=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=o.length;s<c;++s)r[s]=o[s],i[o.charCodeAt(s)]=s
function d(e){var n=e.length
if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4")
var t=e.indexOf("=")
return-1===t&&(t=n),[t,t===n?0:4-t%4]}function u(e,n,t){for(var i,a,o=[],s=n;s<t;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a])
return o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,n){n.read=function(e,n,t,r,i){var a,o,s=8*i-r-1,c=(1<<s)-1,d=c>>1,u=-7,l=t?i-1:0,p=t?-1:1,f=e[n+l]
for(l+=p,a=f&(1<<-u)-1,f>>=-u,u+=s;u>0;a=256*a+e[n+l],l+=p,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=r;u>0;o=256*o+e[n+l],l+=p,u-=8);if(0===a)a=1-d
else{if(a===c)return o?NaN:1/0*(f?-1:1)
o+=Math.pow(2,r),a-=d}return(f?-1:1)*o*Math.pow(2,a-r)},n.write=function(e,n,t,r,i,a){var o,s,c,d=8*a-i-1,u=(1<<d)-1,l=u>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:a-1,m=r?1:-1,y=n<0||0===n&&1/n<0?1:0
for(n=Math.abs(n),isNaN(n)||n===1/0?(s=isNaN(n)?1:0,o=u):(o=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-o))<1&&(o--,c*=2),(n+=o+l>=1?p/c:p*Math.pow(2,1-l))*c>=2&&(o++,c/=2),o+l>=u?(s=0,o=u):o+l>=1?(s=(n*c-1)*Math.pow(2,i),o+=l):(s=n*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[t+f]=255&s,f+=m,s/=256,i-=8);for(o=o<<i|s,d+=i;d>0;e[t+f]=255&o,f+=m,o/=256,d-=8);e[t+f-m]|=128*y}},function(e,n){var t={}.toString
e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.buildTagFireAuditEvent=n.buildTmsLoadEvent=n.fireTrackingEvent=void 0
var r,i=(r=t(24))&&r.__esModule?r:{default:r},a=s(t(12)),o=s(t(59))
function s(e){if(e&&e.__esModule)return e
var n={}
if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])
return n.default=e,n}function c(e,n){return"urn:li:externalMarketingTag:("+function(e){var n=e.data["ut.profile"],t=e.cfg.v
return"urn:li:tagManagementSystemProfile:("+a.TAG_MANAGEMENT_SYSTEM_USED+","+n+","+t+")"}(e)+","+parseInt(n)+")"}n.fireTrackingEvent=function(e,n){!function(e){return"object"===(void 0===e?"undefined":(0,i.default)(e))&&"function"==typeof e.fireTrackingEvent}(e)?console.error("Unable to fire tracking event"):e.fireTrackingEvent(n.info.name,n.body)},n.buildTmsLoadEvent=function(){return{info:{name:a.CUSTOM_EVENTS_TMS_LOAD_EVENT},body:{header:{},requestHeader:{}}}},n.buildTagFireAuditEvent=function(e){var n=o.getTagsFired(e).map((function(n){return function(e,n){return{tagUrn:c(e,n)}}(e,n)}))
if(0!==n.length)return{info:{name:a.CUSTOM_EVENTS_TAG_FIRE_AUDIT_EVENT},body:{header:{},requestHeader:{},tags:n}}}},function(e,n,t){"use strict"
Object.defineProperty(n,"__esModule",{value:!0})
var r=a(t(39)),i=a(t(10))
function a(e){return e&&e.__esModule?e:{default:e}}var o=r.default&&new RegExp("bot|google|aolbuild|baidu|bing|msn|duckduckgo|teoma|slurp|yandex|sogou|facebook|alexa","i").test(i.default.navigator.userAgent)
n.default=o}])},e.exports=n()},2965:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.decorate=function(e,n,t){var r=t
if(!e||!(e.begin||e.end||e.segment))return r
if(Array.isArray(n)&&n.length){var s=new i.default(t),c=s.length,d="function"==typeof e.begin?e.begin:o,u="function"==typeof e.end?e.end:o,l="function"==typeof e.segment?e.segment:a,p=[],f=n,m=[],y=void 0,h=c
for(y=c;y>=0;y--){var g=void 0,v=void 0
for(v=p.length>0&&p[p.length-1];p.length&&v&&y===v.start;)y!==h&&m.push(l.call(e,s.substring(y,h).toString())),m.push(d.call(e,v)),h=y,p.pop(),v=p[p.length-1]
for(g=f.length>0&&f[f.length-1];f.length&&g&&y===g.start+g.length;)y!==h&&m.push(l.call(e,s.substring(y,h).toString())),m.push(u.call(e,g)),h=y,p.push(f.pop()),g=f[f.length-1]
for(v=p.length>0&&p[p.length-1];p.length&&v&&y===v.start;)y!==h&&m.push(l.call(e,s.substring(y,h).toString())),m.push(d.call(e,v)),h=y,p.pop(),v=p[p.length-1]
0===y&&h!==y&&m.push(l(s.substring(y,h).toString()))}r=m.reverse().join("")}else r="function"==typeof e.segment?e.segment(r):r
return r}
var r,i=(r=t(9808))&&r.__esModule?r:{default:r}
function a(e){return e}function o(){return""}},7034:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0})
var r,i=t(9808)
n.StringView=(r=i)&&r.__esModule?r.default:r
var a=t(2965)
Object.defineProperty(n,"decorate",{enumerable:!0,get:function(){return a.decorate}})},9808:(e,n)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.default=r
var t=String.fromCharCode
function r(e){Array.isArray(e)?(this.string=null,this.codePoints=e):(this.string=e,this.codePoints=function(e){for(var n,t,r=[],i=0,a=e.length;i<a;)(n=e.charCodeAt(i++))>=55296&&n<=56319&&i<a?56320==(64512&(t=e.charCodeAt(i++)))?r.push(((1023&n)<<10)+(1023&t)+65536):(r.push(n),i--):r.push(n)
return r}(e)),this.length=this.codePoints.length}r.prototype.constructor=r,r.prototype.substring=function(e,n){var t=this.length
if(0===n)return new r("")
if((isNaN(e)||e<0)&&(e=0),(isNaN(n)||n<0)&&(n=t),e>t&&(e=t),n>t&&(n=t),n<e){var i=[e,n]
n=i[0],e=i[1]}return new r(e===n?"":this.codePoints.slice(e,n))},r.prototype.toString=function(){return null!==this.string?this.string:this.codePoints.map((function(e){var n=""
return e>65535&&(n+=t((e-=65536)>>>10&1023|55296),e=56320|1023&e),n+t(e)})).join("")},e.exports=n.default},3484:(e,n,t)=>{var r=t(7034)
e.exports=r},2124:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.decodeObject=n.decodeList=n.reducedDecode=n.decode=n.paramDecode=void 0
const r=t(2726),i=/(%2C|%28|%29|%27|%3A)/g,a=/(%2C|%28|%29|%27|%3A)/
function o(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
return e.indexOf(n,t)===t}function s(e,n){if(e[e.length-1]!==n)throw new Error(`Input has unbalanced prefix and suffix: ${e}`)}function c(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=0,r=!1
const i="(",a=")"
for(;n<e.length;){const o=e[n]
if(o===i&&(t++,r=!0),o===a&&t--,0===t&&r)break
n++}return n}function d(e,n){return n?a.test(e)&&(e=e.replace(i,unescape)):e=decodeURIComponent(e),void 0===e||"''"===e?"":e}function u(e){return l(e,!1)}function l(e,n){return void 0!==e&&"''"!==e||(e=""),o(e,r.LIST_PREFIX)?(s(e,r.LIST_SUFFIX),p(e.substring(5,e.length-1),n)):o(e,r.OBJ_PREFIX)?(s(e,r.OBJ_SUFFIX),f(e.substring(1,e.length-1),n)):d(e,n)}function p(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
const t=[]
let i=0
for(;i<e.length;){if(o(e,r.LIST_PREFIX,i)||o(e,r.OBJ_PREFIX,i)){const r=c(e,i)
t.push(l(e.substring(i,r+1),n)),i=r+2
continue}let a=e.indexOf(",",i)
a<0&&(a=e.length),t.push(d(e.substring(i,a),n)),i=a+1}return t}function f(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
const t={}
let i=0
for(;i<e.length;){const a=e.indexOf(":",i),o=d(e.substring(i,a),n)
if(i=a+1,e.startsWith(r.LIST_PREFIX,i)||e.startsWith(r.OBJ_PREFIX,i)){const r=c(e,i)
t[o]=l(e.substring(i,r+1),n),i=r+2
continue}let s=e.indexOf(",",i)
s<0&&(s=e.length)
const u=d(e.substring(i,s),n)
t[o]=u,i=s+1}return t}n.paramDecode=function(e){return e.split("&").reduce((function(e,n){if(!n.length)return e
if(0===n.indexOf("="))return e
let[t="",r]=n.split("=")
return"''"===t&&(t=""),void 0!==r&&""!==r||(r="''"),e[decodeURIComponent(t)]=u(r),e}),{})},n.decode=u,n.reducedDecode=function(e){return l(e,!0)},n.decodeList=p,n.decodeObject=f},6803:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.encodePrimitive=n.encodeObject=n.encodeArray=n.encodeAnyType=n.arrayParamToQueryStringObject=n.arrayParamEncode=n.paramEncode=n.reducedEncode=n.encode=void 0
const r=t(2726),i=/[,()':]/g,a=/[,()':]/
function o(e,n){if("object"!=typeof e)throw new Error(n)}function s(e){const n=JSON.parse(JSON.stringify(e))
return function(e,n){if(Array.isArray(e)||"object"!=typeof e||null===e)throw new Error("You must pass an object to the paramEncode function. Use arrayParamEncode.")}(n),Object.keys(n).map((e=>`${p(e)}=${d(n[e],!1)}`)).join("&")}function c(e){if(e=JSON.parse(JSON.stringify(e)),!Array.isArray(e))throw new Error("You must pass an array to the arrayParamEncode function.")
return e.reduce((function(e,n){if(!n||!n.hasOwnProperty("name")||!n.hasOwnProperty("value"))throw new Error("Objects passed to the arrayParamEncode function must have name and value properties.")
if("object"==typeof n.value&&null!==n.value)throw new Error("Only primitives may be passed to arrayParamEncode as item values.")
const t=n.name,r=e.hasOwnProperty(t),i=e[t]
return r?Array.isArray(i)?i.push(n.value):e[t]=[i,n.value]:e[t]=n.value,e}),{})}function d(e,n){return Array.isArray(e)?u(e,n):function(e){return"object"==typeof e&&null!==e}(e)?l(e,n):p(e,n)}function u(e,n){const t=new Array(e.length)
for(let r=0;r<e.length;r++)t[r]=d(e[r],n)
return`${r.LIST_PREFIX}${t.join(",")}${r.LIST_SUFFIX}`}function l(e,n){const t=Object.keys(e).map((t=>`${p(t,n)}:${d(e[t],n)}`))
return`${r.OBJ_PREFIX}${t.join(",")}${r.OBJ_SUFFIX}`}function p(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
return""===e?"''":n&&"string"==typeof e&&a.test(e)?e.replace(i,escape):n?e:encodeURIComponent(e).replace(i,escape)}n.encode=function(e){const n=JSON.parse(JSON.stringify(e))
return o(n,"You must pass either an array or an object to the encode function."),d(n,!1)},n.reducedEncode=function(e){const n=JSON.parse(JSON.stringify(e))
return o(n,"You must pass either an array or an object to the reducedEncode function."),d(n,!0)},n.paramEncode=s,n.arrayParamEncode=function(e){return s(c(e))},n.arrayParamToQueryStringObject=c,n.encodeAnyType=d,n.encodeArray=u,n.encodeObject=l,n.encodePrimitive=p},1448:(e,n)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.default=Object.freeze({S_100_CONTINUE:100,S_101_SWITCHING_PROTOCOLS:101,S_200_OK:200,S_201_CREATED:201,S_202_ACCEPTED:202,S_203_NON_AUTHORITATIVE_INFORMATION:203,S_204_NO_CONTENT:204,S_205_RESET_CONTENT:205,S_206_PARTIAL_CONTENT:206,S_207_MULTI_STATUS:207,S_300_MULTIPLE_CHOICES:300,S_301_MOVED_PERMANENTLY:301,S_302_FOUND:302,S_303_SEE_OTHER:303,S_304_NOT_MODIFIED:304,S_305_USE_PROXY:305,S_307_TEMPORARY_REDIRECT:307,S_400_BAD_REQUEST:400,S_401_UNAUTHORIZED:401,S_402_PAYMENT_REQUIRED:402,S_403_FORBIDDEN:403,S_404_NOT_FOUND:404,S_405_METHOD_NOT_ALLOWED:405,S_406_NOT_ACCEPTABLE:406,S_407_PROXY_AUTHENTICATION_REQUIRED:407,S_408_REQUEST_TIMEOUT:408,S_409_CONFLICT:409,S_410_GONE:410,S_411_LENGTH_REQUIRED:411,S_412_PRECONDITION_FAILED:412,S_413_REQUEST_ENTITY_TOO_LARGE:413,S_414_REQUEST_URI_TOO_LONG:414,S_415_UNSUPPORTED_MEDIA_TYPE:415,S_416_REQUESTED_RANGE_NOT_SATISFIABLE:416,S_417_EXPECTATION_FAILED:417,S_422_UNPROCESSABLE_ENTITY:422,S_423_LOCKED:423,S_424_FAILED_DEPENDENCY:424,S_428_PRECONDITION_REQUIRED:428,S_429_TOO_MANY_REQUESTS:429,S_500_INTERNAL_SERVER_ERROR:500,S_501_NOT_IMPLEMENTED:501,S_502_BAD_GATEWAY:502,S_503_SERVICE_UNAVAILABLE:503,S_504_GATEWAY_TIMEOUT:504,S_505_HTTP_VERSION_NOT_SUPPORTED:505})},5452:function(e,n,t){"use strict"
var r=this&&this.__createBinding||(Object.create?function(e,n,t,r){void 0===r&&(r=t)
var i=Object.getOwnPropertyDescriptor(n,t)
i&&!("get"in i?!n.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return n[t]}}),Object.defineProperty(e,r,i)}:function(e,n,t,r){void 0===r&&(r=t),e[r]=n[t]}),i=this&&this.__exportStar||function(e,n){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(n,t)||r(n,e,t)}
Object.defineProperty(n,"__esModule",{value:!0}),n.httpStatus=n.reducedEncode=n.paramEncode=n.encode=n.arrayParamToQueryStringObject=n.arrayParamEncode=void 0,i(t(2124),n)
var a=t(6803)
Object.defineProperty(n,"arrayParamEncode",{enumerable:!0,get:function(){return a.arrayParamEncode}}),Object.defineProperty(n,"arrayParamToQueryStringObject",{enumerable:!0,get:function(){return a.arrayParamToQueryStringObject}}),Object.defineProperty(n,"encode",{enumerable:!0,get:function(){return a.encode}}),Object.defineProperty(n,"paramEncode",{enumerable:!0,get:function(){return a.paramEncode}}),Object.defineProperty(n,"reducedEncode",{enumerable:!0,get:function(){return a.reducedEncode}})
var o=t(1448)
Object.defineProperty(n,"httpStatus",{enumerable:!0,get:function(){return o.default}}),i(t(9634),n),i(t(2726),n)},9634:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.queryTunnelRequest=n.queryTunnel=n.urlRequiresQueryTunneling=n.checkAndEncodeLongUrl=n.encodeRequest=void 0
const r=t(2726),i="application/x-www-form-urlencoded"
function a(e){if(!0===e.forceQueryTunnel){const{path:n,queryString:t}=(0,r.extractPathAndQueryStringFromUrl)(e.url||void 0)
if(t){const r={}
for(const n in e.headers)"CONTENT-TYPE"!==n.toUpperCase()&&(r[n]=e.headers[n])
let a,o
if(r["X-HTTP-Method-Override"]=e.method,e.body){const n=`RESTLI_${Date.now()}`
o="multipart/mixed; boundary="+n,a=["--"+n,"Content-Type: "+i,"",t,"--"+n,"Content-Type: application/json","",e.body,"--"+n+"--"].join("\r\n")}else o=i,a=t
return r["Content-Type"]=o,{body:a,headers:r,method:"POST",url:n}}}const n={method:e.method,url:e.url}
return e.body&&(n.body=e.body),n}function o(){const e=document.querySelector('meta[name="isQueryTunnelRequestSupported"]')
return e&&"true"===e.getAttribute("content")||!1}function s(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return c(e)?d(e,n):{url:e,request:n}}function c(e){const{path:n,queryString:t}=(0,r.extractPathAndQueryStringFromUrl)(e)
if(n.length>8e3)throw new Error(`Per AFD limitations, this request url ${e} will not work. Please contact ask_traffic@.`)
return e.length>8e3||t.length>4e3}function d(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const t=Object.assign({},n)
t.url=e,t.forceQueryTunnel=!0
const r=a(t)
return n.method=r.method,n.headers=r.headers,n.body=r.body,n.data=r.body,{url:r.url||void 0,request:n}}n.encodeRequest=a,n.checkAndEncodeLongUrl=s,n.urlRequiresQueryTunneling=c,n.queryTunnel=d,n.queryTunnelRequest=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return o()?s(e,n):{url:e,request:n}}},2726:(e,n)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.extractPathAndQueryStringFromUrl=n.OBJ_SUFFIX=n.OBJ_PREFIX=n.LIST_SUFFIX=n.LIST_PREFIX=void 0,n.LIST_PREFIX="List(",n.LIST_SUFFIX=")",n.OBJ_PREFIX="(",n.OBJ_SUFFIX=")"
const t=/^(\/[^?]+)\??(.*)$/
n.extractPathAndQueryStringFromUrl=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
const n=t.exec(e)
if(n){const[,e="",t=""]=n
return{path:e,queryString:t}}return{path:"",queryString:""}}},9509:function(e,n,t){var r,i,a
e=t.nmd(e),a=function(n){"use strict"
var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,n){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,i=!1,a=void 0
try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return t}(e,n)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}
function s(e){var n=void 0===e?"undefined":a(e)
return"number"===n?!isNaN(e-parseFloat(e)):"string"===n}var c=function(e,n){if(!s(e))return""
var t=e.toString().split("."),r=o(t,2),i=r[0],a=r[1],c=i=i.replace(/(\d)(?=(\d{2})+\d$)/g,"$1,")
return n&&(c=""+n+i),"string"==typeof a&&(c=c+"."+a),c},d=window&&window.t8?window.t8:{},u=null,l=null
Object.keys(d).length&&(u=new d.CurrencyFormatter,l=new d.NumberFormatter)
var p=u,f=l,m=null,y=null
function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
throw new Error("You need to inject a "+e+" formatter or have t8 available as a global, neither were found")}var g={currency:function(e,n,t){return m?m(e,n,t):(p||h("currency"),p.format(e,t,n))},number:function(){var e
return y?y.apply(void 0,arguments):(f||h("number"),(e=f).format.apply(e,arguments))}}
function v(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r]
return g[e].apply(g,t)}function _(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US"
return"en_IN"===n?c(e):v("number",e,n)}var b="12345678.91",T={},E={en_US:["K","M","B"],zh_CN:["K","M","B"],en_IN:["K","Lakh","cr"]},A=["en_US","zh_CN"],S=["en_IN"],C=function(e){return Math.pow(10,3*(e+1))},k=function(e){return 0===e?1e3:Math.pow(10,2*(e+1.5))},I=function(){}
function R(e,n){var t=function(e){return[",","."," ",String.fromCharCode(160),"'"].reduce((function(n,t){return e.split(t).length>=3?t:n}))}(e),r=function(e){return[",","."].reduce((function(n,t){return 2===e.split(t).length?t:n}))}(e),i=function(e,n){return 4===e.split(n).length?"india":"thousands"}(e,t),a=function(e){return E[e]||[]}(n),o=function(e){return A.indexOf(e)>-1?C:S.indexOf(e)>-1?k:I}(n)
return{delimiter:t,radixMark:r,delimiterStyle:i,abbreviations:a,abbreviateOn:o}}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US",n=arguments[1],t=e,r=T[t]
if(r)return r
var i=R(_(b,e,n),e)
return T[t]=i,i}var w=function(e){return function(e){return/[a-z][_-][A-Z]/g.test(e)}(e)},O=function(e){return x(e)},M=function(e){return s(e)}
function N(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=P(e,n)
return t.replace(new RegExp("\\"+n,"g"),".")}function P(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=new RegExp("((&#(39|92|61);)|[^\\d\\"+n+"])","g")
return e.replace(t,"")}function D(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"."
if(!M(e))return""
var t=n
if(w(n)){var r=O(n)
t=r.radixMark}return N(e,t)}var U="object"==typeof global&&global&&global.Object===Object&&global,L="object"==typeof self&&self&&self.Object===Object&&self,F=U||L||Function("return this")(),j=F.Symbol,B=Object.prototype,q=B.hasOwnProperty,V=B.toString,$=j?j.toStringTag:void 0,K=Object.prototype.toString,H=j?j.toStringTag:void 0
function G(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":H&&H in Object(e)?function(e){var n=q.call(e,$),t=e[$]
try{e[$]=void 0
var r=!0}catch(e){}var i=V.call(e)
return r&&(n?e[$]=t:delete e[$]),i}(e):function(e){return K.call(e)}(e)}function W(e){var n=typeof e
return null!=e&&("object"==n||"function"==n)}function Y(e){if(!W(e))return!1
var n=G(e)
return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}var z,X=F["__core-js_shared__"],Q=(z=/[^.]+$/.exec(X&&X.keys&&X.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",J=Function.prototype.toString,Z=/^\[object .+?Constructor\]$/,ee=Function.prototype,ne=Object.prototype,te=ee.toString,re=ne.hasOwnProperty,ie=RegExp("^"+te.call(re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ae=function(){try{var e=function(e){return!(!W(e)||(n=e,Q&&Q in n))&&(Y(e)?ie:Z).test(function(e){if(null!=e){try{return J.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))
var n}(t=null==(n=Object)?void 0:n.defineProperty)?t:void 0
return e({},"",{}),e}catch(e){}var n,t}()
function oe(e,n,t){"__proto__"==n&&ae?ae(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function se(e,n){return e===n||e!=e&&n!=n}var ce=Object.prototype.hasOwnProperty
function de(e,n,t){var r=e[n]
ce.call(e,n)&&se(r,t)&&(void 0!==t||n in e)||oe(e,n,t)}function ue(e){return e}function le(e,n,t){switch(t.length){case 0:return e.call(n)
case 1:return e.call(n,t[0])
case 2:return e.call(n,t[0],t[1])
case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}var pe,fe,me,ye=Math.max,he=ae?function(e,n){return ae(e,"toString",{configurable:!0,enumerable:!1,value:(t=n,function(){return t}),writable:!0})
var t}:ue,ge=Date.now,ve=(pe=he,fe=0,me=0,function(){var e=ge(),n=16-(e-me)
if(me=e,n>0){if(++fe>=800)return arguments[0]}else fe=0
return pe.apply(void 0,arguments)})
function _e(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function be(e){return null!=e&&_e(e.length)&&!Y(e)}var Te=/^(?:0|[1-9]\d*)$/
function Ee(e,n){var t=typeof e
return!!(n=null==n?9007199254740991:n)&&("number"==t||"symbol"!=t&&Te.test(e))&&e>-1&&e%1==0&&e<n}var Ae=Object.prototype
function Se(e){var n=e&&e.constructor
return e===("function"==typeof n&&n.prototype||Ae)}function Ce(e){return null!=e&&"object"==typeof e}function ke(e){return Ce(e)&&"[object Arguments]"==G(e)}var Ie=Object.prototype,Re=Ie.hasOwnProperty,xe=Ie.propertyIsEnumerable,we=ke(function(){return arguments}())?ke:function(e){return Ce(e)&&Re.call(e,"callee")&&!xe.call(e,"callee")},Oe=Array.isArray,Me="object"==typeof n&&n&&!n.nodeType&&n,Ne=Me&&e&&!e.nodeType&&e,Pe=Ne&&Ne.exports===Me?F.Buffer:void 0,De=(Pe?Pe.isBuffer:void 0)||function(){return!1},Ue={}
Ue["[object Float32Array]"]=Ue["[object Float64Array]"]=Ue["[object Int8Array]"]=Ue["[object Int16Array]"]=Ue["[object Int32Array]"]=Ue["[object Uint8Array]"]=Ue["[object Uint8ClampedArray]"]=Ue["[object Uint16Array]"]=Ue["[object Uint32Array]"]=!0,Ue["[object Arguments]"]=Ue["[object Array]"]=Ue["[object ArrayBuffer]"]=Ue["[object Boolean]"]=Ue["[object DataView]"]=Ue["[object Date]"]=Ue["[object Error]"]=Ue["[object Function]"]=Ue["[object Map]"]=Ue["[object Number]"]=Ue["[object Object]"]=Ue["[object RegExp]"]=Ue["[object Set]"]=Ue["[object String]"]=Ue["[object WeakMap]"]=!1
var Le="object"==typeof n&&n&&!n.nodeType&&n,Fe=Le&&e&&!e.nodeType&&e,je=Fe&&Fe.exports===Le&&U.process,Be=function(){try{return Fe&&Fe.require&&Fe.require("util").types||je&&je.binding&&je.binding("util")}catch(e){}}(),qe=Be&&Be.isTypedArray,Ve=qe?function(e){return function(n){return e(n)}}(qe):function(e){return Ce(e)&&_e(e.length)&&!!Ue[G(e)]},$e=Object.prototype.hasOwnProperty,Ke=function(e,n){return function(t){return e(n(t))}}(Object.keys,Object),He=Object.prototype.hasOwnProperty
var Ge,We=Object.prototype.hasOwnProperty,Ye=(Ge=function(e,n){if(Se(n)||be(n))!function(e,n,t,r){var i=!t
t||(t={})
for(var a=-1,o=n.length;++a<o;){var s=n[a],c=void 0
void 0===c&&(c=e[s]),i?oe(t,s,c):de(t,s,c)}}(n,function(e){return be(e)?function(e,n){var t=Oe(e),r=!t&&we(e),i=!t&&!r&&De(e),a=!t&&!r&&!i&&Ve(e),o=t||r||i||a,s=o?function(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t)
return r}(e.length,String):[],c=s.length
for(var d in e)!$e.call(e,d)||o&&("length"==d||i&&("offset"==d||"parent"==d)||a&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||Ee(d,c))||s.push(d)
return s}(e):function(e){if(!Se(e))return Ke(e)
var n=[]
for(var t in Object(e))He.call(e,t)&&"constructor"!=t&&n.push(t)
return n}(e)}(n),e)
else for(var t in n)We.call(n,t)&&de(e,t,n[t])},function(e,n){return ve(function(e,n,t){return n=ye(void 0===n?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=ye(r.length-n,0),o=Array(a);++i<a;)o[i]=r[n+i]
i=-1
for(var s=Array(n+1);++i<n;)s[i]=r[i]
return s[n]=t(o),le(e,this,s)}}(e,void 0,ue),e+"")}((function(e,n){var t=-1,r=n.length,i=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0
for(i=Ge.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,n,t){if(!W(t))return!1
var r=typeof n
return!!("number"==r?be(t)&&Ee(n,t.length):"string"==r&&n in t)&&se(t[n],e)}(n[0],n[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++t<r;){var o=n[t]
o&&Ge(e,o)}return e})))
function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",n=[".",",","s","'"]
return n.splice(n.indexOf(e),1),n.join("\\")}function Xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",n=ze(e)
return new RegExp("([^,\\.\\d]*)(["+n+"\\d]*\\d+)(\\"+e+"?)(\\d*)(\\D*)")}function Qe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=["","","","",""]
if(!s(e))return t
var r=Xe(n),i=r.exec(e)
return i?(i.shift(),i.map((function(e){return e||""}))):t}function Je(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.keepTrailingRadixMark,a=void 0!==i&&i
if(!s(e))return""
var c=e.toString(),d=Qe(c,n),u=o(d,5),l=u[0],p=u[1],f=u[2],m=u[3],y=u[4],h=t
return s(h)&&""!==h&&(h=Number(h)),0===h?""+l+p+y:a&&""===m?""+l+p+f+y:(h&&(m=m.slice(0,h)),""===m?""+l+p+y:""+l+p+f+m+y)}function Ze(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD"
if("en_IN"===n){var r=sn("en_US",t),i=r.currencySymbol,a=r.radixPlaces,o=r.radixMark,s=Je(e,o,a)
return c(s,i)}return v("currency",e,n,t)}var en="12345678.91",nn={}
function tn(e){return Number(e.substring(0,1))?"after":"before"}function rn(e,n,t){var r=new RegExp("[^\\d\\"+n+"\\"+t+"\\s]+"),i=e.match(r)
return i?i[0]:""}function an(e,n){var t=n.replace("$","\\$"),r=new RegExp("\\s?"+t+"\\s?"),i=e.match(r)
return i?i[0]:n}function on(e,n){var t=new RegExp("\\"+n+"(\\d+)"),r=e.match(t)
return r?r[1].length:0}function sn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",t=arguments[2],r=e+":"+n,i=nn[r]
if(i)return i
var a=x(e),o=a.radixMark,s=a.delimiter,c=Ze(en,e,n,t),d=tn(c),u=rn(c,o,s),l=an(c,u),p=on(c,o),f=Ye({},a,{currencySymbolLocation:d,currencySymbol:u,currencySymbolWithWhitespace:l,radixPlaces:p})
return nn[r]=f,f}function cn(e){return e.replace(/\s/g,(function(){return" "}))}function dn(e){return 46===e||8===e}function un(e,n){return n.indexOf(e)}function ln(e,n){return e+n.length}function pn(e){var n={}
return n.start=e.selectionStart,n.end=e.selectionEnd,n.length=n.end-n.start,n}function fn(e,n,t){e.selectionStart=n,e.selectionEnd=t}function mn(e,n){return e.length-n.length}function yn(e,n,t,r,i){return n?0:r&&8===e?-i:t&&46===e?i:0}function hn(e,n){return e+n}function gn(e,n,t){return t.charAt(n-1)===e}function vn(e,n,t){return t.charAt(n)===e}function _n(e,n,t){n!==t&&fn(e,t,t)}"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self
var bn=function(e,n){return function(e,n){var a
a=function(){var e="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",n="undefined"==typeof document||"textContent"in document.createElement("div")?"textContent":"innerText",t=["b","del","em","i","s","strong","sub","sup"],r=t.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),i=[e,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|")
function a(){}function o(e,n){if(n=n||"log","undefined"!=typeof window&&window&&window.jet&&"error"===n.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[n]&&console[n](e)}new RegExp("&#?[a-zA-Z0-9]{1,10};")
var s,c,d=(c=/[&<>"'\u0000\\=]/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"�","\\":"&#92;","=":"&#61;"},function(e){return null==e?null:e.toString().replace(c,(function(e){return s[e]}))}),u=function(){var e,t,r=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi
if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")}
e=document.createElement("div")
var i={nbsp:" ",lt:"<",gt:">",amp:"&",quot:'"'}
return t="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):"�"},function(a){return null==a?null:(a+"").replace(r,(function(r,a,o,s){return a?(c=a,i.hasOwnProperty(c)?i[c]:(e.innerHTML="&"+c+";",d=e[n],i[c]=d,d)):o||s?t(parseInt(o||s,o?16:10)||65533):"�"
var c,d}))}}(),l=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}
function p(e){return/[<&]/.test(e)}var f,m=Array.prototype.forEach?function(e,n){Array.prototype.forEach.call(e,n)}:function(e,n){for(var t=0,r=e.length;t<r;t++)n(e[t],t)}
function y(e){e=l(e)?e:[e]
var n,t,a,o=0,s="<(?!/?"
return s+="(?:",m(e,(function(e,c){n=e.tags||r,t=e.attrs||i,a=e.checkUrlAttrs||!1,0!==c&&(s+="|"),s+="(?:"+n.join("|")+")",s+="(?:",s+="[ \t\r\n]*",s+="|[ \t\r\n]+",s+="(?:(?:",s+="(?:"+t+")(?:=([\"'])[^'\"<>]*\\"+ ++o+")?",a&&(s+="|(?:href|src)=([\"'])(?:(?:https?|ftp|mailto|invalid)(?::|&#(?:58|x3a);)|(?:data:image/(?:gif|jpg|jpeg|png);base64,)|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++o),s+=")[ \t\r\n]*)+",s+=")"})),s+=")",s+="/?>)",new RegExp(s,"i")}function h(e){return y({tags:e=e||r,checkUrlAttrs:!0})}function g(e,n){var t=(n=n||{}).allowTags,r=!1!==n.hasCustomElementMarkup
return t?!h(t).test(e):r?!g.R_UNSAFE_CUSTOM_ELEMENT.test(e):!g.R_UNSAFE_HTML.test(e)}function v(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}function _(e,n,t){if(null==e)return null
e=e.toString()
var r=n?function(e,n){var t={}
return e.replace(/\{([^}]+)\}/g,(function(e,r){var i,o=e
if(t.hasOwnProperty(r))return t[r]
if(n.hasOwnProperty(r)){if(!((i="string"==typeof(o=n[r]))||o instanceof a||"number"==typeof o))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.")
o=i?d(o):o.toString()}return t[r]=o,o}))}(e,n):e,i=e
return p(r)&&!g(r,t)&&(r=v(r),o("Content contains tags or attributes that are not allowed:\nContent: "+i,"error")),r}function b(e,n){for(var t=+n.length,r=0,i=e.length;r<t;r++)e[i++]=n[r]
return e.length=i,e}g.R_UNSAFE_HTML=h(),g.R_UNSAFE_CUSTOM_ELEMENT=y([{tags:r,checkUrlAttrs:!0},{tags:[(f={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"}).tag],attrs:[e,f.attrs].join("|"),checkUrlAttrs:!1}])
var T={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]}
T.optgroup=T.option,T.tbody=T.tfoot=T.colgroup=T.caption=T.thead,T.th=T.td
var E=/<([\w:]+)/
function A(e,n){var t,r,i,a,o,s,c,d=n.createDocumentFragment(),u=[]
for(o=0,c=e.length;o<c;o++)if((a=e[o])||0===a)if("string"==typeof a){for(i=i||d.appendChild(n.createElement("div")),t=(E.exec(a)||["",""])[1].toLowerCase(),k(i,(r=T[t]||T._default)[1]+a+r[2]),s=r[0];s--;)i.lastChild&&i.lastChild.nodeType===Node.ELEMENT_NODE&&(i=i.lastChild)
b(u,i.childNodes),(i=d.firstChild).textContent=""}else b(u,a.nodeType?[a]:a)
for(d.textContent="",a=u[o=0];a;)d.appendChild(a),a=u[++o]
return d}var S=_,C=_
function k(e,t,r){var i=_(t,r)
return p(i)?e.innerHTML=i:e[n]=i,i}function I(e,n){if(!(this instanceof I))return new I(e,n);(n=n||{}).allowTags=n.allowTags?n.allowTags.reduce((function(e,n){return e.concat(n)}),[]):null,this._string=e,this._options=n}I.prototype=function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])
return e}(new a,{toString:function(){var e=this._string,n=this._stringVal,t=e
return void 0!==n?n:(g(e,this._options)||(t=e,e=v(e),o("UnsafeString contains tags or attributes that are not allowed.\nString: "+t,"error")),this._stringVal=e,e)}})
var R=/ /g,x=/[\s\u0000<>"]|%00/,w=/\\/,O=/([.]|%2e){2}/i,M=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])")
function N(e){var n=void 0,t="invalid://"
if("string"!=typeof e)return o("jSecure Warning: url must be a string","error"),t
if((n=e.trim()).indexOf(" ")>-1&&(o("jSecure Warning: url should not contain spaces: "+e,"warn"),n=n.replace(R,"+")),!M.test(n))return o("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),t
if(x.test(n))return o("jSecure Error: not valid url character found in url: "+e,"error"),t
var r=n.split("?")[0],i=void 0,a=!1
try{i=decodeURI(r)}catch(e){a=!0}return a?(o("jSecure Error: malformed url path detected: "+r),t):w.test(r)||O.test(r)||O.test(i)?(o("jSecure Error: malicious data found in url path: "+r,"error"),t):e}var P={redirect:function(e){window&&(window.location.href=e)}}
return{ALLOWED_TAGS:r,FORMATTING_TAGS:t,htmlEncode:d,htmlUnencode:u,log:o,mk:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r]
var i="",a=void 0,o=t.length
return e&&e.forEach((function(e,n){i+=e,n<o&&(a=t[n],i+=a instanceof I?a:d(a))})),C(i)},parseHTML:function(e,n){var t
if(n=n||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)t=A([e],n)
else{if(!l(e))return e
t=A(e,n)}return b([],t.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:S,reEncode:function(e){return d(u(e))},_redirector:P,redirect:function(e){var n=N(e)
n===e&&P.redirect(n)},sanitizeHTML:C,sanitizeUrl:N,setElementContent:k,text:function(e){return o("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),d(e)},unsafe:function(e){return e},UnsafeString:I}},"object"==typeof n&&void 0!==e?e.exports=a():void 0===(i="function"==typeof(r=a)?r.call(n,t,n,e):r)||(e.exports=i)}(n={exports:{}},n.exports),n.exports}(),Tn=bn.sanitizeHTML
function En(e){return e.target}function An(e){var n=e.value.trim()
return n?Tn(n):""}function Sn(e){var n=e.value
return n?Tn(n):""}function Cn(e,n){e.value=n}function kn(e){return e.which}var In=function(e,n){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,i=!1,a=void 0
try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return t}(e,n)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}
function Rn(e){return"0"+e}function xn(e,n,t,r){return n||""===n?Je(""+e+t+n,t,r,{keepTrailingRadixMark:!0}):e}function wn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments[2],r=x(n),i=r.radixMark,a=t
if(s(a)&&""!==a&&(a=Number(a)),!e)return""
if("."===e)return 0===a?"":Rn(i)
var o=e.split("."),c=In(o,2),d=c[0],u=c[1],l=cn(_(d,n))
return xn(l,u,i,t)}function On(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments[2],r=D(e,n)
return wn(r,n,t)}function Mn(e,n,t,r){if(function(e,n,t){return function(e,n,t){var r=un(e,t),i=ln(r,e)
return n>r&&n<i}(e,n,t)||function(e,n,t){return n===ln(un(e,t),e)}(e,n,t)||function(e,n,t){return n===t.indexOf(e)}(e,n,t)}(e,t,r)){var i=un(e,r),a=ln(i,e)
return"before"===n?a:i}return t}function Nn(e,n,t){return"before"===t?""+n+e:""+e+n}function Pn(e,n){var t=e
return s(t)&&""!==t&&(t=Number(t)),t||0===t?t:n}function Dn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD",r=arguments[3],i=sn(n,t),a=i.currencySymbolWithWhitespace,o=i.currencySymbolLocation,c=i.radixMark,d=i.radixPlaces
if(!s(e))return""
var u=Pn(r,d)
a=cn(a)
var l=D(e,c),p=Qe(l,"."),f=In(p,2),m=f[1]
if(""===l)return a
if("."===l)return 0===u?a:Nn(Rn(c),a,o)
var y=Qe(Je(e,c,u,{keepTrailingRadixMark:!0}),c),h=In(y,4),g=h[2],v=h[3],_=cn(Ze(m,n,t)),b=Qe(_,c),T=In(b,5),E=T[0],A=T[1],S=T[4]
return""+E+A+g+v+S}n.onNumberInput=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.locale,r=void 0===t?"en_US":t,i=n.maxRadixPlaces,a=void 0===i?"":i,o=n.setValue,s=n.beforeSetValue,c=n.afterSetValue,d=En(e),u=An(d),l=D(u,r),p=On(u,r,a),f=mn(p,u),m=pn(d).end,y=hn(m,f)
l=D(p,r),s&&"function"==typeof s&&s(p,l),o&&"function"==typeof o?o(p,l):Cn(d,p),_n(d,p.length,y),c&&"function"==typeof c&&c(p,l)},n.onNumberKeyDown=function(e,n){var t=n.locale,r=void 0===t?"en_US":t,i=kn(e)
if(dn(i)){var a=En(e),o=An(a),s=x(r).delimiter,c=pn(a),d=c.start
_n(a,d,hn(d,yn(i,c.length,vn(s,d,o),gn(s,d,o),s.length)))}},n.formatMaskingNumber=On,n.formatUnformattedNumber=wn,n.onCurrencyInput=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.locale,r=void 0===t?"en_US":t,i=n.currencyCode,a=void 0===i?"USD":i,o=n.maxRadixPlaces,s=void 0===o?"":o,c=n.setValue,d=n.beforeSetValue,u=n.afterSetValue,l=En(e),p=An(l),f=sn(r,a),m=f.currencySymbolWithWhitespace,y=f.currencySymbolLocation,h=f.radixMark
m=cn(m)
var g=Dn(p,r,a,s),v=mn(g,p),_=pn(l).end,b=hn(_,v)
b=Mn(m,y,b,g)
var T=D(g,h)
d&&"function"==typeof d&&d(g,T),c&&"function"==typeof c?c(g,T):Cn(l,g),_n(l,g.length,b),u&&"function"==typeof u&&u(g,T)},n.onCurrencyKeyDown=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.locale,r=void 0===t?"en_US":t,i=n.currencyCode,a=void 0===i?"USD":i,o=kn(e),s=En(e),c=Sn(s),d=pn(s),u=d.start,l=d.length,p=u,f=sn(r,a),m=f.currencySymbolWithWhitespace,y=f.currencySymbolLocation,h=f.delimiter
if(m=cn(m),h=cn(h),dn(o)){var g=yn(o,l,vn(h,u,c),gn(h,u,c),h.length)
p=hn(u,g)}p=Mn(m,y,p,c),l||_n(s,u,p)},n.onCurrencyFocus=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.locale,r=void 0===t?"en_US":t,i=n.currencyCode,a=void 0===i?"USD":i,o=En(e),s=An(o)
if(""===s){var c=sn(r,a),d=c.currencySymbolWithWhitespace,u=c.currencySymbolLocation
Cn(o,d=cn(d))
var l=pn(o),p=l.start,f=Mn(d,u,p,d)
_n(o,p,f)}},n.onCurrencyBlur=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.locale,r=void 0===t?"en_US":t,i=n.currencyCode,a=void 0===i?"USD":i,o=n.beforeSetValue,s=n.setValue,c=n.afterSetValue,d=En(e),u=An(d),l=sn(r,a),p=l.currencySymbol
if(""===u||u===p){var f=""
o&&"function"==typeof o&&o(f,f),s&&"function"==typeof s?s(f,f):Cn(d,f),c&&"function"==typeof c&&c(f,f)}},n.formatMaskingCurrency=Dn,n.formatUnformattedCurrency=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD",r=arguments[3],i=wn(e,n,r)
return Dn(i,n,t,r)},n.setElementSelection=fn,n.getElementSelection=pn,n.getCursorAdjustment=mn,n.getAdjustedCursorPosition=hn,n.isCursorImmediatelyBeforeCharacter=vn,n.isCursorImmediatelyAfterCharacter=gn,n.injectNumberFormatter=function(e){var n=void 0===e?"undefined":a(e)
if(!e||"function"!==n)throw new Error("Expected function for number formatter, got "+n)
y=e},n.injectCurrencyFormatter=function(e){var n=void 0===e?"undefined":a(e)
if(!e||"function"!==n)throw new Error("Expected function for currency formatter, got "+n)
m=e},Object.defineProperty(n,"__esModule",{value:!0})},a(n)},9775:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{abbreviateNumber:()=>mn,addNBSP:()=>pn,formatCurrency:()=>tn,formatNumber:()=>T,getCurrencyFormatData:()=>un,getNumberFormatData:()=>O,indiaNumberFormatter:()=>o,injectCurrencyFormatter:()=>g,injectNumberFormatter:()=>v,isNumberOrString:()=>a,parseNumber:()=>Ze,removeFormatting:()=>U,removeNBSP:()=>ln,resetCurrencyFormatter:()=>b,resetNumberFormatter:()=>_,toDecimalString:()=>L,trimFractionalNumbers:()=>nn,trimRadixPlaces:()=>en}),e=t.hmd(e)
var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,n){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,i=!1,a=void 0
try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),!n||t.length!==n);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return t}(e,n)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}
function a(e){var n=void 0===e?"undefined":r(e)
return"number"===n?!isNaN(e-parseFloat(e)):"string"===n}var o=function(e,n){if(!a(e))return""
var t=e.toString().split("."),r=i(t,2),o=r[0],s=r[1],c=o=o.replace(/(\d)(?=(\d{2})+\d$)/g,"$1,")
return n&&(c=""+n+o),"string"==typeof s&&(c=c+"."+s),c},s=window&&window.t8?window.t8:{},c=null,d=null
Object.keys(s).length&&(c=new s.CurrencyFormatter,d=new s.NumberFormatter)
var u=c,l=d,p=null,f=null
function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
throw new Error("You need to inject a "+e+" formatter or have t8 available as a global, neither were found")}var y={currency:function(e,n,t){return p?p(e,n,t):(u||m("currency"),u.format(e,t,n))},number:function(){var e
return f?f.apply(void 0,arguments):(l||m("number"),(e=l).format.apply(e,arguments))}}
function h(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r]
return y[e].apply(y,t)}function g(e){var n=void 0===e?"undefined":r(e)
if(!e||"function"!==n)throw new Error("Expected function for currency formatter, got "+n)
p=e}function v(e){var n=void 0===e?"undefined":r(e)
if(!e||"function"!==n)throw new Error("Expected function for number formatter, got "+n)
f=e}function _(){f=null}function b(){p=null}function T(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US"
return"en_IN"===n?o(e):h("number",e,n)}var E="12345678.91",A={},S={en_US:["K","M","B"],zh_CN:["K","M","B"],en_IN:["K","Lakh","cr"]},C=["en_US","zh_CN"],k=["en_IN"],I=function(e){return Math.pow(10,3*(e+1))},R=function(e){return 0===e?1e3:Math.pow(10,2*(e+1.5))},x=function(){}
function w(e,n){var t=function(e){return[",","."," ",String.fromCharCode(160),"'"].reduce((function(n,t){return e.split(t).length>=3?t:n}))}(e),r=function(e){return[",","."].reduce((function(n,t){return 2===e.split(t).length?t:n}))}(e),i=function(e,n){return 4===e.split(n).length?"india":"thousands"}(e,t),a=function(e){return S[e]||[]}(n),o=function(e){return C.indexOf(e)>-1?I:k.indexOf(e)>-1?R:x}(n)
return{delimiter:t,radixMark:r,delimiterStyle:i,abbreviations:a,abbreviateOn:o}}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US",n=arguments[1],t=e,r=A[t]
if(r)return r
var i=w(T(E,e,n),e)
return A[t]=i,i}var M=function(e){return function(e){return/[a-z][_-][A-Z]/g.test(e)}(e)},N=function(e){return O(e)},P=function(e){return a(e)}
function D(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=U(e,n)
return t.replace(new RegExp("\\"+n,"g"),".")}function U(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=new RegExp("((&#(39|92|61);)|[^\\d\\"+n+"])","g")
return e.replace(t,"")}function L(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"."
if(!P(e))return""
var t=n
if(M(n)){var r=N(n)
t=r.radixMark}return D(e,t)}var F="object"==typeof global&&global&&global.Object===Object&&global,j="object"==typeof self&&self&&self.Object===Object&&self,B=F||j||Function("return this")(),q=B.Symbol,V=Object.prototype,$=V.hasOwnProperty,K=V.toString,H=q?q.toStringTag:void 0,G=Object.prototype.toString,W=q?q.toStringTag:void 0
function Y(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":W&&W in Object(e)?function(e){var n=$.call(e,H),t=e[H]
try{e[H]=void 0
var r=!0}catch(e){}var i=K.call(e)
return r&&(n?e[H]=t:delete e[H]),i}(e):function(e){return G.call(e)}(e)}function z(e){var n=typeof e
return null!=e&&("object"==n||"function"==n)}function X(e){if(!z(e))return!1
var n=Y(e)
return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}var Q,J=B["__core-js_shared__"],Z=(Q=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",ee=Function.prototype.toString,ne=/^\[object .+?Constructor\]$/,te=Function.prototype,re=Object.prototype,ie=te.toString,ae=re.hasOwnProperty,oe=RegExp("^"+ie.call(ae).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),se=function(){try{var e=function(e){return!(!z(e)||(n=e,Z&&Z in n))&&(X(e)?oe:ne).test(function(e){if(null!=e){try{return ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))
var n}(t=null==(n=Object)?void 0:n.defineProperty)?t:void 0
return e({},"",{}),e}catch(e){}var n,t}()
function ce(e,n,t){"__proto__"==n&&se?se(e,n,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[n]=t}function de(e,n){return e===n||e!=e&&n!=n}var ue=Object.prototype.hasOwnProperty
function le(e,n,t){var r=e[n]
ue.call(e,n)&&de(r,t)&&(void 0!==t||n in e)||ce(e,n,t)}function pe(e){return e}function fe(e,n,t){switch(t.length){case 0:return e.call(n)
case 1:return e.call(n,t[0])
case 2:return e.call(n,t[0],t[1])
case 3:return e.call(n,t[0],t[1],t[2])}return e.apply(n,t)}var me,ye,he,ge=Math.max,ve=se?function(e,n){return se(e,"toString",{configurable:!0,enumerable:!1,value:(t=n,function(){return t}),writable:!0})
var t}:pe,_e=Date.now,be=(me=ve,ye=0,he=0,function(){var e=_e(),n=16-(e-he)
if(he=e,n>0){if(++ye>=800)return arguments[0]}else ye=0
return me.apply(void 0,arguments)})
function Te(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Ee(e){return null!=e&&Te(e.length)&&!X(e)}var Ae=/^(?:0|[1-9]\d*)$/
function Se(e,n){var t=typeof e
return!!(n=null==n?9007199254740991:n)&&("number"==t||"symbol"!=t&&Ae.test(e))&&e>-1&&e%1==0&&e<n}var Ce=Object.prototype
function ke(e){var n=e&&e.constructor
return e===("function"==typeof n&&n.prototype||Ce)}function Ie(e){return null!=e&&"object"==typeof e}function Re(e){return Ie(e)&&"[object Arguments]"==Y(e)}var xe=Object.prototype,we=xe.hasOwnProperty,Oe=xe.propertyIsEnumerable,Me=Re(function(){return arguments}())?Re:function(e){return Ie(e)&&we.call(e,"callee")&&!Oe.call(e,"callee")},Ne=Array.isArray,Pe="object"==typeof exports&&exports&&!exports.nodeType&&exports,De=Pe&&e&&!e.nodeType&&e,Ue=De&&De.exports===Pe?B.Buffer:void 0,Le=(Ue?Ue.isBuffer:void 0)||function(){return!1},Fe={}
Fe["[object Float32Array]"]=Fe["[object Float64Array]"]=Fe["[object Int8Array]"]=Fe["[object Int16Array]"]=Fe["[object Int32Array]"]=Fe["[object Uint8Array]"]=Fe["[object Uint8ClampedArray]"]=Fe["[object Uint16Array]"]=Fe["[object Uint32Array]"]=!0,Fe["[object Arguments]"]=Fe["[object Array]"]=Fe["[object ArrayBuffer]"]=Fe["[object Boolean]"]=Fe["[object DataView]"]=Fe["[object Date]"]=Fe["[object Error]"]=Fe["[object Function]"]=Fe["[object Map]"]=Fe["[object Number]"]=Fe["[object Object]"]=Fe["[object RegExp]"]=Fe["[object Set]"]=Fe["[object String]"]=Fe["[object WeakMap]"]=!1
var je="object"==typeof exports&&exports&&!exports.nodeType&&exports,Be=je&&e&&!e.nodeType&&e,qe=Be&&Be.exports===je&&F.process,Ve=function(){try{return Be&&Be.require&&Be.require("util").types||qe&&qe.binding&&qe.binding("util")}catch(e){}}(),$e=Ve&&Ve.isTypedArray,Ke=$e?function(e){return function(n){return e(n)}}($e):function(e){return Ie(e)&&Te(e.length)&&!!Fe[Y(e)]},He=Object.prototype.hasOwnProperty,Ge=function(e,n){return function(t){return e(n(t))}}(Object.keys,Object),We=Object.prototype.hasOwnProperty
var Ye,ze=Object.prototype.hasOwnProperty,Xe=(Ye=function(e,n){if(ke(n)||Ee(n))!function(e,n,t,r){var i=!t
t||(t={})
for(var a=-1,o=n.length;++a<o;){var s=n[a],c=void 0
void 0===c&&(c=e[s]),i?ce(t,s,c):le(t,s,c)}}(n,function(e){return Ee(e)?function(e,n){var t=Ne(e),r=!t&&Me(e),i=!t&&!r&&Le(e),a=!t&&!r&&!i&&Ke(e),o=t||r||i||a,s=o?function(e,n){for(var t=-1,r=Array(e);++t<e;)r[t]=n(t)
return r}(e.length,String):[],c=s.length
for(var d in e)!He.call(e,d)||o&&("length"==d||i&&("offset"==d||"parent"==d)||a&&("buffer"==d||"byteLength"==d||"byteOffset"==d)||Se(d,c))||s.push(d)
return s}(e):function(e){if(!ke(e))return Ge(e)
var n=[]
for(var t in Object(e))We.call(e,t)&&"constructor"!=t&&n.push(t)
return n}(e)}(n),e)
else for(var t in n)ze.call(n,t)&&le(e,t,n[t])},function(e,n){return be(function(e,n,t){return n=ge(void 0===n?e.length-1:n,0),function(){for(var r=arguments,i=-1,a=ge(r.length-n,0),o=Array(a);++i<a;)o[i]=r[n+i]
i=-1
for(var s=Array(n+1);++i<n;)s[i]=r[i]
return s[n]=t(o),fe(e,this,s)}}(e,void 0,pe),e+"")}((function(e,n){var t=-1,r=n.length,i=r>1?n[r-1]:void 0,a=r>2?n[2]:void 0
for(i=Ye.length>3&&"function"==typeof i?(r--,i):void 0,a&&function(e,n,t){if(!z(t))return!1
var r=typeof n
return!!("number"==r?Ee(t)&&Se(n,t.length):"string"==r&&n in t)&&de(t[n],e)}(n[0],n[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++t<r;){var o=n[t]
o&&Ye(e,o)}return e})))
function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",n=[".",",","s","'"]
return n.splice(n.indexOf(e),1),n.join("\\")}function Je(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".",n=Qe(e)
return new RegExp("([^,\\.\\d]*)(["+n+"\\d]*\\d+)(\\"+e+"?)(\\d*)(\\D*)")}function Ze(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=["","","","",""]
if(!a(e))return t
var r=Je(n),i=r.exec(e)
return i?(i.shift(),i.map((function(e){return e||""}))):t}function en(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.keepTrailingRadixMark,s=void 0!==o&&o
if(!a(e))return""
var c=e.toString(),d=Ze(c,n),u=i(d,5),l=u[0],p=u[1],f=u[2],m=u[3],y=u[4],h=t
return a(h)&&""!==h&&(h=Number(h)),0===h?""+l+p+y:s&&""===m?""+l+p+f+y:(h&&(m=m.slice(0,h)),""===m?""+l+p+y:""+l+p+f+m+y)}function nn(e,n,t,r){return en(e,O(n).radixMark,t,r)}function tn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"USD"
if("en_IN"===n){var r=un("en_US",t),i=r.currencySymbol,a=r.radixPlaces,s=r.radixMark,c=en(e,s,a)
return o(c,i)}return h("currency",e,n,t)}var rn="12345678.91",an={}
function on(e){return Number(e.substring(0,1))?"after":"before"}function sn(e,n,t){var r=new RegExp("[^\\d\\"+n+"\\"+t+"\\s]+"),i=e.match(r)
return i?i[0]:""}function cn(e,n){var t=n.replace("$","\\$"),r=new RegExp("\\s?"+t+"\\s?"),i=e.match(r)
return i?i[0]:n}function dn(e,n){var t=new RegExp("\\"+n+"(\\d+)"),r=e.match(t)
return r?r[1].length:0}function un(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en_US",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",t=arguments[2],r=e+":"+n,i=an[r]
if(i)return i
var a=O(e),o=a.radixMark,s=a.delimiter,c=tn(rn,e,n,t),d=on(c),u=sn(c,o,s),l=cn(c,u),p=dn(c,o),f=Xe({},a,{currencySymbolLocation:d,currencySymbol:u,currencySymbolWithWhitespace:l,radixPlaces:p})
return an[r]=f,f}function ln(e){return e.replace(/\s/g,(function(){return" "}))}function pn(e){var n=String.fromCharCode(160)
return e.replace(/\s/g,(function(){return n}))}function fn(e,n,t){for(var r=n.length-1;r>=0;r--){var i=t(r)
if(i<=e){var a=n[r],o=e/i,s=Math.round(e/i)
return Math.floor(o)!==o&&r>0?[o.toFixed(1),a]:[s.toString(),a]}}return[e.toString(),""]}function mn(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US"
if(!a(e))return""
var t=O(n),r=t.radixMark,o=t.abbreviations,s=t.abbreviateOn
if(!o.length)return e
var c=Ze(e,r),d=i(c,5),u=d[0],l=d[1],p=d[2],f=d[3],m=d[4],y=L(l,r),h=fn(y,o,s),g=i(h,2),v=g[0],_=g[1]
return v=v.replace(".",r),_?""+u+v+_+m:""+u+v+_+p+f+m}},1365:e=>{for(var n=[],t=0;t<256;++t)n[t]=(t+256).toString(16).substr(1)
e.exports=function(e,t){var r=t||0,i=n
return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},7969:e=>{var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)
if(n){var t=new Uint8Array(16)
e.exports=function(){return n(t),t}}else{var r=new Array(16)
e.exports=function(){for(var e,n=0;n<16;n++)0==(3&n)&&(e=4294967296*Math.random()),r[n]=e>>>((3&n)<<3)&255
return r}}},3503:(e,n,t)=>{var r=t(7969),i=t(1365)
e.exports=function(e,n,t){var a=n&&t||0
"string"==typeof e&&(n="binary"===e?new Array(16):null,e=null)
var o=(e=e||{}).random||(e.rng||r)()
if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n)for(var s=0;s<16;++s)n[a+s]=o[s]
return n||i(o)}},8389:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{default:()=>j})
var r=t(9705),i=t.n(r)
class a{constructor(){const e=this.states={PENDING:!0,STARTED:!0,PAUSED:!0,COMPLETED:!1,FAILED:!1,CANCELLED:!1}
this.is={},Object.freeze(e),Object.keys(e).forEach((e=>{this.is[e]=!1,this[e]=e})),this.set(this.PENDING)}get(){return this.state}isFrozen(){return Object.isFrozen(this)}set(e){return e===this.state?Promise.resolve(e):Object.isFrozen(this)?Promise.reject(new Error(`[StateManager] cannot change immutable state '${this.state}' to '${e}'`)):this.states.hasOwnProperty(e)?(this.state&&(this.is[this.state]=!1),this.is[e]=!0,this.state=e,this.states[e]||Object.freeze(this),Promise.resolve(e)):Promise.reject(new Error(`[StateManager] cannot set invalid state: ${e}`))}}var o=t(3503),s=t.n(o)
class c extends(i()){constructor(){super(),this.reset()}set(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
this.progress=e-(this.loaded||0),this.loaded=e,this.completed=n,this.active=this.loaded-this.completed,this.emit("change",this)}add(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
this.set(this.loaded+e,this.completed+n)}done(){this.set(this.loaded,this.loaded)}reset(){this.progress=0,this.loaded=0,this.completed=0,this.active=0}}class d extends(i()){constructor(e){let{beforeSend:n,body:t,headers:r,method:i,mimeType:a,timeout:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(!e)throw new Error("[Request] an action must be provided")
super(),this.action=e,this.beforeSend=n,this.body=t,this.headers=r||{},this.method=i||"GET",this.mimeType=a,this.timeout=o,this.progress=new c,this.progress.on("change",(()=>{this.emit("progress",this.progress)})),this.reset()}send(){const e=this.request=new XMLHttpRequest
return this.attempts++,new Promise(((n,t)=>{const r=e=>{let{loaded:n}=e
this.progress.set(n)},i=e=>{r({loaded:0}),t(e)}
e.open(this.method,this.action),function(e,n){Object.keys(n).forEach((t=>{e.setRequestHeader(t,n[t])}))}(e,this.headers),e.onerror=()=>{i(new Error("[Request] a network error occurred"))},e.onabort=()=>{i(new Error("[Request] the request was aborted"))},e.onload=()=>{const{status:t,responseText:r}=e
t>=200&&t<300||304===t?this.state.set(this.state.COMPLETED).then((()=>{this.progress.done(),n(r)})):i(new Error(`[Request] server responded with status ${t}`))},this.timeout&&(e.timeout=this.timeout),this.mimeType&&e.overrideMimeType(this.mimeType),e.upload.onprogress=r
const a=new Promise((e=>{this.state.isFrozen()||(this.state.is.PAUSED?this.on("resume",e):e())}))
a.then((()=>{this.beforeSend&&this.beforeSend(e),e.send(this.body)}))}))}abort(){return this.state.set(this.state.CANCELLED).then((()=>{this.progress.reset(),this.request&&this.request.abort()}))}pause(){return this.state.set(this.state.PAUSED).then((()=>{this.emit("pause")}))}resume(){return this.state.set(this.state.STARTED).then((()=>{this.emit("resume")}))}reset(){return this.attempts=0,this.progress.reset(),this.state=new a,this}}class u extends d{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
if(!n.body)throw new Error("[UploadRequest] a body must be provided")
n.method=n.method||"PUT",super(e,n)}}function l(e,n){["then","catch"].forEach((t=>{e[t]=n[t].bind(n)}))}function p(e){return e&&"object"==typeof e&&!Array.isArray(e)}function f(e){return m({},e)}function m(e){if(p(e)){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r]
t.forEach((n=>{p(n)&&Object.keys(n).forEach((t=>{p(n[t])?p(e[t])?m(e[t],n[t]):e[t]=f(n[t]):e[t]=n[t]}))}))}return e}class y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.defaults=e,Object.freeze(this)}extend(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
return m({},this.defaults,...n)}}const h={done:s()()},g=new y({action:"/",method:"PUT",headers:{},configure:null,maxConcurrentPartsPerFile:1/0,maxRetriesPerPart:0,retryDelay:0,timeout:0})
function v(){return this.consumer.next().then((e=>{if(e)return Promise.resolve(this.configure.call(this,e,this.config)||this.config).then((n=>{const{action:t,beforeSend:r,headers:i,method:a,mimeType:o,timeout:s}=n,c=new u(t,{body:e.blob,beforeSend:r,headers:i,method:a,mimeType:o,timeout:s})
return c.on("progress",A.bind(this)),c}))}),(()=>{}))}function _(e){e.send().then(b.bind(this,e),T.bind(this,e))}function b(e){this.emit("part:success",e),this.pending.delete(e),E.call(this)}function T(e,n){if(this.emit("part:error",n,e),4===Math.floor(e.request.status/100)||e.attempts>this.config.maxRetriesPerPart)k.call(this)
else{const n=_.bind(this,e)
setTimeout(n,this.config.retryDelay)}}function E(){this.pending.size<this.config.maxConcurrentPartsPerFile&&!this.state.isFrozen()&&v.call(this).then((e=>{e?(this.state.is.PAUSED&&e.pause(),this.results.push(e),this.pending.add(e),_.call(this,e)):this.pending.size||this.emit(h.done)}))}function A(e){this.progress.add(e.progress,e.completed),this.emit("progress",this.progress),S.call(this)}function S(){this.emit("status",this.status())}function C(e){return this.state.set(e).then((()=>(this.state.is.COMPLETED&&this.progress.done(),S.call(this),this.status())))}function k(e){return C.call(this,e||this.state.FAILED).then((()=>{this.pending.forEach((e=>{e.abort(),this.pending.delete(e)})),this.emit(h.done)}))}function I(){this.state=new a,this.consumer.reset(),this.progress.reset(),this.pending.clear(),this.results=[],l(this,R.call(this))}function R(){return new Promise(((e,n)=>{this.on(h.done,(()=>{C.call(this,this.state.COMPLETED).then((()=>{e(x(this))})).catch((()=>{n(x(this))}))}))}))}function x(e){return{meta:e.consumer.meta,results:e.results,status:e.status()}}class w extends(i()){constructor(e,n,t){super(),this.config=n=g.extend(n),this.configure=n.configure||function(){},this.meta=t,this.results=[],this.consumer=e,this.file=e.file,this.size=e.size,this.id=e.id||s()(),this.state=new a,this.progress=new c,this.pending=new Set,e.length===1/0&&(this.config.maxConcurrentPartsPerFile=1),l(this,R.call(this))}start(){return C.call(this,this.state.STARTED).then((()=>{this.pending.forEach((e=>{e.resume()}))
let e=Math.min(this.consumer.length,this.config.maxConcurrentPartsPerFile)-this.pending.size
for(;e--;)E.call(this)}))}reset(){return k.call(this).then(I.bind(this),I.bind(this))}retry(){return this.state.isFrozen()?this.state.is.COMPLETED?Promise.reject(new Error("[Uploader] cannot retry an upload that completed")):this.reset().then((()=>(this.start(),this))):Promise.reject(new Error("[Uploader] cannot retry a pending upload"))}resume(){return C.call(this,this.state.STARTED).then((()=>{this.pending.forEach((e=>{e.resume()}))}))}pause(){return C.call(this,this.state.PAUSED).then((()=>{this.pending.forEach((e=>{e.pause()}))}))}cancel(){return k.call(this,this.state.CANCELLED)}toggle(){return this.state.is.PAUSED?this.resume():this.pause()}status(){return{state:this.state.get(),progress:this.progress,total:this.size}}}const O=new y({maxConcurrentFiles:1/0})
function M(){if(this.queue.size&&this.pending.size<this.config.maxConcurrentFiles){let e
if(this.queue.forEach((n=>{e||(e=n)})),e){this.pending.add(e),this.queue.delete(e),this.state.is.STARTED&&e.start()
const n=()=>{this.delete(e)}
e.then(n,n)}}}function N(e){this.queue.add(e),M.call(this)}class P extends(i()){constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
if("function"!=typeof e.consume)throw new Error("[UploadManager] a consume() function is required")
super(),this.consume=e.consume,this.config=O.extend(e),this.pending=new Set,this.queue=new Set,this.state=new a}add(e,n,t){const r=(e=e&&("length"in e?Array.from(e):[e])||[]).filter(Boolean).map((e=>{const r=this.consume.call(this,e,n)
return Promise.resolve(r).then((()=>{const e=new w(r,this.config,n)
return"function"==typeof t&&t(e),this.emit("upload",e),N.call(this,e),e}))}))
return Promise.all(r)}delete(e){this.pending.delete(e),this.queue.delete(e),M.call(this)}start(){return this.state.set(this.state.STARTED).then((()=>{this.pending.forEach((e=>{e.start()}))}))}resume(){return this.start()}pause(){this.state.set(this.state.PAUSED).then((()=>{this.pending.forEach((e=>{e.pause()}))}))}cancel(){return this.state.set(this.state.STARTED).then((()=>{this.queue.clear(),this.pending.forEach((e=>{this.pending.delete(e),e.cancel()}))}))}toggle(){this.state.is.PAUSED?this.resume():this.pause()}}class D{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0
this.id=n.id||s()(),this.file=e,this.size=e.size,this.meta=t,this.length=1/0}next(){throw new Error("[AbstractConsumer] Consumer must implement #next() method")}reset(){throw new Error("[AbstractConsumer] Consumer must implement #reset() method")}}class U{constructor(e,n,t,r){this.file=t,this.blob=e,this.index=n,this.id=s()(),this.meta=r}}class L extends D{constructor(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2?arguments[2]:void 0
if(!n.getUploadMetaData)throw new Error("a getUploadMetaData() function is required")
super(e,n,t),this.length=1/0,this.getUploadMetaData=()=>n.getUploadMetaData(e,t),this.reset()}next(){return this.then((()=>{if(this.index++,this.index>=this.length)return Promise.reject()
switch(this.meta.type){case"SINGLE":return Promise.resolve(new U(this.file,0,this.file,this.meta))
case"MULTIPART":const{partUploadRequests:e}=this.meta,n=e[this.index]
if(!n)return Promise.reject()
const t=this.file.slice(n.firstByte,n.lastByte+1,this.file.type)
return Promise.resolve(new U(t,this.index,this.file,n))
default:return Promise.reject(new Error(`TODO: unknown upload type '${this.meta.type}'`))}}))}reset(){return this.index=-1,this.meta={},l(this,this.getUploadMetaData().then((e=>{this.meta=e,this.length=e.partUploadRequests?e.partUploadRequests.length:1}))),this}}const F={headers:{},mimeType:"text/plain",getUploadMetaData(){}}
class j extends P{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
e=m({},F,e,{consume:(n,t)=>new L(n,{headers:e.headers,getUploadMetaData:e.getUploadMetaData},t),configure(e){const{meta:n}=this.consumer,{type:t}=n,r=e=>m({},this.config,e)
if("SINGLE"===t){const{singleUploadUrl:e,singleUploadHeaders:t}=n
return r({action:e,headers:t})}if("MULTIPART"===t){const{headers:n,uploadUrl:t}=e.meta
return r({action:t,headers:n})}throw new Error(`TODO: unknown type '${t}'`)}}),super(e)}}},1917:(e,n,t)=>{"use strict"
function r(e,n){var t=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{}
n%2?r(Object(t),!0).forEach((function(n){d(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function s(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,n,t){return n&&s(e.prototype,n),t&&s(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,n){return(l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,n){return e.__proto__=n,e})(e,n)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
if(Reflect.construct.sham)return!1
if("function"==typeof Proxy)return!0
try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function f(e,n,t){return(f=p()?Reflect.construct.bind():function(e,n,t){var r=[null]
r.push.apply(r,n)
var i=new(Function.bind.apply(e,r))
return t&&l(i,t.prototype),i}).apply(null,arguments)}function m(e){var n="function"==typeof Map?new Map:void 0
return(m=function(e){if(null===e||(t=e,-1===Function.toString.call(t).indexOf("[native code]")))return e
var t
if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function")
if(void 0!==n){if(n.has(e))return n.get(e)
n.set(e,r)}function r(){return f(e,arguments,u(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
return e}function h(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=t){var r,i,a=[],o=!0,s=!1
try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e,n)||v(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){if(e){if("string"==typeof e)return _(e,n)
var t=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_(e,n):void 0}}function _(e,n){(null==n||n>e.length)&&(n=e.length)
for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t]
return r}function b(e){var n=function(e,n){if("object"!=typeof e||null===e)return e
var t=e[Symbol.toPrimitive]
if(void 0!==t){var r=t.call(e,"string")
if("object"!=typeof r)return r
throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e)
return"symbol"==typeof n?n:String(n)}t.r(n),t.d(n,{ConversationsIterable:()=>Cn,MDError:()=>Xe,Mailbox:()=>sd,MailboxConnection:()=>cd,apiErrors:()=>Ve,clearStateForTesting:()=>_n,clientErrors:()=>$e,connectToMailbox:()=>dd,conversationStateIdentifierIs:()=>tn,conversationStateUrnIs:()=>en,getConversationById:()=>xr,getConvoStateFromMessageUrn:()=>G,getRealtimeConnectionHeaders:()=>Xi,getRealtimeQueryMap:()=>zi,getSyncMessagesByConversationId:()=>wr,graphQlErrors:()=>Ke,hasMessageData:()=>on,initialSyncConversations:()=>Or,isAString:()=>ne,isClientId:()=>q,isCommonTimeAPIError:()=>Ye,isContentUpdateMode:()=>Q,isConversationCategory:()=>te,isConversationUrn:()=>V,isConvoActivationOption:()=>X,isError:()=>Ge,isForwardedMessageContent:()=>Z,isIdentifier:()=>K,isInputMailboxFilter:()=>se,isMDError:()=>We,isMailboxCategoryFilter:()=>oe,isMarkConvoReadTypes:()=>z,isMemberParticipant:()=>H,isNextFunction:()=>W,isOptionalSendData:()=>ie,isSavedConversationState:()=>B,isSelectorFilterOption:()=>re,isSubscriber:()=>Y,isTextFragment:()=>ee,isTrackingData:()=>ae,isUrn:()=>$,isUrnUpdateMap:()=>J,messageStateClientIdIs:()=>an,realtimeErrors:()=>He,rejectAsMDResponseError:()=>Qe,sendConversationUpdate:()=>Ur,sendMessageToConversation:()=>Fr})
var T=function(e,n){e.forEach((function(e){return e.next(n)}))},E=function(e){return null!=e},A=function(e){return null==e},S=function(e,n,t){return t.map((function(t,r){return e(t,r)?n(t):t}))},C=function(e){return Object.fromEntries(e)},k=function(e){return function(n){return n.reduce((function(n,t){return e(t)?n[0].push(t):n[1].push(t),[n[0],n[1]]}),[[],[]])}},I=function(e){return function(n){return!1===e.includes(n)}},R=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
return n&&0!==n.length?[].concat(g(e),g(n.filter(I(e)))):e},x=function(e){return!e},w=function(e){return Object.keys(e)},O=function(e){return Object.values(e)},M=function(e,n,t){var r=new Map(e)
return r.set(n,t),r},N=function(e,n){var t=e[n],r=function(e,n){if(null==e)return{}
var t,r,i=function(e,n){if(null==e)return{}
var t,r,i={},a=Object.keys(e)
for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(i[t]=e[t])
return i}(e,n)
if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e)
for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,[n].map(b))
return t?r:e},P=function(e,n){if(e.has(n))return e
var t=new Set(e)
return Object.freeze(t.add(n))},D=function(e,n){var t=new Set(e)
return t.delete(n)?Object.freeze(t):e},U=function(e){return"object"===a(e)&&null!==e},L=function(e){return"number"==typeof e},F=function(e){return"string"==typeof e},j=function(e,n){return e.every(n)},B=function(e){return void 0!==e.entityUrn},q=function(e){return F(e)&&/^[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+-[a-z0-9]+$/.test(e)},V=function(e){return/^urn:li:msg_conversation:.*$/.test(e)},$=function(e){return F(e)&&e.startsWith("urn:")},K=function(e){return $(e)||F(e)&&q(e)},H=function(e){return"MEMBER"===e.kind},G=function(e,n){return e.find((function(e){return void 0!==e.messages.getByIdentifier(n)}))}
function W(e){return"function"==typeof e}function Y(e){var n=e
return!((null===n||"object"!==a(n))&&"function"!=typeof n||"function"!=typeof n.next||void 0!==n.error&&"function"!=typeof n.error||void 0!==n.complete&&"function"!=typeof n.complete)}function z(e){return"MARK_READ"===e||"MARK_UNREAD"===e||"NO_CHANGE"===e}function X(e){var n=e
return(null!==n&&"object"===a(n)||"function"==typeof n)&&z(n.markConvoReadTypes)&&("FALLBACK_SYNC"===n.setConvoActiveSyncOption||"ALWAYS_SYNC"===n.setConvoActiveSyncOption)}function Q(e){return"ADD"===e||"REPLACE"===e}function J(e){var n=e
return null!==n&&"object"===a(n)||"function"==typeof n}function Z(e){var n=e
return(null!==n&&"object"===a(n)||"function"==typeof n)&&(null!==n&&"object"===a(n)||"function"==typeof n)&&"number"==typeof n.originalSendAt&&ne(n.originalSenderUrn)}function ee(e){var n=e
return(null!==n&&"object"===a(n)||"function"==typeof n)&&ne(n.text)&&Array.isArray(n.attributes)&&n.attributes.every((function(e){return null===e||(null!==e&&"object"===a(e)||"function"==typeof e)&&"number"==typeof e.start&&"number"==typeof e.length&&(void 0===e.attributeKind||null===e.attributeKind||(null!==e.attributeKind&&"object"===a(e.attributeKind)||"function"==typeof e.attributeKind)&&(void 0===e.attributeKind.bold||null===e.attributeKind.bold||(null!==e.attributeKind.bold&&"object"===a(e.attributeKind.bold)||"function"==typeof e.attributeKind.bold)&&"pemberly_text_Bold"===e.attributeKind.bold.__typename)&&(void 0===e.attributeKind.italic||null===e.attributeKind.italic||(null!==e.attributeKind.italic&&"object"===a(e.attributeKind.italic)||"function"==typeof e.attributeKind.italic)&&"pemberly_text_Italic"===e.attributeKind.italic.__typename)&&(void 0===e.attributeKind.hyperlink||null===e.attributeKind.hyperlink||(null!==e.attributeKind.hyperlink&&"object"===a(e.attributeKind.hyperlink)||"function"==typeof e.attributeKind.hyperlink)&&"pemberly_text_Hyperlink"===e.attributeKind.hyperlink.__typename&&ne(e.attributeKind.hyperlink.url))&&(void 0===e.attributeKind.paragraph||null===e.attributeKind.paragraph||(null!==e.attributeKind.paragraph&&"object"===a(e.attributeKind.paragraph)||"function"==typeof e.attributeKind.paragraph)&&"pemberly_text_Paragraph"===e.attributeKind.paragraph.__typename)&&(void 0===e.attributeKind.list||null===e.attributeKind.list||(null!==e.attributeKind.list&&"object"===a(e.attributeKind.list)||"function"==typeof e.attributeKind.list)&&"pemberly_text_List"===e.attributeKind.list.__typename&&"boolean"==typeof e.attributeKind.list.ordered)&&(void 0===e.attributeKind.listItem||null===e.attributeKind.listItem||(null!==e.attributeKind.listItem&&"object"===a(e.attributeKind.listItem)||"function"==typeof e.attributeKind.listItem)&&"pemberly_text_ListItem"===e.attributeKind.listItem.__typename)&&(void 0===e.attributeKind.lineBreak||null===e.attributeKind.lineBreak||(null!==e.attributeKind.lineBreak&&"object"===a(e.attributeKind.lineBreak)||"function"==typeof e.attributeKind.lineBreak)&&"pemberly_text_LineBreak"===e.attributeKind.lineBreak.__typename)&&(void 0===e.attributeKind.underline||null===e.attributeKind.underline||(null!==e.attributeKind.underline&&"object"===a(e.attributeKind.underline)||"function"==typeof e.attributeKind.underline)&&"pemberly_text_Underline"===e.attributeKind.underline.__typename)&&(void 0===e.attributeKind.subscript||null===e.attributeKind.subscript||(null!==e.attributeKind.subscript&&"object"===a(e.attributeKind.subscript)||"function"==typeof e.attributeKind.subscript)&&"pemberly_text_Subscript"===e.attributeKind.subscript.__typename)&&(void 0===e.attributeKind.superscript||null===e.attributeKind.superscript||(null!==e.attributeKind.superscript&&"object"===a(e.attributeKind.superscript)||"function"==typeof e.attributeKind.superscript)&&"pemberly_text_Superscript"===e.attributeKind.superscript.__typename)&&(void 0===e.attributeKind.entity||null===e.attributeKind.entity||(null!==e.attributeKind.entity&&"object"===a(e.attributeKind.entity)||"function"==typeof e.attributeKind.entity)&&ne(e.attributeKind.entity.urn)))}))}function ne(e){return"string"==typeof e}function te(e){return"string"==typeof e}function re(e){return"FilteredMailboxState"===e||"FullMailboxState"===e}function ie(e){var n=e
return(null!==n&&"object"===a(n)||"function"==typeof n)&&Array.isArray(n.renderContent)&&n.renderContent.every((function(e){return(null!==e&&"object"===a(e)||"function"==typeof e)&&(null!==e&&"object"===a(e)||"function"==typeof e)&&(void 0===e.forwardedMessageContent||Z(e.forwardedMessageContent))}))&&(void 0===n.messageRequestContextByRecipient||Array.isArray(n.messageRequestContextByRecipient)&&n.messageRequestContextByRecipient.every((function(e){return(null!==e&&"object"===a(e)||"function"==typeof e)&&ne(e.hostRecipientUrn)&&ne(e.contextEntityUrn)})))&&(void 0===n.messageSubject||ne(n.messageSubject))&&(void 0===n.quickActionContextUrn||ne(n.quickActionContextUrn))&&(void 0===n.invitationUrn||ne(n.invitationUrn))&&(void 0===n.forwardedMessageUrn||ne(n.forwardedMessageUrn))&&(void 0===n.conversationState||"ACCEPTED"===n.conversationState||"DECLINED"===n.conversationState||"PENDING"===n.conversationState)&&(void 0===n.hostMessageCreateContent||(null!==n.hostMessageCreateContent&&"object"===a(n.hostMessageCreateContent)||"function"==typeof n.hostMessageCreateContent)&&Object.entries(n.hostMessageCreateContent).every((function(e){var n=h(e,2),t=n[0]
return n[1],ne(t)})))&&(void 0===n.conversationTitle||ne(n.conversationTitle))}function ae(e){var n=e
return(null!==n&&"object"===a(n)||"function"==typeof n)&&(void 0===n.messageComposeFlowTrackingId||ne(n.messageComposeFlowTrackingId))&&(void 0===n.sourceType||ne(n.sourceType))&&(void 0===n.pageInstance||(null!==n.pageInstance&&"object"===a(n.pageInstance)||"function"==typeof n.pageInstance)&&ne(n.pageInstance.pageUrn)&&ne(n.pageInstance.trackingId)||(null!==n.pageInstance&&"object"===a(n.pageInstance)||"function"==typeof n.pageInstance)&&ne(n.pageInstance.pageUrn)&&ne(n.pageInstance.trackingId))&&(void 0===n.trackingId||ne(n.trackingId))}function oe(e){var n=e
return(null!==n&&"object"===a(n)||"function"==typeof n)&&"category"===n.kind&&ne(n.category)}function se(e){var n=e
return oe(n)||(null!==n&&"object"===a(n)||"function"==typeof n)&&"search"===n.kind&&Array.isArray(n.categories)&&n.categories.every((function(e){return ne(e)}))&&(void 0===n.keywords||ne(n.keywords))&&(void 0===n.read||!1===n.read||!0===n.read)&&"boolean"==typeof n.firstDegreeConnections}function ce(e,n){var t=Object.keys(e)
if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function de(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{}
n%2?ce(Object(t),!0).forEach((function(n){fe(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ce(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ue(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function le(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,n,t){return n&&le(e.prototype,n),t&&le(e,t),e}function fe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function me(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=t){var r,i,a=[],o=!0,s=!1
try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e,n)||he(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e){return function(e){if(Array.isArray(e))return ge(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||he(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,n){if(e){if("string"==typeof e)return ge(e,n)
var t=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ge(e,n):void 0}}function ge(e,n){(null==n||n>e.length)&&(n=e.length)
for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t]
return r}for(var ve,_e,be,Te=new Uint8Array(16),Ee=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Ae=[],Se=0;Se<256;++Se)Ae.push((Se+256).toString(16).substr(1))
function Ce(e,n,t){var r=(e=e||{}).random||(e.rng||function(){if(!ve&&!(ve="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")
return ve(Te)})()
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0
for(var i=0;i<16;++i)n[t+i]=r[i]
return n}return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Ae[e[n+0]]+Ae[e[n+1]]+Ae[e[n+2]]+Ae[e[n+3]]+"-"+Ae[e[n+4]]+Ae[e[n+5]]+"-"+Ae[e[n+6]]+Ae[e[n+7]]+"-"+Ae[e[n+8]]+Ae[e[n+9]]+"-"+Ae[e[n+10]]+Ae[e[n+11]]+Ae[e[n+12]]+Ae[e[n+13]]+Ae[e[n+14]]+Ae[e[n+15]]).toLowerCase()
if(!function(e){return"string"==typeof e&&Ee.test(e)}(t))throw TypeError("Stringified UUID is invalid")
return t}(r)}!function(e){e.invalid="com.linkedin.realtimefrontend.Invalid",e.clientConnection="com.linkedin.realtimefrontend.ClientConnection",e.heartbeat="com.linkedin.realtimefrontend.Heartbeat",e.decoratedEvent="com.linkedin.realtimefrontend.DecoratedEvent"}(_e||(_e={})),function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSE=2]="CLOSE"}(be||(be={}))
var ke="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}
function Ie(e){var n={exports:{}}
return e(n,n.exports),n.exports}var Re=Ie((function(e,n){e.exports=function(){var e="List(",n="(",t=/^(\/[^?]+)\??(.*)$/,r={extractPathAndQueryStringFromUrl:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",n=t.exec(e)
return n?{path:n[1],queryString:n[2]}:{path:"",queryString:""}}},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=/[,()':]/g,o=/[,()':]/,s={encode:function(e){if("object"!==(void 0===(e=JSON.parse(JSON.stringify(e)))?"undefined":i(e)))throw new Error("You must pass either an array or an object to the encode function.")
return this._process(e,!1)},reducedEncode:function(e){if("object"!==(void 0===(e=JSON.parse(JSON.stringify(e)))?"undefined":i(e)))throw new Error("You must pass either an array or an object to the reducedEncode function.")
return this._process(e,!0)},paramEncode:function(e){if(e=JSON.parse(JSON.stringify(e)),Array.isArray(e)||"object"!==(void 0===e?"undefined":i(e)))throw new Error("You must pass an object to the paramEncode function. Use arrayParamEncode.")
var n=[]
for(var t in e)e.hasOwnProperty(t)&&n.push(this._processPrimitive(t)+"="+this._process(e[t],!1))
return n.join("&")},arrayParamEncode:function(e){return this.paramEncode(this._arrayParamEncode(e))},_arrayParamEncode:function(e){if(e=JSON.parse(JSON.stringify(e)),!Array.isArray(e))throw new Error("You must pass an array to the arrayParamEncode function.")
return e.reduce((function(e,n){if(!n||!n.hasOwnProperty("name")||!n.hasOwnProperty("value"))throw new Error("Objects passed to the arrayParamEncode function must have name and value properties.")
if("object"===i(n.value)&&null!==n.value)throw new Error("Only primitives may be passed to arrayParamEncode as item values.")
var t=n.name,r=e.hasOwnProperty(t)
return r?r&&"object"===i(e[t])&&null!==e[t]?e[t].push(n.value):e[t]=[e[t],n.value]:e[t]=n.value,e}),{})},_process:function(e,n){return Array.isArray(e)?this._processArray(e,n):"object"===(void 0===e?"undefined":i(e))&&null!==e?this._processObject(e,n):this._processPrimitive(e,n)},_processArray:function(n,t){for(var r=new Array(n.length),i=0;i<n.length;i++)r[i]=this._process(n[i],t)
return e+r.join(",")+")"},_processObject:function(e,t){var r=[]
for(var i in e)e.hasOwnProperty(i)&&r.push(this._processPrimitive(i,t)+":"+this._process(e[i],t))
return n+r.join(",")+")"},_processPrimitive:function(e,n){return""===e?"''":n&&"string"==typeof e&&o.test(e)?e.replace(a,escape):n?e:encodeURIComponent(e).replace(a,escape)}},c=/(%2C|%28|%29|%27|%3A)/g,d=/(%2C|%28|%29|%27|%3A)/
function u(e,n,t){var r=2<arguments.length&&void 0!==t?t:0
return e.indexOf(n,r)===r}function l(e,n){if(e[e.length-1]!==n)throw new Error("Input has unbalanced prefix and suffix: "+e)}function p(e,n){for(var t=1<arguments.length&&void 0!==n?n:0,r=0,i=!1;t<e.length;){var a=e[t]
if("("===a&&(r++,i=!0),")"===a&&r--,0===r&&i)break
t++}return t}function f(e,n){return n?d.test(e)&&(e=e.replace(c,unescape)):e=decodeURIComponent(e),void 0===e||"''"===e?"":e}var m={paramDecode:function(e){var n=this
return e.split("&").reduce((function(e,t){if(!t.length)return e
if(0===t.indexOf("="))return e
var r=function(e,n){if(Array.isArray(e))return e
if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,i=!1,a=void 0
try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(t.push(o.value),2!==t.length);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return t}(e)
throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t.split("=")),i=r[0],a=r[1]
return"''"===i&&(i=""),void 0!==a&&""!==a||(a="''"),e[decodeURIComponent(i)]=n._decode(a),e}),{})},decode:function(e){return this._decode(e,!1)},reducedDecode:function(e){return this._decode(e,!0)},_decode:function(t,r){return void 0!==t&&"''"!==t||(t=""),u(t,e)?(l(t,")"),this._decodeList(t.substring(5,t.length-1),r)):u(t,n)?(l(t,")"),this._decodeObject(t.substring(1,t.length-1),r)):f(t,r)},_decodeList:function(t,r){for(var i=[],a=0;a<t.length;)if(u(t,e,a)||u(t,n,a)){var o=p(t,a)
i.push(this._decode(t.substring(a,o+1),r)),a=o+2}else{var s=t.indexOf(",",a)
s<0&&(s=t.length),i.push(f(t.substring(a,s),r)),a=s+1}return i},_decodeObject:function(t,r){for(var i={},a=0;a<t.length;){var o=t.indexOf(":",a),s=f(t.substring(a,o),r)
if(a=o+1,t.startsWith(e,a)||t.startsWith(n,a)){var c=p(t,a)
i[s]=this._decode(t.substring(a,c+1),r),a=c+2}else{var d=t.indexOf(",",a)
d<0&&(d=t.length)
var u=f(t.substring(a,d),r)
i[s]=u,a=d+1}}return i}},y=Object.freeze({S_100_CONTINUE:100,S_101_SWITCHING_PROTOCOLS:101,S_200_OK:200,S_201_CREATED:201,S_202_ACCEPTED:202,S_203_NON_AUTHORITATIVE_INFORMATION:203,S_204_NO_CONTENT:204,S_205_RESET_CONTENT:205,S_206_PARTIAL_CONTENT:206,S_207_MULTI_STATUS:207,S_300_MULTIPLE_CHOICES:300,S_301_MOVED_PERMANENTLY:301,S_302_FOUND:302,S_303_SEE_OTHER:303,S_304_NOT_MODIFIED:304,S_305_USE_PROXY:305,S_307_TEMPORARY_REDIRECT:307,S_400_BAD_REQUEST:400,S_401_UNAUTHORIZED:401,S_402_PAYMENT_REQUIRED:402,S_403_FORBIDDEN:403,S_404_NOT_FOUND:404,S_405_METHOD_NOT_ALLOWED:405,S_406_NOT_ACCEPTABLE:406,S_407_PROXY_AUTHENTICATION_REQUIRED:407,S_408_REQUEST_TIMEOUT:408,S_409_CONFLICT:409,S_410_GONE:410,S_411_LENGTH_REQUIRED:411,S_412_PRECONDITION_FAILED:412,S_413_REQUEST_ENTITY_TOO_LARGE:413,S_414_REQUEST_URI_TOO_LONG:414,S_415_UNSUPPORTED_MEDIA_TYPE:415,S_416_REQUESTED_RANGE_NOT_SATISFIABLE:416,S_417_EXPECTATION_FAILED:417,S_422_UNPROCESSABLE_ENTITY:422,S_423_LOCKED:423,S_424_FAILED_DEPENDENCY:424,S_428_PRECONDITION_REQUIRED:428,S_429_TOO_MANY_REQUESTS:429,S_500_INTERNAL_SERVER_ERROR:500,S_501_NOT_IMPLEMENTED:501,S_502_BAD_GATEWAY:502,S_503_SERVICE_UNAVAILABLE:503,S_504_GATEWAY_TIMEOUT:504,S_505_HTTP_VERSION_NOT_SUPPORTED:505}),h="application/x-www-form-urlencoded",g=8e3
function v(e){if(Object&&Object.assign)return Object.assign.apply(Object,arguments)
if(null==e)throw new TypeError("Cannot convert undefined or null to object")
for(var n=Object(e),t=1;t<arguments.length;t++){var r=arguments[t]
if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])}return n}function _(e){if(!0===e.forceQueryTunnel){var n=r.extractPathAndQueryStringFromUrl(e.url),t=n.path,i=n.queryString
if(i){var a=v({},e.headers,{"X-HTTP-Method-Override":e.method}),o=void 0,s=void 0
if(e.body){var c="RESTLI_"+Date.now()
s="multipart/mixed; boundary="+c,o=["--"+c,"Content-Type: "+h,"",i,"--"+c,"Content-Type: application/json","",e.body,"--"+c+"--"].join("\r\n")}else s=h,o=i
return a["Content-Type"]=s,{body:o,headers:a,method:"POST",url:t}}}var d={method:e.method,url:e.url}
return e.body&&(d.body=e.body),d}function b(){var e=document.querySelector('meta[name="isQueryTunnelRequestSupported"]')
return e&&"true"===e.getAttribute("content")||!1}function T(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=r.extractPathAndQueryStringFromUrl(e),i=t.path,a=t.queryString
if(i.length>g)throw new Error("Per AFD limitations, this request url "+e+" will not work. Please contact ask_traffic@.")
if((e.length>g||a.length>4e3)&&"GET"===n.method){var o=v({},n)
o.url=e,o.forceQueryTunnel=!0
var s=_(o)
n.method=s.method,e=s.url,n.headers=s.headers,n.body=s.body,n.data=s.body}return{url:e,request:n}}return{encoder:s,decoder:m,httpStatus:y,queryTunnel:{encodeRequest:_,isQueryTunnelSupportedForAFD:b,checkAndEncodeLongUrl:T,queryTunnelRequest:function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}
return b()?T(e,n):{url:e,request:n}}},utils:r}}()})),xe=Ie((function(e,n){e.exports=function(){var e=new RegExp("urn:[^:]+:([a-z]\\w*)(?::(.+))?"),n=/^fs_/
function t(t){if("string"!=typeof t)throw new TypeError("URNs must be of type string, but the parameter passed to extractEntityInfoFromUrn was of type "+typeof t+".")
var r,i,a=e.exec(t)
return a&&(r=a[1].replace(n,""),i=a[2]),{id:i,type:r}}var r=/(?![^(]*\)),/
return{checkForEntityId:function(n){var t=e.exec(n)
return t?t[2]:n},extractEntityInfoFromUrn:t,urnToObject:function e(n){var i=t(n),a=i.id,o=i.type,s={}
if("("===a.charAt(0)){for(var c,d=a.substring(1,a.length-1).split(r),u=0;c=d[u];++u)0===c.indexOf("urn")&&(d[u]=e(c))
a=d}return s[o]=a,s}}}()}))
function we(e){return void 0!==e.error&&null!==e.error}var Oe=function(e,n,t){return t.indexOf(e)===n},Me=function(e){return function(n){return!e.includes(n)}},Ne=function(e){return 5===Math.floor(e/100)},Pe=function(){function e(n,t,r){var i=this
ue(this,e),fe(this,"_endpoint",void 0),fe(this,"_connectionId",void 0),fe(this,"_requestHeaders",void 0),fe(this,"_serverClockTimeDiff",0),fe(this,"_lastTimeClockSynced",0),fe(this,"_recentServerClockTimeDiffs",[]),fe(this,"_mpName",void 0),fe(this,"_mpVersion",void 0),fe(this,"_clientId",void 0),fe(this,"parseResponse",(function(e,n){var t=Object.keys(e.errors||{}).filter((function(n){return!Ne(e.errors[n].status)})),r=Object.keys(e.errors||{}).filter((function(n){return Ne(e.errors[n].status)}))
return[n.filter((function(e){return!t.includes(e)&&!r.includes(e)})),t,r]})),fe(this,"clockSyncConfig",(function(){return{method:"GET",url:"".concat((e=i._endpoint,n=e.endsWith("/")?"":"/","".concat(e).concat(n,"realtime/realtimeFrontendTimestamp"))),body:[],headers:i._requestHeaders}
var e,n})),fe(this,"connectivityTrackConfig",(function(e,n){var t,r,a={isFirstHeartbeat:"FIRST_BEAT"===n,isLastHeartbeat:"FINAL_BEAT"===n,realtimeSessionId:e,mpName:i._mpName,mpVersion:i._mpVersion,clientId:i._clientId}
return{method:"POST",url:"".concat((t=i._endpoint,r=t.endsWith("/")?"":"/","".concat(t).concat(r,"realtime/realtimeFrontendClientConnectivityTracking")),"?").concat(Re.encoder.paramEncode({action:"sendHeartbeat"})),body:a,headers:de({},i._requestHeaders)}})),fe(this,"subscribeConfig",(function(e){var n,t,r=i.connectionId,a=i._requestHeaders,o=e.map((function(e){return{clientConnectionId:r,topic:e}})),s=(n=o.map((function(e){return[Re.encoder.encode(e),{}]})),Object.fromEntries?Object.fromEntries(n):ye(n).reduce((function(e,n){var t=me(n,2),r=t[0],i=t[1]
return e[r]=i,e}),{}))
return{method:"PUT",url:"".concat((t=i._endpoint,"".concat(t,"/realtimeFrontendSubscriptions")),"?").concat(Re.encoder.paramEncode({ids:o})),body:s,headers:a}})),fe(this,"unsubscribeConfig",(function(e){return de(de({},i.subscribeConfig(e)),{},{method:"DELETE"})})),fe(this,"apiCallSubscribe",(function(e){return i.sendRequest(i.subscribeConfig(e))})),fe(this,"apiCallUnsubscribe",(function(e){return i.sendRequest(i.unsubscribeConfig(e))})),fe(this,"apiCallClockSync",(function(){return i.sendRequest(i.clockSyncConfig())})),fe(this,"apiCallConnectivityTrack",(function(e,n){return i.sendRequest(i.connectivityTrackConfig(e,n))})),this._endpoint=n,this._connectionId=null,this._requestHeaders=t,this._mpName=r.name,this._mpVersion=r.version,this._clientId=r.id}return pe(e,[{key:"connectionId",get:function(){return this._connectionId}},{key:"setConnectionId",value:function(e){e&&(this._connectionId=e)}},{key:"disconnect",value:function(){this._connectionId=null}},{key:"subscribe",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
return new Promise((function(r,i){null!==n.connectionId?n.apiCallSubscribe(e).then((function(t){r(n.parseResponse(t,e))})).catch((function(a){var o=a.status
412!==o&&Ne(o)&&t<2?n.subscribe(e,t+1).then(r):i(a)})):i(new Error("RealtimeAPI: error - missing connectionID"))}))}},{key:"unsubscribe",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0
return new Promise((function(r,i){null!==n.connectionId?n.apiCallUnsubscribe(e).then((function(t){var i=n.parseResponse(t,e)
r(i)})).catch((function(a){var o=a.status
412!==o&&Ne(o)&&t<2?n.unsubscribe(e,t+1).then(r).catch(i):i(a)})):i(new Error("RealtimeAPI: error - missing connectionID"))}))}},{key:"getTimestamp",value:function(){return this.apiCallClockSync()}},{key:"trackActiveConnection",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ALIVE"
return this.apiCallConnectivityTrack(e,n).catch((function(){console.warn("Realtime: session heartbeat failed")}))}},{key:"syncRealtimeServerClockTime",value:function(){var e=this,n=Date.now()
if(!(n-this._lastTimeClockSynced<86e4))return this._lastTimeClockSynced=n,this.getTimestamp().then((function(t){var r=Date.now()
e._recentServerClockTimeDiffs=e._recentServerClockTimeDiffs.filter((function(e){return r-e.syncedAt<36e5}))
var i=r-n
0===i&&(i=1),e._recentServerClockTimeDiffs.push({syncedAt:r,clockDiff:t.timestamp-(n+r)/2,weight:1/i}),e._serverClockTimeDiff=e._computeWeightedAverageOfServerClockTimeDiff(e._recentServerClockTimeDiffs)}))}},{key:"getServerClockTime",value:function(){return this._serverClockTimeDiff?Date.now()+this._serverClockTimeDiff:-1}},{key:"_computeWeightedAverageOfServerClockTimeDiff",value:function(e){var n,t=0,r=0,i=function(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(!t){if(Array.isArray(e)||(t=he(e))){t&&(e=t)
var r=0,i=function(){}
return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1
return{s:function(){t=t.call(e)},n:function(){var e=t.next()
return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}(e)
try{for(i.s();!(n=i.n()).done;){var a=n.value,o=a.clockDiff,s=a.weight
t+=s*o,r+=s}}catch(e){i.e(e)}finally{i.f()}return Math.round(t/r)}},{key:"sendRequest",value:function(e){return new Promise((function(n,t){var r=de({},e)
r.body&&(r.body=JSON.stringify(r.body)),r.url.length>1e3&&(r.forceQueryTunnel=!0,r=Re.queryTunnel.encodeRequest(r))
var i=new XMLHttpRequest
i.open(r.method,r.url),Object.entries(r.headers).forEach((function(e){var n=me(e,2),t=n[0],r=n[1]
return i.setRequestHeader(t,r)})),i.onerror=function(e){t({status:i.status,message:e.message||"Realtime: request failed"})},i.onreadystatechange=function(){var e=i.status
if(i.readyState===XMLHttpRequest.DONE)if(e>=200&&e<300)try{n(i.responseText?JSON.parse(i.responseText):null)}catch(n){t({status:e,message:"Realtime: Invalid JSON in API response"})}else t({status:null!=e?e:500,message:"Realtime: API Server Error"})},i.withCredentials=!0,i.send(r.body)}))}}]),e}(),De=function(){function e(n){ue(this,e),fe(this,"_timer",0),fe(this,"_taskFunction",void 0),this._taskFunction=n}return pe(e,[{key:"start",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0
this._timer&&this.cancel(),this.schedule(this._taskFunction,e)}},{key:"cancel",value:function(){this._timer&&(window.clearTimeout(this._timer),this._timer=0)}},{key:"schedule",value:function(e,n){var t=this
this._timer=window.setTimeout((function(){e((function(r){return t.schedule(e,r||n)}))}),n)}}]),e}(),Ue=function(){function e(n){ue(this,e),fe(this,"fireEventTracking",void 0),this.fireEventTracking=n}return pe(e,[{key:"fireRealtimeTracking",value:function(e,n){var t=n.topic,r=n.publisherTrackingId,i=n.trackingId,a={publisherTrackingId:r,realtimeEventId:n.id,realtimeTrackingId:i,topicUrn:t,receivedTime:n.receivedTime}
this.fireEventTracking(e,a)}}]),e}(),Le={domain:"",mpInfo:{name:"common-time",version:"3.3.0",id:"common-time"},detectMissedHeartbeat:!0,heartbeatPollInterval:15e3,heartbeatGapThreshold:3e4,reconnectGapThreshold:3e4,sessionHeartbeat:3e5,coverageGap:18e4,acceptableErrorCount:2,alertChannelErrors:!1,maxRetryCount:2,connectHeaders:{},urlQueryParams:"?rc=1",enableCustomRetry:!1},Fe=function(){function e(n){var t,r,i=this
ue(this,e),fe(this,"_options",void 0),fe(this,"_events",{}),fe(this,"_eventSourceErrorCount",0),fe(this,"_api",void 0),fe(this,"_eventSource",null),fe(this,"_eventSourceUrl",""),fe(this,"_lastHeartBeatReceivedAt",null),fe(this,"_heartBeatMonitor",void 0),fe(this,"_reconnectTask",void 0),fe(this,"_reconnectDelay",void 0),fe(this,"_realtimeTracking",void 0),fe(this,"_subscribedTopics",[]),fe(this,"_personalTopicsTypes",[]),fe(this,"_lastConnectedStatus",!1),fe(this,"_explicitlyConnected",!1),fe(this,"_autoReconnect","FAIL-ON-ERROR"),fe(this,"_timeConnectionLost",void 0),fe(this,"_boundUnloadHandler",null),fe(this,"eventSourceOnmessage",(function(e){var n,t=i.parseMessage(e),r=t.type,a=t.eventData
switch(r){case _e.invalid:i.triggerEvent("error",{status:500,message:a})
break
case _e.clientConnection:var o,s=a.id,c=a.personalTopics
i._api.setConnectionId(s),i._personalTopicsTypes=ye(c),i._subscribedTopics.length>0&&i.restoreSubscriptions(),i._lastHeartBeatReceivedAt=Date.now(),i.triggerEvent("connect",{id:s,personalTopicsTypes:i._personalTopicsTypes})
var d=Date.now()-(null!==(o=i._timeConnectionLost)&&void 0!==o?o:Date.now())
d>i.options.reconnectGapThreshold&&i.triggerEvent("reconnected",d),i._timeConnectionLost=null
break
case _e.heartbeat:i._lastHeartBeatReceivedAt=Date.now(),i.triggerEvent("heartbeat",i._lastHeartBeatReceivedAt)
break
case _e.decoratedEvent:default:var u=(n=i._personalTopicsTypes,function(e){var t=xe.extractEntityInfoFromUrn(e).type
return n.includes(t)})
if(i._subscribedTopics.includes(a.topic)||u(a.topic)){if(i.triggerEvent("topic",de({},a)),i.realtimeTracking){var l=i.serverClockTime
a.receivedTime=l,i.realtimeTracking.fireRealtimeTracking("RealtimeEventDeliveredEvent",a)}}else i.triggerEvent("error",{status:600,message:'Received a message for "'.concat(a.topic,'" that was not subscribed to')})}})),fe(this,"triggerEvent",(function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
var r=n[0],a=n[1]
return!!i._events[r]&&(i._events[r].forEach((function(e){return e(r,a)})),!0)})),fe(this,"eventSourceOnError",(function(e){var n,t
i._eventSourceErrorCount++,(i.detectConnectionLost()||i.connected)&&(we(e)?(i.itShouldRetry(e.error.status)&&i.scheduleReconnect(),i.triggerEvent("error",{status:null!==(n=e.error.status)&&void 0!==n?n:500,message:"EventSource error - ".concat(null!==(t=e.error.message)&&void 0!==t?t:"unknown"),originalEvent:e.error})):(i.itShouldRetry()&&i.scheduleReconnect(),i.options.alertChannelErrors&&i.triggerEvent("error",{status:900,message:"Unknown EventSource connection error/warning event",originalEvent:e})))})),fe(this,"parseMessage",(function(e){var n
try{n=JSON.parse(e.data)}catch(e){var t=e instanceof Error?e.message:"JSON not valid"
return{type:_e.invalid,eventData:"Error while parsing event data - ".concat(t)}}var r=Object.keys(n)[0]
return{type:r,eventData:n[r]}})),fe(this,"_reconnectHandler",(function(e){i.triggerEvent("reconnecting",null),i._internalConnect().catch((function(n){var t,r
i._eventSource=null
var a={status:null!==(t=n.status)&&void 0!==t?t:900,message:"EventSource connection failed - ".concat(null!==(r=n.message)&&void 0!==r?r:"unknown reason"),originalEvent:n}
i.itShouldRetry(a.status)?(i.options.alertChannelErrors&&i.triggerEvent("error",a),e(i._reconnectDelay())):i.triggerEvent("error",a)}))})),fe(this,"_heartbeatCheck",(function(e){if(null===i._timeConnectionLost){if(null===i._lastHeartBeatReceivedAt)return void i.scheduleReconnect()
var n=Date.now()-i._lastHeartBeatReceivedAt
if(n>i.options.heartbeatGapThreshold)return i.triggerEvent("poorRealtimeConnectionDetected",n),void i.scheduleReconnect()}e()})),fe(this,"scheduleReconnect",(function(){i._options.enableCustomRetry&&(i.disconnectAndClose(),i._reconnectTask.start(i._reconnectDelay()))})),fe(this,"startHeartBeatMonitoring",(function(){i._options.detectMissedHeartbeat&&i._heartBeatMonitor.start(i.options.heartbeatPollInterval)})),fe(this,"setupLeaveGuard",(function(){i._boundUnloadHandler&&window.removeEventListener("beforeunload",i._boundUnloadHandler),i._boundUnloadHandler=i.beforeUnloadHandler.bind(i),window.addEventListener("beforeunload",i._boundUnloadHandler)})),fe(this,"setupOnlineGuard",(function(){window.addEventListener("offline",i.handleLoseInternetConnection.bind(i)),window.addEventListener("online",i.handleGainInternetConnection.bind(i))})),this._options=de(de({},Le),n),this._options.connectHeaders["x-li-realtime-session"]=this.sessionId,this._options.sessionHeartbeat=this._options.sessionHeartbeat?Math.max(6e4,this._options.sessionHeartbeat):null,this._options.reconnectGapThreshold=Math.max(0,null!==(t=this._options.reconnectGapThreshold)&&void 0!==t?t:0),this._options.heartbeatGapThreshold=Math.max(2*this._options.heartbeatPollInterval,this.options.heartbeatGapThreshold),this._reconnectDelay=(r=0,function(){var e=++r-Math.max(1,0)
if(e<=0)return 0
var n=4*Math.random()
return 1===e?1e3*(5+n):1e3*(10+n)}),this._api=new Pe(this._options.domain,this._options.connectHeaders,this._options.mpInfo),this._heartBeatMonitor=new De(this._heartbeatCheck.bind(this)),this._reconnectTask=new De(this._reconnectHandler.bind(this)),this._timeConnectionLost=null,this._options.tracking&&(this._realtimeTracking=new Ue(this._options.tracking.fireEventCallback)),this.startConnectivityTracker(),this.setupLeaveGuard(),this.setupOnlineGuard()}return pe(e,[{key:"options",get:function(){return this._options}},{key:"realtimeTracking",get:function(){return this._realtimeTracking}},{key:"connected",get:function(){return null!==this._eventSource&&this._eventSource.readyState===be.OPEN}},{key:"sessionId",get:function(){return e._realtimeSessionId}},{key:"realtimeConnectUrl",get:function(){var e=this._options.domain.endsWith("/")?"":"/"
return"".concat(this._options.domain).concat(e,"realtime/connect").concat(this._options.urlQueryParams)}},{key:"eventSourceUrl",get:function(){return this._eventSourceUrl}},{key:"serverClockTime",get:function(){return this._api.getServerClockTime()}},{key:"sessionHeartbeatInterval",get:function(){return this._options.sessionHeartbeat}},{key:"HeartbeatGapThreshold",get:function(){return this._options.heartbeatGapThreshold}},{key:"addSubscriptions",value:function(e){var n=this.filterSubscriptionList(e,this._subscribedTopics)
return 0===n.length?Promise.resolve({succeeded:[],failed:[]}):this.apiSubscribe(n)}},{key:"removeSubscriptions",value:function(e){var n=this
return new Promise((function(t,r){var i,a=(e instanceof Array?e:[e]).filter(Oe).filter((i=n._subscribedTopics,function(e){return i.includes(e)}))
if(0===a.length)return t({succeeded:[],failed:[]})
n._api.unsubscribe(a).then((function(e){var r=me(e,2),i=r[0],a=r[1]
i.forEach((function(e){return n.triggerEvent("unsubscribe",e)})),a.forEach((function(e){return n.triggerEvent("unsubscribeFailed",e)})),n._subscribedTopics=n._subscribedTopics.filter(Me(i)),t({succeeded:i,failed:a})})).catch((function(e){n.triggerEvent("error",e),r(e)}))}))}},{key:"addEventListener",value:function(){for(var e=this,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r]
var i=t[0],a=t[1]
return this._events[i]||(this._events[i]=[]),this._events[i].includes(a)?null:(this._events[i].push(a),function(){return e.removeEventListener.apply(e,ye([i,a]))})}},{key:"removeEventListener",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
var r=n[0],i=n[1]
if(!this._events[r])return!1
var a=this._events[r].length
return this._events[r]=this._events[r].filter((function(e){return e!==i})),a!==this._events[r].length}},{key:"_getConnectionHandler",value:function(e,n,t){var r=this
return function(i){t.removeEventListener("error",n),t.addEventListener("error",r.eventSourceOnError.bind(r)),r.startHeartBeatMonitoring(),r.triggerEvent("open",null),r._lastConnectedStatus=r.connected,e()}}},{key:"connect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FAIL-ON-ERROR"
return"RETRY"===this._autoReconnect?Promise.resolve():(this._explicitlyConnected=!0,this._autoReconnect=e,this._internalConnect(e))}},{key:"_internalConnect",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FAIL-ON-ERROR",t=function(t,r){return function(i){"FAIL-ON-ERROR"===n?r(we(i)?i.error:i):(e.eventSourceOnError(i),t())}}
return this._options.connectHeaders["x-li-realtime-session"]=this.sessionId,this._eventSource?Promise.resolve():new Promise((function(n,r){e._lastConnectedStatus=!0
var i=e.connectEventSource()
if(i.readyState!==be.CONNECTING){var a=new Error("EventSource readyState is incorrect: ".concat(i.readyState))
e.triggerEvent("error",a),r(a)}else{var o=t(n,r)
i.addEventListener("error",o),i.addEventListener("open",e._getConnectionHandler(n,o,i)),i.addEventListener("message",e.eventSourceOnmessage.bind(e)),e._api.syncRealtimeServerClockTime()}}))}},{key:"disconnectAndClose",value:function(){this._timeConnectionLost||(this._timeConnectionLost=Date.now()),this._heartBeatMonitor.cancel(),this._reconnectTask.cancel(),this._eventSource&&(this._api.disconnect(),this._eventSource.close(),this._eventSource=null),this._eventSourceErrorCount=0,this.triggerEvent("close",null)}},{key:"startConnectivityTracker",value:function(){var n=this
e._connectivityTrackingTimer&&(window.clearInterval(e._connectivityTrackingTimer),e._connectivityTrackingTimer=0),this._options.sessionHeartbeat&&(this._api.trackActiveConnection(this.sessionId,"FIRST_BEAT"),e._connectivityTrackingTimer=window.setInterval((function(){n._api.trackActiveConnection(n.sessionId)}),this._options.sessionHeartbeat))}},{key:"stopConnectivityTracker",value:function(){var n
e._connectivityTrackingTimer&&(window.clearInterval(e._connectivityTrackingTimer),e._connectivityTrackingTimer=0,null===(n=e.singleton)||void 0===n||n._api.trackActiveConnection(e.singleton.sessionId,"FINAL_BEAT"))}},{key:"handleLoseInternetConnection",value:function(){this.disconnectAndClose(),this.stopConnectivityTracker(),e._realtimeSessionId=Ce()}},{key:"handleGainInternetConnection",value:function(){var e=this
if(this.startConnectivityTracker(),this._explicitlyConnected){var n,t=Date.now()-this.options.reconnectGapThreshold-1
this._timeConnectionLost=Math.min(t,null!==(n=this._timeConnectionLost)&&void 0!==n?n:t),setTimeout((function(){e._internalConnect(e._autoReconnect)}),5e3)}}},{key:"filterSubscriptionList",value:function(e,n){var t,r=(t=this._personalTopicsTypes,function(e){var n=xe.extractEntityInfoFromUrn(e).type
return!t.includes(n)}),i=Me(n)
return(e instanceof Array?e:[e]).filter(Oe).filter(r).filter(i)}},{key:"restoreSubscriptions",value:function(){var e=this.filterSubscriptionList(this._subscribedTopics,[])
return 0===e.length?Promise.resolve({succeeded:[],failed:[]}):this.apiSubscribe(e)}},{key:"apiSubscribe",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1
return new Promise((function(r,i){n._api.subscribe(e).then((function(e){var a=me(e,3),o=a[0],s=a[1],c=a[2]
n._subscribedTopics=[].concat(ye(n._subscribedTopics),ye(o.filter(Me(n._subscribedTopics)))),o.forEach((function(e){return n.triggerEvent("subscribe",e)})),c.length>0&&t<n.options.maxRetryCount?n.apiSubscribe(c,t+1).then((function(e){r({succeeded:[].concat(ye(o),ye(e.succeeded)),failed:[].concat(ye(s),ye(e.failed))})})).catch(i):(s.forEach((function(e){return n.triggerEvent("subscribeFailed",e)})),r({succeeded:o,failed:[].concat(ye(s),ye(c))}))})).catch((function(t){412===t.status?(n.scheduleReconnect(),r({succeeded:[],failed:e})):(n.triggerEvent("error",t),i(t))}))}))}},{key:"connectEventSource",value:function(){return this._eventSource||(this._eventSourceUrl=function(e,n){var t=Object.entries(n).map((function(e){var n=me(e,2),t=n[0],r=n[1]
return"".concat(t,"=").concat(encodeURIComponent(r))})).join("&"),r=e.charAt(e.length-1),i="/"===r||"?"===r||"&"===r?e.substr(0,e.length-1):e
if(t.length>0){var a=i.includes("?")?"&":"?"
return"".concat(i).concat(a).concat(t)}return i}(this.realtimeConnectUrl,this.options.connectHeaders),this._eventSource=new EventSource(this._eventSourceUrl,{withCredentials:!0})),this._eventSource}},{key:"itShouldRetry",value:function(e){return!(null!=e&&e>=400&&e<500)&&(!this._eventSource||this._eventSource.readyState===be.CLOSE||this._eventSourceErrorCount>this.options.acceptableErrorCount)}},{key:"lostConnection",value:function(){return this._lastConnectedStatus&&!this.connected}},{key:"detectConnectionLost",value:function(){var e=this.lostConnection()
return e&&(this._lastConnectedStatus=this.connected,this._timeConnectionLost=Date.now()),e}},{key:"beforeUnloadHandler",value:function(){e.close()}}],[{key:"create",value:function(n){if(e.singleton)e.singleton._options=de(de({},e.singleton._options),n)
else{if(!n.mpInfo)throw new Error('Missing required "mpInfo" property in options')
e.singleton=new e(n)}return e.singleton}},{key:"close",value:function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
if(!e.singleton)return!1
var t=e.singleton._boundUnloadHandler
return t&&window.removeEventListener("beforeunload",t),e._connectivityTrackingTimer&&this.singleton&&(window.clearInterval(e._connectivityTrackingTimer),n&&this.singleton._api.trackActiveConnection(this.singleton.sessionId,"FINAL_BEAT")),e.singleton.disconnectAndClose(),e.singleton=null,!0}}]),e}()
fe(Fe,"singleton",void 0),fe(Fe,"_realtimeSessionId",Ce()),fe(Fe,"_connectivityTrackingTimer",0)
var je,Be=Ie((function(e,n){!function(t){var r=t.setTimeout,i=t.clearTimeout,a=t.XMLHttpRequest,o=t.XDomainRequest,s=t.ActiveXObject,c=t.EventSource,d=t.document,u=t.Promise,l=t.fetch,p=t.Response,f=t.TextDecoder,m=t.TextEncoder,y=t.AbortController
if("undefined"==typeof window||void 0===d||"readyState"in d||null!=d.body||(d.readyState="loading",window.addEventListener("load",(function(e){d.readyState="complete"}),!1)),null==a&&null!=s&&(a=function(){return new s("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(e){function n(){}return n.prototype=e,new n}),Date.now||(Date.now=function(){return(new Date).getTime()}),null==y){var h=l
l=function(e,n){var t=n.signal
return h(e,{headers:n.headers,credentials:n.credentials,cache:n.cache}).then((function(e){var n=e.body.getReader()
return t._reader=n,t._aborted&&t._reader.cancel(),{status:e.status,statusText:e.statusText,headers:e.headers,body:{getReader:function(){return n}}}}))},y=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function g(){this.bitsNeeded=0,this.codePoint=0}g.prototype.decode=function(e){function n(e,n,t){if(1===t)return e>=128>>n&&e<<n<=2047
if(2===t)return e>=2048>>n&&e<<n<=55295||e>=57344>>n&&e<<n<=65535
if(3===t)return e>=65536>>n&&e<<n<=1114111
throw new Error}function t(e,n){if(6===e)return n>>6>15?3:n>31?2:1
if(12===e)return n>15?3:2
if(18===e)return 3
throw new Error}for(var r="",i=this.bitsNeeded,a=this.codePoint,o=0;o<e.length;o+=1){var s=e[o]
0!==i&&(s<128||s>191||!n(a<<6|63&s,i-6,t(i,a)))&&(i=0,a=65533,r+=String.fromCharCode(a)),0===i?(s>=0&&s<=127?(i=0,a=s):s>=192&&s<=223?(i=6,a=31&s):s>=224&&s<=239?(i=12,a=15&s):s>=240&&s<=247?(i=18,a=7&s):(i=0,a=65533),0===i||n(a,i,t(i,a))||(i=0,a=65533)):(i-=6,a=a<<6|63&s),0===i&&(a<=65535?r+=String.fromCharCode(a):(r+=String.fromCharCode(55296+(a-65535-1>>10)),r+=String.fromCharCode(56320+(a-65535-1&1023))))}return this.bitsNeeded=i,this.codePoint=a,r},null!=f&&null!=m&&function(){try{return"test"===(new f).decode((new m).encode("test"),{stream:!0})}catch(e){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+e)}return!1}()||(f=g)
var v=function(){}
function _(e){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=v,this.onload=v,this.onerror=v,this.onreadystatechange=v,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=v}function b(e){return e.replace(/[A-Z]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)+32)}))}function T(e){for(var n=Object.create(null),t=e.split("\r\n"),r=0;r<t.length;r+=1){var i=t[r].split(": "),a=i.shift(),o=i.join(": ")
n[b(a)]=o}this._map=n}function E(){}function A(e){this._headers=e}function S(){}function C(){this._listeners=Object.create(null)}function k(e){r((function(){throw e}),0)}function I(e){this.type=e,this.target=void 0}function R(e,n){I.call(this,e),this.data=n.data,this.lastEventId=n.lastEventId}function x(e,n){I.call(this,e),this.status=n.status,this.statusText=n.statusText,this.headers=n.headers}function w(e,n){I.call(this,e),this.error=n.error}_.prototype.open=function(e,n){this._abort(!0)
var t=this,o=this._xhr,s=1,c=0
this._abort=function(e){0!==t._sendTimeout&&(i(t._sendTimeout),t._sendTimeout=0),1!==s&&2!==s&&3!==s||(s=4,o.onload=v,o.onerror=v,o.onabort=v,o.onprogress=v,o.onreadystatechange=v,o.abort(),0!==c&&(i(c),c=0),e||(t.readyState=4,t.onabort(null),t.onreadystatechange())),s=0}
var d=function(){if(1===s){var e=0,n="",r=void 0
if("contentType"in o)e=200,n="OK",r=o.contentType
else try{e=o.status,n=o.statusText,r=o.getResponseHeader("Content-Type")}catch(t){e=0,n="",r=void 0}0!==e&&(s=2,t.readyState=2,t.status=e,t.statusText=n,t._contentType=r,t.onreadystatechange())}},u=function(){if(d(),2===s||3===s){s=3
var e=""
try{e=o.responseText}catch(e){}t.readyState=3,t.responseText=e,t.onprogress()}},l=function(e,n){if(null!=n&&null!=n.preventDefault||(n={preventDefault:v}),u(),1===s||2===s||3===s){if(s=4,0!==c&&(i(c),c=0),t.readyState=4,"load"===e)t.onload(n)
else if("error"===e)t.onerror(n)
else{if("abort"!==e)throw new TypeError
t.onabort(n)}t.onreadystatechange()}},p=function(){c=r((function(){p()}),500),3===o.readyState&&u()}
"onload"in o&&(o.onload=function(e){l("load",e)}),"onerror"in o&&(o.onerror=function(e){l("error",e)}),"onabort"in o&&(o.onabort=function(e){l("abort",e)}),"onprogress"in o&&(o.onprogress=u),"onreadystatechange"in o&&(o.onreadystatechange=function(e){!function(e){null!=o&&(4===o.readyState?"onload"in o&&"onerror"in o&&"onabort"in o||l(""===o.responseText?"error":"load",e):3===o.readyState?"onprogress"in o||u():2===o.readyState&&d())}(e)}),!("contentType"in o)&&"ontimeout"in a.prototype||(n+=(-1===n.indexOf("?")?"?":"&")+"padding=true"),o.open(e,n,!0),"readyState"in o&&(c=r((function(){p()}),0))},_.prototype.abort=function(){this._abort(!1)},_.prototype.getResponseHeader=function(e){return this._contentType},_.prototype.setRequestHeader=function(e,n){var t=this._xhr
"setRequestHeader"in t&&t.setRequestHeader(e,n)},_.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},_.prototype.send=function(){if("ontimeout"in a.prototype&&("sendAsBinary"in a.prototype||"mozAnon"in a.prototype)||null==d||null==d.readyState||"complete"===d.readyState){var e=this._xhr
"withCredentials"in e&&(e.withCredentials=this.withCredentials)
try{e.send(void 0)}catch(e){throw e}}else{var n=this
n._sendTimeout=r((function(){n._sendTimeout=0,n.send()}),4)}},T.prototype.get=function(e){return this._map[b(e)]},null!=a&&null==a.HEADERS_RECEIVED&&(a.HEADERS_RECEIVED=2),E.prototype.open=function(e,n,t,r,i,o,s){e.open("GET",i)
var c=0
for(var d in e.onprogress=function(){var n=e.responseText.slice(c)
c+=n.length,t(n)},e.onerror=function(e){e.preventDefault(),r(new Error("NetworkError"))},e.onload=function(){r(null)},e.onabort=function(){r(null)},e.onreadystatechange=function(){if(e.readyState===a.HEADERS_RECEIVED){var t=e.status,r=e.statusText,i=e.getResponseHeader("Content-Type"),o=e.getAllResponseHeaders()
n(t,r,i,new T(o))}},e.withCredentials=o,s)Object.prototype.hasOwnProperty.call(s,d)&&e.setRequestHeader(d,s[d])
return e.send(),e},A.prototype.get=function(e){return this._headers.get(e)},S.prototype.open=function(e,n,t,r,i,a,o){var s=null,c=new y,d=c.signal,p=new f
return l(i,{headers:o,credentials:a?"include":"same-origin",signal:d,cache:"no-store"}).then((function(e){return s=e.body.getReader(),n(e.status,e.statusText,e.headers.get("Content-Type"),new A(e.headers)),new u((function(e,n){var r=function(){s.read().then((function(n){if(n.done)e(void 0)
else{var i=p.decode(n.value,{stream:!0})
t(i),r()}})).catch((function(e){n(e)}))}
r()}))})).catch((function(e){return"AbortError"===e.name?void 0:e})).then((function(e){r(e)})),{abort:function(){null!=s&&s.cancel(),c.abort()}}},C.prototype.dispatchEvent=function(e){e.target=this
var n=this._listeners[e.type]
if(null!=n)for(var t=n.length,r=0;r<t;r+=1){var i=n[r]
try{"function"==typeof i.handleEvent?i.handleEvent(e):i.call(this,e)}catch(e){k(e)}}},C.prototype.addEventListener=function(e,n){e=String(e)
var t=this._listeners,r=t[e]
null==r&&(r=[],t[e]=r)
for(var i=!1,a=0;a<r.length;a+=1)r[a]===n&&(i=!0)
i||r.push(n)},C.prototype.removeEventListener=function(e,n){e=String(e)
var t=this._listeners,r=t[e]
if(null!=r){for(var i=[],a=0;a<r.length;a+=1)r[a]!==n&&i.push(r[a])
0===i.length?delete t[e]:t[e]=i}},R.prototype=Object.create(I.prototype),x.prototype=Object.create(I.prototype),w.prototype=Object.create(I.prototype)
var O=/^text\/event\-stream(;.*)?$/i,M=function(e,n){var t=null==e?n:parseInt(e,10)
return t!=t&&(t=n),N(t)},N=function(e){return Math.min(Math.max(e,1e3),18e6)},P=function(e,n,t){try{"function"==typeof n&&n.call(e,t)}catch(e){k(e)}}
function D(e,n){C.call(this),n=n||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(e,n,t){n=String(n)
var s=Boolean(t.withCredentials),c=t.lastEventIdQueryParameterName||"lastEventId",d=N(1e3),u=M(t.heartbeatTimeout,45e3),l="",p=d,f=!1,m=0,y=t.headers||{},h=t.Transport,g=U&&null==h?void 0:new _(null!=h?new h:null!=a&&"withCredentials"in a.prototype||null==o?new a:new o),v=null!=h&&"string"!=typeof h?new h:null==g?new S:new E,b=void 0,T=0,A=-1,C="",k="",I="",D="",L=0,F=0,j=0,B=function(n,t,r,i){if(0===A)if(200===n&&null!=r&&O.test(r)){A=1,f=Date.now(),p=d,e.readyState=1
var a=new x("open",{status:n,statusText:t,headers:i})
e.dispatchEvent(a),P(e,e.onopen,a)}else{var o=""
200!==n?(t&&(t=t.replace(/\s+/g," ")),o="EventSource's response has a status "+n+" "+t+" that is not 200. Aborting the connection."):o="EventSource's response has a Content-Type specifying an unsupported type: "+(null==r?"-":r.replace(/\s+/g," "))+". Aborting the connection.",$(),a=new x("error",{status:n,statusText:t,headers:i}),e.dispatchEvent(a),P(e,e.onerror,a),console.error(o)}},q=function(n){if(1===A){for(var t=-1,a=0;a<n.length;a+=1)(c=n.charCodeAt(a))!=="\n".charCodeAt(0)&&c!=="\r".charCodeAt(0)||(t=a)
var o=(-1!==t?D:"")+n.slice(0,t+1)
D=(-1===t?D:"")+n.slice(t+1),""!==n&&(f=Date.now(),m+=n.length)
for(var s=0;s<o.length;s+=1){var c=o.charCodeAt(s)
if(-1===L&&c==="\n".charCodeAt(0))L=0
else if(-1===L&&(L=0),c==="\r".charCodeAt(0)||c==="\n".charCodeAt(0)){if(0!==L){1===L&&(j=s+1)
var y=o.slice(F,j-1),h=o.slice(j+(j<s&&o.charCodeAt(j)===" ".charCodeAt(0)?1:0),s)
"data"===y?(C+="\n",C+=h):"id"===y?k=h:"event"===y?I=h:"retry"===y?(d=M(h,d),p=d):"heartbeatTimeout"===y&&(u=M(h,u),0!==T&&(i(T),T=r((function(){K()}),u)))}if(0===L){if(""!==C){l=k,""===I&&(I="message")
var g=new R(I,{data:C.slice(1),lastEventId:k})
if(e.dispatchEvent(g),"open"===I?P(e,e.onopen,g):"message"===I?P(e,e.onmessage,g):"error"===I&&P(e,e.onerror,g),2===A)return}C="",I=""}L=c==="\r".charCodeAt(0)?-1:0}else 0===L&&(F=s,L=1),1===L?c===":".charCodeAt(0)&&(j=s+1,L=2):2===L&&(L=3)}}},V=function(n){if(1===A||0===A){A=-1,0!==T&&(i(T),T=0),T=r((function(){K()}),p),p=N(Math.min(16*d,2*p)),e.readyState=0
var t=new w("error",{error:n})
e.dispatchEvent(t),P(e,e.onerror,t),null!=n&&console.error(n)}},$=function(){A=2,null!=b&&(b.abort(),b=void 0),0!==T&&(i(T),T=0),e.readyState=2},K=function(){if(T=0,-1===A){f=!1,m=0,T=r((function(){K()}),u),A=0,C="",I="",k=l,D="",F=0,j=0,L=0
var t=n
if("data:"!==n.slice(0,5)&&"blob:"!==n.slice(0,5)&&""!==l){var i=n.indexOf("?")
t=-1===i?n:n.slice(0,i+1)+n.slice(i+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,(function(e,n){return n===c?"":e})),t+=(-1===n.indexOf("?")?"?":"&")+c+"="+encodeURIComponent(l)}var a=e.withCredentials,o={Accept:"text/event-stream"},s=e.headers
if(null!=s)for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(o[d]=s[d])
try{b=v.open(g,B,q,V,t,a,o)}catch(e){throw $(),e}}else if(f||null==b){var p=Math.max((f||Date.now())+u-Date.now(),1)
f=!1,T=r((function(){K()}),p)}else V(new Error("No activity within "+u+" milliseconds. "+(0===A?"No response received.":m+" chars received.")+" Reconnecting.")),null!=b&&(b.abort(),b=void 0)}
e.url=n,e.readyState=0,e.withCredentials=s,e.headers=y,e._close=$,K()}(this,e,n)}var U=null!=l&&null!=p&&"body"in p.prototype
D.prototype=Object.create(C.prototype),D.prototype.CONNECTING=0,D.prototype.OPEN=1,D.prototype.CLOSED=2,D.prototype.close=function(){this._close()},D.CONNECTING=0,D.OPEN=1,D.CLOSED=2,D.prototype.withCredentials=void 0
var L,F=c
null==a||null!=c&&"withCredentials"in c.prototype||(F=D),void 0!==(L=function(e){e.EventSourcePolyfill=D,e.NativeEventSource=c,e.EventSource=F}(n))&&(e.exports=L)}("undefined"==typeof globalThis?"undefined"!=typeof window?window:"undefined"!=typeof self?self:ke:globalThis)}))
function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
return Fe.create(e)}"undefined"!=typeof globalThis?globalThis.EventSource=Be.EventSourcePolyfill:window.EventSource=Be.EventSourcePolyfill
var Ve={MISSING_DATA_FROM_RESPONSE:{message:"Some data was missing or invalid from the response",code:100},ERRORS_IN_RESPONSE:{message:"Some errors were returned in the response",code:101},RESPONSE_INVALID_JSON:{message:"Failed to parse a JSON response",code:102},NO_RESPONSE_RECEIVED:{message:"No response received",code:103},NETWORK_ERROR:{message:"Network Error",code:104}},$e={FEATURE_NOT_YET_AVAILABLE:{message:"This feature is not yet available",code:613},MAILBOX_CONNECT_FAILED:{message:"Connecting to the Mailbox failed",code:614},MESSAGE_DECORATE_FAILED:{message:"Decoration of messages failed",code:600},CONVERSATION_DECORATE_FAILED:{message:"Decoration of conversation failed",code:601},MAILBOX_DECORATE_FAILED:{message:"Decoration of mailbox failed",code:602},CONVERSATION_DOES_NOT_EXIST:{message:"The conversation does not exist",code:603},DRAFT_MESSAGE_IS_EMPTY:{message:"The draft message is empty",code:604},MESSAGE_SEND_FAILED:{message:"Could not send the message",code:605},MESSAGE_DELETE_FAILED:{message:"Could not delete the message",code:606},MESSAGE_EDIT_FAILED:{message:"Could not edit the message",code:607},MESSAGE_DOES_NOT_EXIST:{message:"The message does not exist",code:608},DRAFT_CONVERSATION_NOT_FOUND:{message:"The draft conversation could not be found",code:610},PARTICIPANTS_DECORATE_FAILED:{message:"Decoration of participants failed",code:611},TOO_MANY_CATEGORIES:{message:"Too many categories specified and no keywords for find conversations",code:612},CANNOT_CREATE_FILTERED_MAILBOX:{message:"Cannot create a FilteredMailbox from a non-root mailbox",code:616},LOAD_OLDER_MESSAGES_FAILED:{message:"Cannot load older messages",code:617},RETRY_CANCELLED:{message:"The exponential backoff retry was cancelled",code:618},SENDING_QUEUE_IN_PROGRESS:{message:"The sending queue is already in progress. Cannot sendPendingMessages.",code:619},CANNOT_ADD_MESSAGES_IN_CONVERSATION:{message:"The draft conversation is in the process of sending the first message and creating a saved conversation. Cannot add more messages.",code:620},CANNOT_ADD_PARTICIPANTS_IN_CONVERSATION:{message:"Cannot add participants in conversation",code:621},CANNOT_REMOVE_PARTICIPANTS_FROM_CONVERSATION:{message:"Cannot remove participants from conversation",code:622},CANNOT_DISMISS_INLINE_WARNING:{message:"Cannot dismiss inline warning",code:623},MESSAGE_LIST_SYNC_FAILED:{message:"Message list sync failed",code:624},CHAIN_SYNC_FAILED:{message:"Chain sync failed",code:625},GET_REACTORS_FAILED:{message:"Get reactors by message and emoji failed",code:627},REACTION_LIMIT_REACHED:{message:"Cannot react to message because the reaction limit has been reached on this message",code:628},CONTENT_IS_NOT_ATTRIBUTED_TEXT:{message:"Content is not in the proper format of an AttributedTextFragment",code:629},INVALID_URL:{message:"Invalid restli or graphql URL",code:630},CHAIN_SYNC_CANNOT_START:{message:"Chain sync cannot start because missing syncToken",code:631},INVALID_TYPE_ARGUMENT:{message:"Invalid type argument",code:632},COMPOSE_BY_RECIPIENTS_FAILED:{message:"composeByRecipients failed: The conversation found could not be added to the Mailbox State",code:633}},Ke={CANNOT_QUERY_FRAGMENT:{message:"Cannot submit a GraphQL request with a fragment query",code:800},GRAPHQL_ERROR_PAYLOAD:{message:"Error in GraphQL response",code:801},GRAPHQL_INVALID_LOOKUP:{message:"Could not lookup the graphql query - invalid query",code:802}},He={CANNOT_CONNECT:{message:"Connection to Realtime failed",code:700},PAYLOAD_DATA_DOES_NOT_EXIST:{message:"Realtime response decorated payload data does not exist",code:701},PAYLOAD_DECORATION_DOES_NOT_EXIST:{message:"Realtime response decorated payload decoration does not exist",code:702},PAYLOAD_RESULT_DOES_NOT_EXIST:{message:"Realtime response decorated payload result does not exist",code:703},COMMON_TIME_ERROR:{message:"Error event emitted from common-time",code:704},EVENT_ERROR:{message:"Event data received from Realtime is invalid",code:705},EVENT_RESPONSE_ERROR:{message:"Event data contains GraphQL decoration errors",code:706}},Ge=function(e){return e instanceof Error},We=function(e){return e instanceof Xe},Ye=function(e){var n=e
return void 0!==n.status&&null!==n.status}
je=Symbol.toPrimitive
var ze,Xe=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function")
e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&l(e,n)}(t,m(Error))
var n=function(e){var n=p()
return function(){var t,r=u(e)
if(n){var i=u(this).constructor
t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments)
return function(e,n){if(n&&("object"==typeof n||"function"==typeof n))return n
if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined")
return y(e)}(this,t)}}(t)
function t(e,r,i,a){var s
return o(this,t),d(y(s=n.call(this,"[web-messenger-data] ".concat(i.trim()," (").concat(r,")").concat(a?Array.isArray(a)?" - ".concat(a.map((function(e){return e.message})).join()):" - ".concat(a.message):""))),"namespace",void 0),d(y(s),"code",void 0),d(y(s),"cause",void 0),s.name="MDError",s.code=r,s.namespace=e,s.cause=a,Object.setPrototypeOf(y(s),(this instanceof t?this.constructor:void 0).prototype),s}return c(t,[{key:"id",get:function(){return"".concat(this.namespace,":").concat(this.code)}},{key:je,value:function(e){return"string"===e?this.toString():null}}],[{key:"fromUnknown",value:function(e,n){var r=$e[n],i=r.code,a=r.message
return Ge(e)?new t("client",i,"".concat(a," - ").concat(e.message)):new t("client",i,a)}},{key:"fromMDResponseError",value:function(e,n,r){var i=n.message||n.code,a=void 0!==i?"".concat(e," ").concat(i):e
return new t("api",null!=r?r:n.status,a)}},{key:"fromClientErrorMemo",value:function(e,n){var r=$e[e]
return new t("client",r.code,r.message,n)}},{key:"fromInvalidType",value:function(e,n,r){var i=$e.INVALID_TYPE_ARGUMENT,a=i.code,o=i.message,s="".concat(e,"() invalid argument ").concat(n," not a ").concat(r,"'")
return new t("client",a,"".concat(o," - ").concat(s))}},{key:"fromApiErrorMemo",value:function(e,n){var r=Ve[e],i=r.code,a=r.message
return new t("api",i,"".concat(a).concat(null!=n&&n.msg?" - "+n.msg:""),null==n?void 0:n.cause)}},{key:"fromGraphQLErrorMemo",value:function(e,n){var r=Ke[e]
return new t("graphql",r.code,r.message,n)}},{key:"fromRealtimeErrorMemo",value:function(e,n){var r=He[e]
return new t("realtime",r.code,r.message,n)}},{key:"buildCommonTimeError",value:function(e){var n=He.COMMON_TIME_ERROR.message,r=e.message?"".concat(n," - ").concat(e.message):n,i=h(Ye(e)?[e.originalEvent,e.status]:[void 0,He.COMMON_TIME_ERROR.code],2),a=i[0]
return new t("realtime",i[1],r,a)}},{key:"buildGraphQLPayloadError",value:function(e,n){var r,i,a=Ke.GRAPHQL_ERROR_PAYLOAD.message,o=e.message,s='"'.concat(n,'" ').concat(a," - ").concat(null!=o?o:"")
return new t("graphql",null!==(r=null===(i=e.extensions)||void 0===i?void 0:i.status)&&void 0!==r?r:Ke.GRAPHQL_ERROR_PAYLOAD.code,s)}}]),t}(),Qe=function(e,n,t){return Promise.reject(Xe.fromMDResponseError(e,n,t))},Je={fullyLoaded:!1,loading:!1,nextCursor:null,syncToken:null,lastRequestId:0},Ze={},en=function(e){return function(n){return!!B(n)&&n.entityUrn===e}},nn=function(e){return function(n){return!!B(n)&&e.includes(n.entityUrn)}},tn=function(e){return function(n){return e===($(e)?n.entityUrn:n.clientId)}},rn=function(e){return function(n){return n.entityUrn===e}},an=function(e){return function(n){return n.clientId===e}},on=function(e){return function(n){return void 0!==e[n.clientId]&&null!==e[n.clientId]}},sn=function(e,n){var t,r,i,a,o,s
return{renderContent:"ADD"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"ADD")?[].concat(g(e.renderContent),g(n.renderContent)):n.renderContent,messageRequestContextByRecipient:null!==(t=n.messageRequestContextByRecipient)&&void 0!==t?t:e.messageRequestContextByRecipient,quickActionContextUrn:null!==(r=n.quickActionContextUrn)&&void 0!==r?r:e.quickActionContextUrn,invitationUrn:null!==(i=n.invitationUrn)&&void 0!==i?i:e.invitationUrn,forwardedMessageUrn:null!==(a=n.forwardedMessageUrn)&&void 0!==a?a:e.forwardedMessageUrn,conversationState:null!==(o=n.conversationState)&&void 0!==o?o:e.conversationState,conversationTitle:null!==(s=n.conversationTitle)&&void 0!==s?s:e.conversationTitle}},cn=function(e){return function(n){var t
return n?i(i(i({},n),e),{},{optionalSendData:e.optionalSendData?sn(n.optionalSendData,e.optionalSendData,"REPLACE"):n.optionalSendData,status:"Delivered"===n.status?"Delivered":null!==(t=e.status)&&void 0!==t?t:n.status,additionalData:e.additionalData||n.additionalData,entityUrn:n.entityUrn||e.entityUrn,clientId:n.clientId}):e}},dn=function(e){return e.connected.api},un=function(e){return e.slice().sort((function(e,n){return"Delivered"===e.status&&"Delivered"!==n.status?-1:"Delivered"!==e.status&&"Delivered"===n.status?1:e.deliveredAt.getTime()-n.deliveredAt.getTime()}))},ln=function(e){return e.slice().sort((function(e,n){return n.lastActivityAt.getTime()-e.lastActivityAt.getTime()}))},pn=function(e){return e.reduce((function(e,n){return[].concat(g(e),g(n.messages))}),[])},fn=function(e){return void 0===e.messages&&void 0!==e.status},mn=function(e,n){var t,r,a,o,s
if(n.lastActivityAt&&n.lastActivityAt<e.lastActivityAt)return e
var c=bn(null!==(t=e.seenReceiptsMap)&&void 0!==t?t:{},null!==(r=n.seenReceiptsMap)&&void 0!==r?r:{})
return i(i(i({},e),n),{},{lastActivityAt:null!==(a=n.lastActivityAt)&&void 0!==a?a:e.lastActivityAt,status:i(i({},e.status),n.status),metadata:{prevCursor:null!==(o=n.metadata)&&void 0!==o&&o.prevCursor&&""!==n.metadata.prevCursor?n.metadata.prevCursor:e.metadata.prevCursor,syncToken:null!==(s=n.metadata)&&void 0!==s&&s.syncToken&&""!==n.metadata.syncToken?n.metadata.syncToken:e.metadata.syncToken},seenReceiptsMap:c,quickReplies:n.quickReplies&&n.quickReplies.length>0?n.quickReplies:e.quickReplies})},yn=function(e,n){var t,r,a,o
if(fn(n))return i(i({},e),{},{status:i(i({},e.status),n.status)})
var s=n.participants||[],c=g(n.messages||[]),d=n.matchingSearches||[]
return i(i(i({},e),n),{},{participants:s.length>0?R(e.participants,s).filter((function(e){return void 0!==e})).sort():e.participants,messages:c.length>0?e.messages.add(c):e.messages,clientId:e.clientId,draftMessage:e.draftMessage,matchingSearches:d.length>0?R(e.matchingSearches,d):e.matchingSearches,metadata:{prevCursor:null!==(t=n.metadata)&&void 0!==t&&t.prevCursor&&""!==(null===(r=n.metadata)||void 0===r?void 0:r.prevCursor)?n.metadata.prevCursor:e.metadata.prevCursor,syncToken:null!==(a=n.metadata)&&void 0!==a&&a.syncToken&&""!==(null===(o=n.metadata)||void 0===o?void 0:o.syncToken)?n.metadata.syncToken:e.metadata.syncToken},quickReplies:n.quickReplies&&n.quickReplies.length>0?n.quickReplies:e.quickReplies})},hn=function(e,n){return function(t){var r=t.entityUrn?e.get(t.entityUrn):void 0,i=n.get(t.clientId)
return void 0!==r||void 0!==i&&(void 0===i.entityUrn||void 0===t.entityUrn)}},gn=function(e,n){return function(t){var r=e.state.draftConversations.get(n)||e.state.conversations.getByIdentifier(n,"FullMailboxState")
if(!r)throw Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST")
return void 0!==r.messages.getByIdentifier(t)}},vn=function(e,n,t){if(0===n.length)return[]
var r=n[0].message,i=e.messages.last()
if(!i)return[]
var a=i.entityUrn
return t&&t.deliveredAt&&(a=i.deliveredAt.getTime()>t.deliveredAt.getTime()?i.entityUrn:t.entityUrn),a===r.entityUrn?n:[]},_n=function(){Fe.close(!1),function(){try{for(var e in Ze)delete Ze[e]}catch(e){console.error("clearStateTable",e)}}()},bn=function(e,n){var t=n?function(e,n){var t=i({},e)
return w(n).forEach((function(e){var r
t[e]?(r=t[e]).push.apply(r,g(n[e])):(t[e]=n[e],t[e].sort((function(e,n){return e.seenAt-n.seenAt})))})),t}(e,n):e
return function(e){return function(e){var n={}
return w(e).forEach((function(t){n[e[t].messageUrn]?n[e[t].messageUrn].push({participantUrn:t,seenAt:e[t].seenAt}):n[e[t].messageUrn]=[{participantUrn:t,seenAt:e[t].seenAt}]})),n}(function(e){var n={}
return w(e).forEach((function(t){e[t].forEach((function(e){var r=e.participantUrn
if(n[r]){var i=n[r].seenAt
new Date(e.seenAt)>new Date(i)&&(n[r]={messageUrn:t,seenAt:e.seenAt})}else n[r]={messageUrn:t,seenAt:e.seenAt}}))})),n}(e))}(t)},Tn=function(e,n){return e.lastActivityAt.getTime()>=n},En=function(e,n){var t=e.reduce((function(e,n){return i(i({},e),{},d({},n.hostIdentityUrn,n))}),{}),r=n.reduce((function(e,n){return i(i({},e),{},d({},n.hostIdentityUrn,n))}),t)
return O(r)},An=function(){return Cn.fromConversationArray([])},Sn=function(e){return!0}
ze=Symbol.iterator
var Cn=function(){function e(n,t){o(this,e),d(this,"_conversations",void 0),d(this,"_filterPredicate",void 0),d(this,"_entityUrnIndex",new Map),d(this,"_clientIdIndex",new Map),d(this,"_idx",0),this._conversations=ln(n),this._filterPredicate=t||Sn,this._entityUrnIndex=new Map(this._conversations.map((function(e){return[e.entityUrn,e]}))),this._clientIdIndex=new Map(this._conversations.map((function(e){return[e.clientId,e]})))}return c(e,[{key:"getByIdentifier",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FilteredMailboxState",t=$(e)?this._entityUrnIndex.get(e):this._clientIdIndex.get(e)
return"FullMailboxState"===n||t&&this._filterPredicate(t)?t:void 0}},{key:"filterPredicate",get:function(){return this._filterPredicate}},{key:"filtered",value:function(n){return new e(this._conversations,n)}},{key:ze,value:function(){return this}},{key:"next",value:function(){for(;this._idx<this._conversations.length&&!this._filterPredicate(this._conversations[this._idx]);)this._idx++
return this._idx<this._conversations.length?{done:!1,value:this._conversations[this._idx++]}:(this._idx=0,{done:!0,value:void 0})}},{key:"last",value:function(){if(0!==this._conversations.length){for(var e=this._conversations.length-1;e>=0&&!this._filterPredicate(this._conversations[e]);)e--
return e>=0?this._conversations[e]:void 0}}},{key:"first",value:function(){if(0!==this._conversations.length){for(var e=0;e<this._conversations.length&&!this._filterPredicate(this._conversations[e]);)e++
return e<this._conversations.length?this._conversations[e]:void 0}}},{key:"find",value:function(e){return this._conversations.filter(this._filterPredicate).find(e)}},{key:"findMessage",value:function(e){var n
return null===(n=this._conversations.filter(this._filterPredicate).find((function(n){return void 0!==n.messages.getByIdentifier(e)})))||void 0===n?void 0:n.messages.getByIdentifier(e)}},{key:"filter",value:function(e){return this._conversations.filter(this._filterPredicate).filter(e)}},{key:"updateItem",value:function(n,t){return new e(S(n,t,this._conversations))}},{key:"updateItemByIdentifier",value:function(n,t){var r
if(!(r=$(n)?this._entityUrnIndex.get(n):this._clientIdIndex.get(n)))throw Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST")
return new e(this._conversations.map((function(e){return e.clientId===r.clientId?mn(e,t):e})),this._filterPredicate)}},{key:"addItem",value:function(n){var t=!1,r=this._conversations.map((function(e){return e.entityUrn===n.entityUrn?(t=!0,yn(e,n)):e}))
return new e(t?r:[].concat(g(this._conversations),[n]),this._filterPredicate)}},{key:"addItems",value:function(n){var t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=h(k((t=this._conversations,function(e){return void 0===t.find((n=e,function(e){return n.entityUrn===e.entityUrn}))
var n}))(n),2),o=a[0],s=a[1],c=r?o:o.map((function(e){return i(i({},e),{},{categories:[]})})),d=this._conversations.map((function(e){var n=s.find(en(e.entityUrn))
return n?yn(e,n):e}))
return new e([].concat(g(d),g(c)),this._filterPredicate)}},{key:"updateAny",value:function(n,t){return new e(S(n,t,this._conversations))}},{key:"deleteItems",value:function(n){return new e(this._conversations.filter(this._filterPredicate).filter((function(e){return!n(e)})),this._filterPredicate)}},{key:"map",value:function(e){return this._conversations.filter(this._filterPredicate).map(e)}},{key:"reduce",value:function(e,n){return this._conversations.filter(this._filterPredicate).reduce(e,n)}},{key:"splitCollection",value:function(n){var t=h(k(n)(this._conversations.filter(this._filterPredicate)),2),r=t[0],i=t[1]
return[new e(r),new e(i)]}},{key:"length",get:function(){return this._conversations.filter(this._filterPredicate).length}},{key:"toString",value:function(){return this.map((function(e){return e.toString()})).toString()}}],[{key:"fromConversationArray",value:function(){return new e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1?arguments[1]:void 0)}},{key:"fromConversationIterable",value:function(n){return new e(n._conversations,n._filterPredicate)}},{key:"merge",value:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sn
return new e([].concat(g(n),g(t)),r)}}]),e}(),kn=function(e,n){var t=void 0,r=void 0
return function(){for(var i=this,a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s]
t?r=e:(e.apply(this,o),r=void 0,t=setTimeout((function(){r&&(r.apply(i,o),r=void 0),t=void 0}),n))}}
const In=/^(\/[^?]+)\??(.*)$/
function Rn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:""
const n=In.exec(e)
if(n){const[,e="",t=""]=n
return{path:e,queryString:t}}return{path:"",queryString:""}}const xn=/[,()':]/g,wn=/[,()':]/
function On(e){const n=JSON.parse(JSON.stringify(e))
return function(e,n){if(Array.isArray(e)||"object"!=typeof e||null===e)throw new Error("You must pass an object to the paramEncode function. Use arrayParamEncode.")}(n),Object.keys(n).map((e=>`${Nn(e)}=${Mn(n[e],!1)}`)).join("&")}function Mn(e,n){return Array.isArray(e)?function(e,n){const t=new Array(e.length)
for(let r=0;r<e.length;r++)t[r]=Mn(e[r],n)
return`List(${t.join(",")})`}(e,n):function(e){return"object"==typeof e&&null!==e}(e)?function(e,n){return`(${Object.keys(e).map((t=>`${Nn(t,n)}:${Mn(e[t],n)}`)).join(",")})`}(e,n):Nn(e,n)}function Nn(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
return""===e?"''":n&&"string"==typeof e&&wn.test(e)?e.replace(xn,escape):n?e:encodeURIComponent(e).replace(xn,escape)}Object.freeze({S_100_CONTINUE:100,S_101_SWITCHING_PROTOCOLS:101,S_200_OK:200,S_201_CREATED:201,S_202_ACCEPTED:202,S_203_NON_AUTHORITATIVE_INFORMATION:203,S_204_NO_CONTENT:204,S_205_RESET_CONTENT:205,S_206_PARTIAL_CONTENT:206,S_207_MULTI_STATUS:207,S_300_MULTIPLE_CHOICES:300,S_301_MOVED_PERMANENTLY:301,S_302_FOUND:302,S_303_SEE_OTHER:303,S_304_NOT_MODIFIED:304,S_305_USE_PROXY:305,S_307_TEMPORARY_REDIRECT:307,S_400_BAD_REQUEST:400,S_401_UNAUTHORIZED:401,S_402_PAYMENT_REQUIRED:402,S_403_FORBIDDEN:403,S_404_NOT_FOUND:404,S_405_METHOD_NOT_ALLOWED:405,S_406_NOT_ACCEPTABLE:406,S_407_PROXY_AUTHENTICATION_REQUIRED:407,S_408_REQUEST_TIMEOUT:408,S_409_CONFLICT:409,S_410_GONE:410,S_411_LENGTH_REQUIRED:411,S_412_PRECONDITION_FAILED:412,S_413_REQUEST_ENTITY_TOO_LARGE:413,S_414_REQUEST_URI_TOO_LONG:414,S_415_UNSUPPORTED_MEDIA_TYPE:415,S_416_REQUESTED_RANGE_NOT_SATISFIABLE:416,S_417_EXPECTATION_FAILED:417,S_422_UNPROCESSABLE_ENTITY:422,S_423_LOCKED:423,S_424_FAILED_DEPENDENCY:424,S_428_PRECONDITION_REQUIRED:428,S_429_TOO_MANY_REQUESTS:429,S_500_INTERNAL_SERVER_ERROR:500,S_501_NOT_IMPLEMENTED:501,S_502_BAD_GATEWAY:502,S_503_SERVICE_UNAVAILABLE:503,S_504_GATEWAY_TIMEOUT:504,S_505_HTTP_VERSION_NOT_SUPPORTED:505})
const Pn="application/x-www-form-urlencoded",Dn="POST",Un=8e3
function Ln(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=("graphql"===e?jn:Bn)(n,t)
return Object.keys(r).length?(On(r),"".concat(i,"?").concat(On(r))):i}var Fn,jn=function(e,n){var t=Vn(e.path),r=Vn(e.host),i=e.graphQLPrefix?Vn(e.graphQLPrefix):""
return"".concat(r).concat(t).concat(i).concat(n)},Bn=function(e,n){var t=Vn(e.path),r=Vn(e.host),i=qn(e.restliPrefix,n)
return"".concat(r).concat(t).concat(i)},qn=function(e,n){return e?"".concat(e).concat(n.substring(0,1).toUpperCase()).concat(n.substring(1)):n},Vn=function(e){var n=e.endsWith("/")?"":"/"
return"".concat(e).concat(n)},$n=function(e){return e.map((function(e){return function(e){return encodeURIComponent(e).replace(/\(/g,"%28").replace(/\)/g,"%29")}(e)})).join(",")},Kn=0,Hn=function(){return Kn+=1},Gn={accept:"application/graphql","x-restli-protocol-version":"2.0.0"},Wn=function(e){Gn=i(i({},Gn),e())},Yn=function(e){var n=Hn(),t=function(e,n){var t={url:n,request:{}},r=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
return function(e){const{path:n,queryString:t}=Rn(e)
if(n.length>Un)throw new Error(`Per AFD limitations, this request url ${e} will not work. Please contact ask_traffic@.`)
return e.length>Un||t.length>4e3}(e)?function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
const t=Object.assign({},n)
t.url=e,t.forceQueryTunnel=!0
const r=function(e){if(!0===e.forceQueryTunnel){const{path:n,queryString:t}=Rn(e.url||void 0)
if(t){const r={}
for(const n in e.headers)"CONTENT-TYPE"!==n.toUpperCase()&&(r[n]=e.headers[n])
let i,a
if(r["X-HTTP-Method-Override"]=e.method,e.body){const n=`RESTLI_${Date.now()}`
a="multipart/mixed; boundary="+n,i=["--"+n,"Content-Type: "+Pn,"",t,"--"+n,"Content-Type: application/json","",e.body,"--"+n+"--"].join("\r\n")}else a=Pn,i=t
return r["Content-Type"]=a,{body:i,headers:r,method:Dn,url:n}}}const n={method:e.method,url:e.url}
return e.body&&(n.body=e.body),n}(t)
return n.method=r.method,n.headers=r.headers,n.body=r.body,n.data=r.body,{url:r.url||void 0,request:n}}(e,n):{url:e,request:n}}("/".concat(n),{method:"GET"})
if(n&&r.url)return t.url=r.url.substring(1),t.request=r.request,{url:t.url,request:t.request}
throw Xe.fromClientErrorMemo("INVALID_URL")}(0,e),r=t.url,a=t.request
return Fn&&Wn(Fn),fetch(r,{body:a.body,headers:i(i(i({},a.headers),Gn),{},{accept:"application/graphql","x-restli-protocol-version":"2.0.0"}),method:a.method||"GET"}).then((function(e){return{response:e,requestId:n}}))},zn=function(e,n){var t=Hn()
return Fn&&Wn(Fn),fetch(e,{headers:i(i({},Gn),{},{accept:"application/json"}),body:n,method:"POST"}).then((function(e){return{response:e,requestId:t}}))},Xn=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ln("restli",e.messengerResource,n,t),a=Hn()
return fetch(r,{headers:i({"x-restli-protocol-version":"2.0.0"},Gn),method:"DELETE"}).then((function(e){return{response:e,requestId:a}}))},Qn=new Map
function Jn(e){var n=Object.freeze({$debug:i({kind:e.kind},"query"===e.kind?{queryId:e.id,querySource:e.source}:{})})
return Qn.set(n,e),n}var Zn=new Map,et=function(e){if(!e.name||"query"!==e.kind)return e
var n=nt(e.name)
return n?i(i({},e),{},{id:n}):e},nt=function(e){return Zn.get(e)},tt=Jn({kind:"query",id:"messengerConversations.14df23fcfbc2bacf529fc58e63a4ab5e",typeName:"com.linkedin.a48779e96d56416b455684d54ca0a605",name:"find-conversations-by-category",source:'query findConversationsByCategory($category: String!, $count: Int, $lastUpdatedBefore: Long, $mailboxUrn: String!, $nextCursor: String) @recipeType(name: "com.linkedin.a48779e96d56416b455684d54ca0a605") {\n  messengerConversationsByCategory(category: $category, count: $count, lastUpdatedBefore: $lastUpdatedBefore, mailboxUrn: $mailboxUrn, nextCursor: $nextCursor) @recipeType(name: "com.linkedin.a73b8d5735721f1ec465168cdaa142b9") {\n    elements @recipeType(name: "com.linkedin.e1658c761fec94488fdd088b9fdb9a69") {\n      ...Conversation\n      messages(count: 1, sortOrder: DESCENDING) @required @recipeType(name: "com.linkedin.438d87be109cbb09469835a99d6b6f2f") {\n        elements @allOrNothing @recipeType(name: "com.linkedin.c68c6da406b1fe9e72b3696e90742b5f") {\n          ...MessagePartialParticipant\n          _recipeType\n          _type\n        }\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n    metadata @recipeType(name: "com.linkedin.5476b6f6131b92f9257f7c830d64c187") {\n      nextCursor\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.a6a436fa6f17407bd8c8147f46fcff28") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.ac430a4df660e223b7f4f7c373a4ccf0") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.97f0379fa4ba5468e14cbd5c68053810") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.3b08767bb20a5c78102fa8a9fe50fdd1") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.451ff444eb8982d2fbbfe5b156046452") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.e54582439de47f7669a170ea5a53d2e1") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.a82ff00edd015184a01711bba9d208bc") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.096e9846aa6fdd7640e1d48cbf951703") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.b288716f8064dfd0ee726fe59dbac2cf") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.1803df07940f4da07e985ad47a485455") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.cd14dd378cce5c41ae247b3718808a8d") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.61c5d9bc9b7540235f8f9f68f7695fe0") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.32cdb2401630b4ea1db1049f0dce279f") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.5b729f0d82ced97a1897195b00832a9f") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.70998a19dcae8fa5e43630a55ef0d4e6") {\n      firstName @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.b5b44a2405d5ad0bf6c7bac0a15264d6") {\n      name @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.0d08b58967a4c3b72b7d82f27c087076") {\n      name @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.8eb25da4c068096c9747394f0b9c6284") {\n    ...CreativeAdsReportingInfo\n    _recipeType\n    _type\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.3651c975dd1476734086735ba5da8a22") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  state\n  groupChat\n  creator @recipeType(name: "com.linkedin.58c76c96823fed925ab4d67f45c41515") {\n    ...Participant\n    _recipeType\n    _type\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.988fdd52ee12553570a449e3687e2c00") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.c250ee3ee7ca72ac5d57f4772687ee8e") {\n      ...ConversationAdsContent\n      _recipeType\n      _type\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.58c76c96823fed925ab4d67f45c41515") {\n    ...Participant\n    _recipeType\n    _type\n  }\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  inlineWarning @recipeType(name: "com.linkedin.d9b5547d27737812851fe3d107da5441") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.95c4ea34721e0046181b339f52ff27d6") {\n    ...ReactionSummary\n    _recipeType\n    _type\n  }\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.e1658c761fec94488fdd088b9fdb9a69") {\n    entityUrn\n    _recipeType\n    _type\n  }\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  text @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.578efc3dc45f6204ef3609e978da6634") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.578efc3dc45f6204ef3609e978da6634") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.8eb25da4c068096c9747394f0b9c6284") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.3651c975dd1476734086735ba5da8a22") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.79d9e8e17548ee6b78cc6d0478534d47") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.e55b3cc50623802541bbf563e2d8c443") {\n      adUnit @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.d98709a73534a771dc64d8d7199330e2") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.7f1121931194e998bc1b4ea0891ad2ae") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.899d1fe17e53465a1e2e1a7f068c1a3d") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.7f1121931194e998bc1b4ea0891ad2ae") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.d98a5df6b459eabc86916de3efe99dbf") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.b711d5a6aa4c17e305bce381e7ad2a5b") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.3072aa9dcc423d530b618db09e53699d") {\n      country\n      extensions @recipeType(name: "com.linkedin.3dc125cbeda1099d08ef46eac53186c3") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.c439cde8ef7577d0a58e7b24066b7d7c") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.26cea42d83a8b4074bf987dfa8ce4bc5") {\n    end\n    start\n    _recipeType\n    _type\n  }\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.dc82aa5700dc2891aecbc7085b5228c9") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.9a890742b7fd44d278739c890bf26e89") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.143e2938d676cb3276a8844859ad8e08") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.1c0d4217e953cefc22684bde72a8cb7f") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment MessagePartialParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.58c76c96823fed925ab4d67f45c41515") {\n    entityUrn\n    hostIdentityUrn\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.819f17cb2f8e20624cbc4c482c64a921") {\n      ...AudioMetadata\n      _recipeType\n      _type\n    }\n    awayMessage @recipeType(name: "com.linkedin.a9b778a895a630807e8656edb8c2fb10") {\n      ...AwayMessage\n      _recipeType\n      _type\n    }\n    externalMedia @recipeType(name: "com.linkedin.96ea1277e90b082f2dce2f65fb92ffba") {\n      ...ExternalMedia\n      _recipeType\n      _type\n    }\n    file @recipeType(name: "com.linkedin.50f39033128726441a0f42ef8d648cf0") {\n      ...FileAttachment\n      _recipeType\n      _type\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.587e08a3254a75acc7be84a6e830cd2b") {\n      ...MessageAdRenderContent\n      _recipeType\n      _type\n    }\n    vectorImage @recipeType(name: "com.linkedin.44ed3bb9ce20ace95c362517868c950d") {\n      ...VectorImage\n      _recipeType\n      _type\n    }\n    video @recipeType(name: "com.linkedin.33c8051984340fcd44e052471e633f01") {\n      ...VideoPlayMetadata\n      _recipeType\n      _type\n    }\n    videoMeeting @recipeType(name: "com.linkedin.3ecd326f413c05157f0a38fbeb56d49e") {\n      ...VideoMeeting\n      _recipeType\n      _type\n    }\n    hostUrnData @recipeType(name: "com.linkedin.3b13ed81acf43af83b1817fe6d68aaf9") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.548b5ed0017e3048ef0c60dc48baa9ef") {\n      ...ConversationAdsMessageContent\n      _recipeType\n      _type\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.510056f05feb00a00754f3b54aa85c95") {\n      originalSender @recipeType(name: "com.linkedin.58c76c96823fed925ab4d67f45c41515") {\n        ...Participant\n        _recipeType\n        _type\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      footerText @recipeType(name: "com.linkedin.172be6e8cdafe3fc0ee986fb972a7109") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n',variablesTypes:{category:{type:"String",isRequired:!0,kind:"Scalar"},count:{type:"Int",isRequired:!1,kind:"Scalar"},lastUpdatedBefore:{type:"Long",isRequired:!1,kind:"Scalar"},mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"},nextCursor:{type:"String",isRequired:!1,kind:"Scalar"}}}),rt=Jn({kind:"query",id:"messengerConversations.3427a145711e971cd516321643246655",typeName:"com.linkedin.637753efb2e5d51c7275035cac9b4c5f",name:"find-conversations-by-recipients",source:'query findConversationsByRecipients($mailboxUrn: String!, $recipients: [String!]!) @recipeType(name: "com.linkedin.637753efb2e5d51c7275035cac9b4c5f") {\n  messengerConversationsByRecipients(mailboxUrn: $mailboxUrn, recipients: $recipients) @recipeType(name: "com.linkedin.033878da33550a1f330eeaf7883b4321") {\n    elements @recipeType(name: "com.linkedin.128c009a69cdd7bfb2f134cbbbf9a397") {\n      ...Conversation\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.09228bb8171dd68774500c2d789b2542") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.15a83ff1c890b31b7a7fe3fc611b5f9a") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.46edbc17c83db73c1c168d5609d6fbb0") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.4ae7587cf42013da5e540c5d2de5624e") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.2566589f404a86abf02bda63a6500393") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.27e8caede551ddc11ea0bd2c48f3c5e1") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.21ee657d4ac32c1c1e5bf777b131830f") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.2899f08083867b774e4b7dd3be10abc1") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.cec8212252a33cad2a25dd92772f6098") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.4698b01fbc53cf61a11e56134775ca3f") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.810a970e1d444ed8fa907f901db408a7") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.dd46d970fdfe85b48a86cb201f6b59cf") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.43630e8f64f9af0ec9d63605915b0ae2") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.4b385e971ec0515ee23f2fc1e93f80dc") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.c95fcb34903375c2bf082dc19e08afe9") {\n      firstName @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.12fbed95295806f914db1a049012110f") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.3587bb32347eaf7d2483e00bc0846d9c") {\n      name @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.12fbed95295806f914db1a049012110f") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.35a65043a89d9556f36e9efbffee7c1e") {\n      name @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.12fbed95295806f914db1a049012110f") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.12fbed95295806f914db1a049012110f") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.f95e439de1f94fa96a08b86fb8c7c66a") {\n    ...CreativeAdsReportingInfo\n    _recipeType\n    _type\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.3d99942c97deb43cf5874499c62d5a76") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  state\n  groupChat\n  creator @recipeType(name: "com.linkedin.0d9eace028f0468a2d108c3ac54bd009") {\n    ...Participant\n    _recipeType\n    _type\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.f4eb28d3f7844665dacc4e816eec852c") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.170635a4a6c03944472b6a91bb39e1ff") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.6af9bce1de695d637397a582319c5307") {\n      ...ConversationAdsContent\n      _recipeType\n      _type\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.0d9eace028f0468a2d108c3ac54bd009") {\n    ...Participant\n    _recipeType\n    _type\n  }\n}\n',variablesTypes:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"},recipients:{type:"Array",isRequired:!0,innerType:{type:"String",isRequired:!0,kind:"Scalar"},kind:"Array"}}}),it=Jn({kind:"query",id:"messengerConversations.24e00643d24875792ed75c46dd1e9387",typeName:"com.linkedin.c3d42ec0291728dbe7f3aced6f0826e5",name:"find-conversations-by-search-criteria",source:'query FindConversationsBySearchCriteria($categories: [String!] = [], $count: Int = 10, $firstDegreeConnections: Boolean = false, $keywords: String, $mailboxUrn: String!, $nextCursor: String, $read: Boolean) @recipeType(name: "com.linkedin.c3d42ec0291728dbe7f3aced6f0826e5") {\n  messengerConversationsBySearchCriteria(categories: $categories, count: $count, firstDegreeConnections: $firstDegreeConnections, keywords: $keywords, mailboxUrn: $mailboxUrn, nextCursor: $nextCursor, read: $read) @recipeType(name: "com.linkedin.cc7c78e409f93d88a171f825fe0d8629") {\n    elements @recipeType(name: "com.linkedin.aed049a49fceb4311a08d530a54727f7") {\n      ...Conversation\n      messages(count: 1, sortOrder: DESCENDING) @required @recipeType(name: "com.linkedin.243a0da9c776132286f7d390f6cd67dc") {\n        elements @allOrNothing @recipeType(name: "com.linkedin.4cf8e0578b3ab8a8bdd8d9b3cdeacee0") {\n          ...MessagePartialParticipant\n          _recipeType\n          _type\n        }\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n    metadata @recipeType(name: "com.linkedin.d417d4710ab69db0cead999706012b23") {\n      ...ConversationCursorMetadata\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.b58763f17b3066a28387e37a39070c38") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.08f13fbb111fdeb2de77234c8cc37927") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.862090c7fd1ecbc9353fc1bda6dafe92") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.d98ea502796de9a46275f270c8da7f92") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.6c8b66070f8773c96509d828d6a05b3d") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.16ff88323bde36839fd76346af9bb305") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.e1faf92a024971783219dffe58936c03") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.d11382dc4567d2ebbfc16f9dda45511a") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.5d6c23f69f74b7ed5b72bdf8a42c0a58") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.917e2697debe114e1f6635c8d7d6a2fb") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.2cc1a5484d8589a0fdba7567eb060176") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.9f815bc6015528a062b691e80cb58f95") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.e8c76e7c50b11b0640d6aae1556dc643") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.7355651748f3690a24ab45ef61385b0f") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.6ec40d2da20c6b9d8f73c6648057b47f") {\n      firstName @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.7eb2879d374ff89be8b91f2f4c181bd7") {\n      name @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.6356b6f0ad0155ca2bfaa5cb91a815ba") {\n      name @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.de423c0e668a2e3937ba0767defe646f") {\n    ...CreativeAdsReportingInfo\n    _recipeType\n    _type\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.151f71de764f34ef43820f56d5d914c2") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  state\n  groupChat\n  creator @recipeType(name: "com.linkedin.b576b99ebabe7b19d6a7c65dba01db86") {\n    ...Participant\n    _recipeType\n    _type\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.02bd52c0e1880e99ba50011654b56308") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.c949d9daf5e17ad5c66d1fdbabd4b52c") {\n      ...ConversationAdsContent\n      _recipeType\n      _type\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.b576b99ebabe7b19d6a7c65dba01db86") {\n    ...Participant\n    _recipeType\n    _type\n  }\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  inlineWarning @recipeType(name: "com.linkedin.fdf2f6e4651fa98389fd0c9940ee943c") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.d5645f344392d647ea5a068fbe7e9a8c") {\n    ...ReactionSummary\n    _recipeType\n    _type\n  }\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.aed049a49fceb4311a08d530a54727f7") {\n    entityUrn\n    _recipeType\n    _type\n  }\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  text @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.5fcffd1a9bc36206175265e0c15e6608") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.5fcffd1a9bc36206175265e0c15e6608") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.de423c0e668a2e3937ba0767defe646f") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.151f71de764f34ef43820f56d5d914c2") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.c76480b983b274e78981740fe67f2d61") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.8b2f75e37b9adaf3c2c529083186e490") {\n      adUnit @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.fcaf3274a0ceed650fe8b3d032a594c2") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.c0ec60b6b839e03ef93f96dd5e6e3038") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.7a5111f59bd313e7ec3f07ec7cfe8b72") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.c0ec60b6b839e03ef93f96dd5e6e3038") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.7b79ea430f20fe0031d3a55c1f6fcfd3") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.fc3d6e611bc00fff78fc0a87cbee0d6e") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.14d0bacca404231a31fa6599bf59ecf8") {\n      country\n      extensions @recipeType(name: "com.linkedin.4133b57aa880beea36b47cd8248b1274") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.19b6719cdc80996d2bd13d3c90717d3e") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.e441dc571e210362b62dc5158ea85540") {\n    end\n    start\n    _recipeType\n    _type\n  }\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.7598f75c888707bf85007beadaa3c717") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.0ab0b312b8ed94f551dcbd5d8fb0f4ac") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.7d5c0ada85235084e6d54a96a7adf2e8") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.2e92f14674f98dd400e059afc5b71c89") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment MessagePartialParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.b576b99ebabe7b19d6a7c65dba01db86") {\n    entityUrn\n    hostIdentityUrn\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.1b6fbcf645e16c5c4bfead9c35f020f6") {\n      ...AudioMetadata\n      _recipeType\n      _type\n    }\n    awayMessage @recipeType(name: "com.linkedin.0355c17b95f4491a9d25b187afeacb00") {\n      ...AwayMessage\n      _recipeType\n      _type\n    }\n    externalMedia @recipeType(name: "com.linkedin.0bff71d4415b526879d04cf6f7582cce") {\n      ...ExternalMedia\n      _recipeType\n      _type\n    }\n    file @recipeType(name: "com.linkedin.b1e3a6cae32bb821942c4420f6694aec") {\n      ...FileAttachment\n      _recipeType\n      _type\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.1b2e71e5057a05272f25767bb394d51c") {\n      ...MessageAdRenderContent\n      _recipeType\n      _type\n    }\n    vectorImage @recipeType(name: "com.linkedin.e3d271c5c175a42a23a8e62222c2a872") {\n      ...VectorImage\n      _recipeType\n      _type\n    }\n    video @recipeType(name: "com.linkedin.03ffb0b0d60241bf1c6b321b355e957c") {\n      ...VideoPlayMetadata\n      _recipeType\n      _type\n    }\n    videoMeeting @recipeType(name: "com.linkedin.326307ca4cc134468e08972ed67f0fbe") {\n      ...VideoMeeting\n      _recipeType\n      _type\n    }\n    hostUrnData @recipeType(name: "com.linkedin.e984e34f93945ed185e28a7ca8c6f89a") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.cd88c1dbed4b27fce064f42a0dc68b83") {\n      ...ConversationAdsMessageContent\n      _recipeType\n      _type\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.d241d4c2afd64b8349aecb99d247045a") {\n      originalSender @recipeType(name: "com.linkedin.b576b99ebabe7b19d6a7c65dba01db86") {\n        ...Participant\n        _recipeType\n        _type\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      footerText @recipeType(name: "com.linkedin.099b0d128706e11931b6cbc393b16563") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment ConversationCursorMetadata on messenger_ConversationCursorMetadata {\n  nextCursor\n  rawSearchId\n  trackingIds @recipeType(name: "com.linkedin.60b3f53535cc832f751f7b6c4900542f") {\n    hitEntityUrn\n    trackingId\n    _recipeType\n    _type\n  }\n}\n',variablesTypes:{categories:{type:"Array",isRequired:!1,innerType:{type:"String",isRequired:!0,kind:"Scalar"},kind:"Array"},count:{type:"Int",isRequired:!1,kind:"Scalar"},firstDegreeConnections:{type:"Boolean",isRequired:!1,kind:"Scalar"},keywords:{type:"String",isRequired:!1,kind:"Scalar"},mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"},nextCursor:{type:"String",isRequired:!1,kind:"Scalar"},read:{type:"Boolean",isRequired:!1,kind:"Scalar"}}}),at=Jn({kind:"query",id:"messengerConversations.36e1c21cc533fde67567b59f9c97b521",typeName:"com.linkedin.47459727fe9dc4c6dd28af91d35c3bea",name:"get-conversation-by-id",source:'query messengerConversationsById($messengerConversationsId: String!, $count: Int!) @recipeType(name: "com.linkedin.47459727fe9dc4c6dd28af91d35c3bea") {\n  messengerConversationsById(messengerConversationsId: $messengerConversationsId) @recipeType(name: "com.linkedin.e24fb0136dc26353ab4f648e1902823f") {\n    ...Conversation\n    messages(count: $count, sortOrder: DESCENDING) @required @recipeType(name: "com.linkedin.21260d920db9d4ce4a3fb5b914ff484b") {\n      elements @allOrNothing @recipeType(name: "com.linkedin.c651c0905361fb348dda3baddd8def78") {\n        ...MessagePartialParticipant\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.cb0399b0cfb57151df335eba0c7a9beb") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.dcd6f20b165238cfac4ba2ff9bae619a") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.f39203ab15462f00cb5b7476b37bce3a") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.6a73b1fb7660a0f309f384f33d44d7d8") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.e9c1bd26ff54b4d1a9fc4c08cfcc8b62") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.c91f35ab4ac93fde74b875304a95183b") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.18d7a7f8bed44dd5e35ea80c2e979c4d") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.01699396fde3b5ddee6eee2c8e9c0a4c") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.14e9c56c121c5b8c0b50cce82e6fc7c5") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.615d3d1dfeac70c1d562defb1ef76239") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.5b496a0b1d1de8f86e61bc62819de9e4") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.1685f9c69f38dd22af99782629656269") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.11f0fe2ec9d279724079e6290abb0174") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.ddee62b7ab28b4e997ae9a296bddad48") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.fb6d591552493d3745fa77c0b9b04298") {\n      firstName @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.2ccf3198425dfd5af50085e114a4a1d2") {\n      name @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.3796598c7caa08b8b5f4c1dbbbd15c0c") {\n      name @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.33513a00530f05e5410877de1ab3e8e1") {\n    ...CreativeAdsReportingInfo\n    _recipeType\n    _type\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.6307aa03e4da766e9192cfd7ce8353fa") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  state\n  groupChat\n  creator @recipeType(name: "com.linkedin.aab5818f3c6ab5e70b2bc52d67fe946e") {\n    ...Participant\n    _recipeType\n    _type\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.06d67602d00d78e95969ac52753eeb72") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.3c80f646550a626bf7eaecc033b459a8") {\n      ...ConversationAdsContent\n      _recipeType\n      _type\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.aab5818f3c6ab5e70b2bc52d67fe946e") {\n    ...Participant\n    _recipeType\n    _type\n  }\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  inlineWarning @recipeType(name: "com.linkedin.b9d617623216b909de7e48157cc90c6b") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.c4cc5a6074539401c466484e0d446ed6") {\n    ...ReactionSummary\n    _recipeType\n    _type\n  }\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.e24fb0136dc26353ab4f648e1902823f") {\n    entityUrn\n    _recipeType\n    _type\n  }\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  text @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.ac94868c85ec6dc5d93e9507f4e015c8") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.ac94868c85ec6dc5d93e9507f4e015c8") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.33513a00530f05e5410877de1ab3e8e1") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.6307aa03e4da766e9192cfd7ce8353fa") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.776464b9f5b21efa54a107762c20be41") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.50b2b86a1a9368d9dbd3cec835b33a2e") {\n      adUnit @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.2a922294194be0d4a083a08a7c0b13a7") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.2fb6e9538cf9a75f82ef540708047b66") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.eec8d2f072683bf2e6cac979f0f21027") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.2fb6e9538cf9a75f82ef540708047b66") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.76ee4351004ccd6294ed2c4ae88812ca") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.43cd992edd4c0486fcb43b5e8a601a03") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.d18fd8751eebb115ebdcaa1ce26b98b7") {\n      country\n      extensions @recipeType(name: "com.linkedin.450eb5bee544df534926f3d5cb165c44") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.2f7a949633d9dd0d22b7d4cac4f6eff9") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.264a252634ac15bafcee8ff3cc12d649") {\n    end\n    start\n    _recipeType\n    _type\n  }\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.b9fb5ddb75fc93b0bfcd2e4b06a8eaf2") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.46dac2303162d415e48fa8016b034026") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.9c84646dea76aeadd3cb2a8ea3faf201") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.de9244bde84290263084b5073c529674") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment MessagePartialParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.aab5818f3c6ab5e70b2bc52d67fe946e") {\n    entityUrn\n    hostIdentityUrn\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.c3faf46044ea3486f348246e8d30035a") {\n      ...AudioMetadata\n      _recipeType\n      _type\n    }\n    awayMessage @recipeType(name: "com.linkedin.81272291d2752fda333844ba4e0bbf8a") {\n      ...AwayMessage\n      _recipeType\n      _type\n    }\n    externalMedia @recipeType(name: "com.linkedin.2d681fcdb4624c3db9eadad5d63934a0") {\n      ...ExternalMedia\n      _recipeType\n      _type\n    }\n    file @recipeType(name: "com.linkedin.b5517e23ad7b47cb72c0cf380906ade4") {\n      ...FileAttachment\n      _recipeType\n      _type\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.b2033e3b5e90ee3b391cf9536b93d3c6") {\n      ...MessageAdRenderContent\n      _recipeType\n      _type\n    }\n    vectorImage @recipeType(name: "com.linkedin.c3916397cddd7d4516a85e51540553e4") {\n      ...VectorImage\n      _recipeType\n      _type\n    }\n    video @recipeType(name: "com.linkedin.f6bd5263639264e7fd5b051ba08541fd") {\n      ...VideoPlayMetadata\n      _recipeType\n      _type\n    }\n    videoMeeting @recipeType(name: "com.linkedin.533776559fb08d619af234005b26b343") {\n      ...VideoMeeting\n      _recipeType\n      _type\n    }\n    hostUrnData @recipeType(name: "com.linkedin.1e9dc094fa5ab32d30eda58e41329430") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.7fef48f52b9439ce2f94bcc7d9c89538") {\n      ...ConversationAdsMessageContent\n      _recipeType\n      _type\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.2f094c70bdff85cf0c86412f359a710a") {\n      originalSender @recipeType(name: "com.linkedin.aab5818f3c6ab5e70b2bc52d67fe946e") {\n        ...Participant\n        _recipeType\n        _type\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      footerText @recipeType(name: "com.linkedin.a60cd29c3c46198469c59cdd3e986906") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n',variablesTypes:{messengerConversationsId:{type:"String",isRequired:!0,kind:"Scalar"},count:{type:"Int",isRequired:!0,kind:"Scalar"}}}),ot=Jn({kind:"query",id:"messengerMessages.96bd5050f84a4fe691c36bb4dcd0650b",typeName:"com.linkedin.5ead02a2479291ebdce3f63ac66fbe93",name:"get-messages-by-conversation",source:'query messengerMessagesByConversation($conversationUrn: String!, $count: Int!, $nextCursor: String, $prevCursor: String) @recipeType(name: "com.linkedin.5ead02a2479291ebdce3f63ac66fbe93") {\n  messengerMessagesByConversation(conversationUrn: $conversationUrn, count: $count, nextCursor: $nextCursor, prevCursor: $prevCursor) @recipeType(name: "com.linkedin.fae8765faf662cca102ede587d8e456d") {\n    elements @recipeType(name: "com.linkedin.a43c319dce4af407d65375b77123709c") {\n      ...MessageFullParticipant\n      _recipeType\n      _type\n    }\n    metadata @recipeType(name: "com.linkedin.718bc5c98107bb05a6b017a76589a62b") {\n      nextCursor\n      prevCursor\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.92da8d6b385317069652fac33b0347b4") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.ffcdef84f5a777ed88fb4b45658a9e14") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.5b03af2277489fb7027a1150fd9575ff") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.303b9eb6e59a5450e0577d461cb48f40") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.575d0c1dd58a5ba293bab78a6a3ddbb1") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.230175b918f13003da6b4a753ce5a368") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.6db106eda0592bf5546c0e479e9f1654") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.d6e832aceb42049c6562501bc02e7be4") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.3986eb36516ea239d872dcfe4ad9ea0b") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.f91bd457d68eb9514d5c05b79c16a5a9") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.35023eb3e2f6f5f605cbd00edf448fcc") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.50c7f5d75aa51467c8da0e1a008a9624") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  inlineWarning @recipeType(name: "com.linkedin.d4a62fceb0bfd38cde178e7adbff9d10") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.1f1ebfba843743df30587498837a386f") {\n    ...ReactionSummary\n    _recipeType\n    _type\n  }\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.70b7922a3ce488ad14b508eb6aa52c2a") {\n    entityUrn\n    _recipeType\n    _type\n  }\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.34c00ff1eb711be7d1cff3638d7a8a1b") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.dba12761bc6277862e052485d4d26c4a") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.5203d1a2bcc81b8a7119a52e40b9f6e9") {\n      firstName @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.5f7040cfe52ee5a28e98a43fe8d34142") {\n      name @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.e37d7fc189f22baa912a8939be2e3f6a") {\n      name @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  text @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.6f4a28f99bc2508097b38f69f639e5f1") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.6f4a28f99bc2508097b38f69f639e5f1") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.e3b1d59ecc45f4592691c275d8e57eb2") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.49d0b65974a4e8d9a78e80c3964e478b") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.13eda39e4476fc2ff349f6d99207c536") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.22a92192c99c325348cd20f44405a46f") {\n      adUnit @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.3a13e0e679d90c09669de8d182c25e42") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.456e02a149d79bd7a6b9ddaa10c87685") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.5e0a5f02346ad067f242429d64c3965f") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.456e02a149d79bd7a6b9ddaa10c87685") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.33b07249a4668d2be9c5bc5f3aa1b1dd") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.a9d5ed7dc3be35ed1f1849acb00a00c2") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.b0f1a50a37f641bc5e84959cd542588d") {\n      country\n      extensions @recipeType(name: "com.linkedin.614f84808734f4a3019637f511bfdaf1") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.4356ab368a2fc500442ef43619913ad5") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.95f7dff8470f1c4d01c93606259d3a3e") {\n    end\n    start\n    _recipeType\n    _type\n  }\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.48411f74c5d9fcc7309459278674a7c4") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.06be6a4a9fb1d03a5bb534cdfc0fb023") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.075269c5962458383d2fd90c6386bfa2") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.88b0b93577342865bd6ed68e405c5dbf") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.c864ba3445a21261e2b3df0b57b1fe18") {\n    ...Participant\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.570c8456a814d58227df110f692ca235") {\n      ...AudioMetadata\n      _recipeType\n      _type\n    }\n    awayMessage @recipeType(name: "com.linkedin.74e737536ff745b60c7e7712ebf7653a") {\n      ...AwayMessage\n      _recipeType\n      _type\n    }\n    externalMedia @recipeType(name: "com.linkedin.bf59c1e69c9fbc8bb621bd0360e3b108") {\n      ...ExternalMedia\n      _recipeType\n      _type\n    }\n    file @recipeType(name: "com.linkedin.e5b22526f909056ce375d43240cb1c4a") {\n      ...FileAttachment\n      _recipeType\n      _type\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.6208ae69c8a9065c05d29a7da7a66247") {\n      ...MessageAdRenderContent\n      _recipeType\n      _type\n    }\n    vectorImage @recipeType(name: "com.linkedin.d230f4e5e9335e807da3d29675796d63") {\n      ...VectorImage\n      _recipeType\n      _type\n    }\n    video @recipeType(name: "com.linkedin.aa1bb399179f7f666b5918724dcfeab6") {\n      ...VideoPlayMetadata\n      _recipeType\n      _type\n    }\n    videoMeeting @recipeType(name: "com.linkedin.26eb3e25741fe5a252a7a40fb679a26b") {\n      ...VideoMeeting\n      _recipeType\n      _type\n    }\n    hostUrnData @recipeType(name: "com.linkedin.d6f9d3d15b9ce005d3332a70d65e87a4") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.f2b815c7a52091b01033e7da4c710f6d") {\n      ...ConversationAdsMessageContent\n      _recipeType\n      _type\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.d3eef7c9b92c2d6c582e06ddd4b101ab") {\n      originalSender @recipeType(name: "com.linkedin.c864ba3445a21261e2b3df0b57b1fe18") {\n        ...Participant\n        _recipeType\n        _type\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      footerText @recipeType(name: "com.linkedin.7d9827a3bb2e1622a4438e965842a824") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n',variablesTypes:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"},count:{type:"Int",isRequired:!0,kind:"Scalar"},nextCursor:{type:"String",isRequired:!1,kind:"Scalar"},prevCursor:{type:"String",isRequired:!1,kind:"Scalar"}}}),st=Jn({kind:"query",id:"messengerMessages.060b8b4d7dee63b8227028ebd88572a7",typeName:"com.linkedin.f06a0d9d67201ccfd952b77289ff240e",name:"get-messages-by-timestamp",source:'query messengerMessagesByAnchorTimestamp($conversationUrn: String!, $deliveredAt: Long!, $countBefore: Int!, $countAfter: Int!) @recipeType(name: "com.linkedin.f06a0d9d67201ccfd952b77289ff240e") {\n  messengerMessagesByAnchorTimestamp(conversationUrn: $conversationUrn, deliveredAt: $deliveredAt, countAfter: $countAfter, countBefore: $countBefore) @recipeType(name: "com.linkedin.f904502daab23faa50d8f386e7995b56") {\n    elements @recipeType(name: "com.linkedin.231285ee6af57dbbe6266161b7c6a150") {\n      ...MessageFullParticipant\n      _recipeType\n      _type\n    }\n    metadata @recipeType(name: "com.linkedin.a2e0a7f4f881a95411a11b1746169343") {\n      nextCursor\n      prevCursor\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.be0e5acdecfe12dada0041f3d644cfa4") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.e545ef8a692fdb8327d2709264ebfd4c") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.cc4b819dfb194cebcca16bf20054c11f") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.ba4b30a74c5b7b374eff33e2ca40edbc") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.bb8b9f6bc8796ae251eca1334b3f092a") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.25d10cc18d63b33341d582fe22a4f5c9") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.d95b97c1b252a9dced9f0bd928cbb47c") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.9c282b4fb14f174ee0396ed27d7bc71d") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.61a744d51d12ffd69112108194fc687f") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.46db4b237275c1e711a115c0dcd987e5") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.4648a3db4eb9ec4da772a185f25f8175") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.5752fc5f1b14322b0051b8f0d8b0085d") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  inlineWarning @recipeType(name: "com.linkedin.df2207b7cb43b31871f4f29c25a7bbc7") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.d1285d9066b9c85c30f04b3704b6d0fa") {\n    ...ReactionSummary\n    _recipeType\n    _type\n  }\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.f361d0d7a48d349833f078e3e38d18b6") {\n    entityUrn\n    _recipeType\n    _type\n  }\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.ea116566e3091e00c76f1ca2aa202d09") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.877f5193c30eeb2edcc55a86e3ab3b92") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.108a437e3ab0dd42a62fc3d18a5b049a") {\n      firstName @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.07953e7472a7ac99ea930ee110846b07") {\n      name @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.36e35a3dd73fdcc7da4179fa0753362f") {\n      name @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  text @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.ac42a972ef433129aa59887db3ca001f") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.ac42a972ef433129aa59887db3ca001f") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.d5730cbdb9cc811036bf0600594dc0af") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.6e0874affec37686fc1ffe18acb84427") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.69f9292c0fe9f61cb473ab22f2993252") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.fe87cc8ab204f9214b9a188fe3e198fe") {\n      adUnit @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.fb5ab118dcb596bde9317540efa3e622") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.3837d7d46962c583a8a33e3356713ac7") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.ddbefd99ac6092b48411efd2914527aa") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.3837d7d46962c583a8a33e3356713ac7") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.26f2d3c87b875eec7ec44ded1e473e67") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.fc0da931c5a176942fd54e907f1582ae") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.9ec094e3def07911b4380a62c6d5abd5") {\n      country\n      extensions @recipeType(name: "com.linkedin.ca1e5e5c555d14ddcc7f52ba3f181dea") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.c7a42a56695951aafaa6d0705af4fcfb") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.5bb6c184f84002e76d9322702d47ae51") {\n    end\n    start\n    _recipeType\n    _type\n  }\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.157ed49fda9e090b1ea1e629897a7005") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.9ef5cae49bcbd97d39774fc27a998d63") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.4757bf27c029dc4b9e9b890dae934909") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.c2d4c83a959dcb4b759f9037b54a0388") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.587bcc596204b389c9305679283b14f7") {\n    ...Participant\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.9d014ff494a179168acc7dbdcaac714d") {\n      ...AudioMetadata\n      _recipeType\n      _type\n    }\n    awayMessage @recipeType(name: "com.linkedin.87c9a9cd416518b3ae3ec7fa913beda9") {\n      ...AwayMessage\n      _recipeType\n      _type\n    }\n    externalMedia @recipeType(name: "com.linkedin.ab643b2a910f8d01515e3de05ea3ed58") {\n      ...ExternalMedia\n      _recipeType\n      _type\n    }\n    file @recipeType(name: "com.linkedin.7aa5683921913aade8fa5c4519baa702") {\n      ...FileAttachment\n      _recipeType\n      _type\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.fe6a30e3187263cbe5e35ddaefad8057") {\n      ...MessageAdRenderContent\n      _recipeType\n      _type\n    }\n    vectorImage @recipeType(name: "com.linkedin.7fb4f25aa4c3ab41c6bba613782b9d34") {\n      ...VectorImage\n      _recipeType\n      _type\n    }\n    video @recipeType(name: "com.linkedin.7925b565d0d566800b8922aea3867f4a") {\n      ...VideoPlayMetadata\n      _recipeType\n      _type\n    }\n    videoMeeting @recipeType(name: "com.linkedin.60105a4be7268dcb47c025ca8d8a2ed7") {\n      ...VideoMeeting\n      _recipeType\n      _type\n    }\n    hostUrnData @recipeType(name: "com.linkedin.b0d4ad02fc936b49872f65040e8bc08d") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.639ce822a6f22d98acc6ad69cac31ba7") {\n      ...ConversationAdsMessageContent\n      _recipeType\n      _type\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.9b5797921a5dfc2f612edaaeaca81f76") {\n      originalSender @recipeType(name: "com.linkedin.587bcc596204b389c9305679283b14f7") {\n        ...Participant\n        _recipeType\n        _type\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      footerText @recipeType(name: "com.linkedin.e42015befb40f6eae45546693a8cac36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n',variablesTypes:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"},deliveredAt:{type:"Long",isRequired:!0,kind:"Scalar"},countBefore:{type:"Int",isRequired:!0,kind:"Scalar"},countAfter:{type:"Int",isRequired:!0,kind:"Scalar"}}}),ct=Jn({kind:"query",id:"messengerConversations.7d43b302ac5f507f1da82fb0fb71b41f",typeName:"com.linkedin.2a7f21c8d98d18e3a6c802f0dd8d222d",name:"get-conversations-by-ids",source:'query getConversationsByIds($conversationIds: [String!]!) @recipeType(name: "com.linkedin.2a7f21c8d98d18e3a6c802f0dd8d222d") {\n  messengerConversationsByIds(messengerConversationsIds: $conversationIds) @recipeType(name: "com.linkedin.ea0ca8ae0158145afa86564919192206") {\n    ...Conversation\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.a5c2366e94678fa4e07fb9d0071575b4") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.e2c105c22c33e11df69a87b97fe9e6c9") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.39b36fe069d9848219c9cc8da60cf830") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.cd08a6957071c175673f38f8940c9900") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.032ed558567b54b1e4b608f3efbbf6da") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.963451af762cd092f1fd92fb99464320") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.a3bd3f5867b1277cb58b73e20ddbae88") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.1fd95451f0a7fb0e33f983671ba1418a") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.c8734b47faca5bddba8a78b7760aaadd") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.22650e98f182951259aa94c93545a09a") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.031579b3719a1e2effe3cacb8f5fce81") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.f7c85a4de7cde9c8bf03f5130b170fa2") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.7dbe4cb9011f7a05f44b7bb7b7698ba8") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.3d51fe0e0f8aecebb80748069fc288ab") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.f1e3d6ded8aa9a59e30c6c0255837530") {\n      firstName @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.d1856ac08224ed7648057a35f7eba906") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.1af67415b1fcedf1c55abbf24ce37c94") {\n      name @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.d1856ac08224ed7648057a35f7eba906") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.e03936aaee4f7145b8623f8b0882ee06") {\n      name @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.d1856ac08224ed7648057a35f7eba906") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.d1856ac08224ed7648057a35f7eba906") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.6c239bf7949c35b1ca0559ccbb29215c") {\n    ...CreativeAdsReportingInfo\n    _recipeType\n    _type\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.65fe1b0695991a83fe42e5c54b26a7e6") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  state\n  groupChat\n  creator @recipeType(name: "com.linkedin.e48ff5b94807782a785860f6062bfaab") {\n    ...Participant\n    _recipeType\n    _type\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.25a5e21bab98c96b35b8397913f07722") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.88865589e44fcff43acff8f555b77e23") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.0c5a19f04be34234ac632fdfb2397ef9") {\n      ...ConversationAdsContent\n      _recipeType\n      _type\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.e48ff5b94807782a785860f6062bfaab") {\n    ...Participant\n    _recipeType\n    _type\n  }\n}\n',variablesTypes:{conversationIds:{type:"Array",isRequired:!0,innerType:{type:"String",isRequired:!0,kind:"Scalar"},kind:"Array"}}}),dt=Jn({kind:"query",id:"messengerMailboxCounts.2dd1b6450198aa97a16184e509bb6312",typeName:"com.linkedin.7455e0e579fcb3a34f96eb0eefe7a411",name:"get-mailbox-unreadcounts",source:'query getMailboxUnreadCount($mailboxUrn: String!) @recipeType(name: "com.linkedin.7455e0e579fcb3a34f96eb0eefe7a411") {\n  messengerMailboxCountsByMailbox(mailboxUrn: $mailboxUrn) @recipeType(name: "com.linkedin.53337f34a47b3c672713f3ba35605146") {\n    elements @recipeType(name: "com.linkedin.47d6db71cf3196fbd94e1d63c2031539") {\n      category\n      unreadConversationCount\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n',variablesTypes:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"}}}),ut=Jn({kind:"query",id:"messengerQuickReplies.61d2f72462d4e3e5c57be99f720b699b",typeName:"com.linkedin.4c7816368899aefc0404a81a21b89aad",name:"get-quick-replies-by-conversation",source:'query GetQuickRepliesByConversation($conversationUrn: String!) @recipeType(name: "com.linkedin.4c7816368899aefc0404a81a21b89aad") {\n  messengerQuickRepliesByConversation(conversationUrn: $conversationUrn) @recipeType(name: "com.linkedin.b6e858f35d83d6cf5dfa51c1f4e9cf33") {\n    elements @recipeType(name: "com.linkedin.97e0c984dad39a9337fa7f8a08b5bb2c") {\n      ...QuickReply\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.9530dd0266c5e3dfdd2d57398081b9ba") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.9d302f859c4add9e1a2b277a07e5e2bc") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.a47efe23ef54dcfffbae34d2714a7709") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.814d6a3abc3892b25d5efeda1dfdb21b") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.079f490924ce9ea0a2e300c8b005f125") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.323f1daea090cebaa7394cb723af7f64") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.987bbc542a2213455845aa9cd0aa823c") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.a68b6f013115bc3c9f99e7643ee1958f") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.accbc6f97f0585bc2766916e8dfd3abf") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.5eba473fa8c633e37c165ba147eac5bf") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.a91704e48ba8e5816c625494c2f97e48") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.c8fcea02494286c36cdd22ccc61fb32b") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment QuickReply on messenger_QuickReply {\n  displayText @recipeType(name: "com.linkedin.407cdcf10dddee1f9ee388bf65c637e6") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  message @recipeType(name: "com.linkedin.61b815121b717e1b355148c7cffbce70") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  objectUrn\n  prefillText @recipeType(name: "com.linkedin.407cdcf10dddee1f9ee388bf65c637e6") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  quickReplyType {\n    type\n    customType\n  }\n  trackingId\n}\n',variablesTypes:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"}}}),lt=Jn({kind:"query",id:"messengerMessagingParticipants.087a18c3ca19ee17f1400c53b5cc8b09",typeName:"com.linkedin.17d2b5b00f250b93fa250e00473c98a2",name:"get-reactors-by-message-and-emoji",source:'query getReactorsByMessageAndEmoji($messageUrn: String!, $emoji: String!) @recipeType(name: "com.linkedin.17d2b5b00f250b93fa250e00473c98a2") {\n  messengerMessagingParticipantsByMessageAndEmoji(messageUrn: $messageUrn, emoji: $emoji) @recipeType(name: "com.linkedin.f808af31529de4c2c4abd0976d7bcfaa") {\n    elements @recipeType(name: "com.linkedin.fa6606f7f339c4a8571ac9043f664f4b") {\n      ...Participant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.30426cc31a0002f3526931f9b04d7a2c") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.92edcfdf0a2c55c82fac4f52136f2277") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.4c69a590d6bc461dd9ba423c5a7295b2") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.5e529d741267fbcfd8d758446609293d") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.d6ae29dada06ce0c9022ffd1bdbcf0f5") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.1630188842f9c02068e6b3d3c8759d8e") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.e1ac93598c33825817ae2d22ab66a34c") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.aa6aa1d53b0ef47e7626fcc03c76c0d5") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.717d4681d555c659ed7a3a52fe4cf8ed") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.a106ec2c8d753f89d77776bff2253dcc") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.a5ef24120169ecc1af0d004f4155c3ef") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.5f0afe1fb5e10f3bd70e3076aa777924") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.e3a8be2a344d7a4cb105ac0117852d9b") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.b42f4e2270bfbce9ad6c2d81a686d5ed") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.f5afbea91d7f182d4f9fa71aae797789") {\n      firstName @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.30d979b6847245f55adfe80ebcc52b24") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.1b19a2135e616984e3517477d48289f3") {\n      name @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.30d979b6847245f55adfe80ebcc52b24") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.fb7f16d6ad24fc071e8e4c9a507d1a4c") {\n      name @recipeType(name: "com.linkedin.6c89a87e9d6583a8a3c3b0ae85ca60f8") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.30d979b6847245f55adfe80ebcc52b24") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n',variablesTypes:{messageUrn:{type:"String",isRequired:!0,kind:"Scalar"},emoji:{type:"String",isRequired:!0,kind:"Scalar"}}}),pt=Jn({kind:"query",id:"messengerSeenReceipts.f0584c34fe9377608527e1507a1204a2",typeName:"com.linkedin.33851ce67c1a444c09e057014b5c4d81",name:"get-seen-receipts-by-conversation",source:'query getSeenReceiptsByConversation($conversationUrn: String!) @recipeType(name: "com.linkedin.33851ce67c1a444c09e057014b5c4d81") {\n  messengerSeenReceiptsByConversation(conversationUrn: $conversationUrn) @recipeType(name: "com.linkedin.610dc666c5c0bd249902fc4a6e29137d") {\n    elements @recipeType(name: "com.linkedin.f2277acfd7c0704a70201139df579a65") {\n      ...SeenReceipt\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.c521d0834988414cb543494eff1defa8") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.f513b47df8c0ff6632ad0cc6e5123ebd") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.48242b0d0c19cbd10a9c27e5146a605c") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.eaf33696dfedf327ee1b3eb79b41200d") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.104498b8848142b8dcdaa5be37aedb4d") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.ccef7b4aabce99014e8de62c834d3365") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.8356230738038667e9e81ce3f2af228a") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.64eeb4db61c989c19f2d0742f4e13511") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.e057e3072c193e04323ff658a6d277c8") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.3a614eefd18e324ebee546b84786adb9") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.92c7f66d7ef276b12852a8f360a337b7") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.3b5950e1cbcc19255c56ebb11566314b") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.6b36e9ed4db8e3d415c01840cec60622") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.e7979b3d0486a3852e5c295c954c551b") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.9623b7f05521f9e416e4aa0e8fd3d9ae") {\n      firstName @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.7425e7cb63a718d023074f06d27eba3b") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.b7042771447567c33cd352afd4d46456") {\n      name @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.7425e7cb63a718d023074f06d27eba3b") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.57e7c3e516f17ecd0668b1133e8f358f") {\n      name @recipeType(name: "com.linkedin.1071bc7f9843d7f7dc90e1efdae1b2cf") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.7425e7cb63a718d023074f06d27eba3b") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment SeenReceipt on messenger_SeenReceipt {\n  message @recipeType(name: "com.linkedin.dc3ad25c62e56a24aa27aa71fac75dcf") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  seenAt\n  seenByParticipant @recipeType(name: "com.linkedin.29bd4036bc585aa87377842ee2563fb2") {\n    ...Participant\n    _recipeType\n    _type\n  }\n}\n',variablesTypes:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"}}}),ft=Jn({kind:"query",id:"messengerConversations.d5089df1b5a665ee527be74b9ab1859e",typeName:"com.linkedin.bc13e1b1426cc03e36eab503d342cabe",name:"initial-sync-conversations",source:'query initialSyncConversations($mailboxUrn: String!) @recipeType(name: "com.linkedin.bc13e1b1426cc03e36eab503d342cabe") {\n  messengerConversationsBySyncToken(mailboxUrn: $mailboxUrn) @recipeType(name: "com.linkedin.c4d40619b988a313e6dbd442876520d5") {\n    elements @recipeType(name: "com.linkedin.e0457b8b4985e4e141d2bd624526db5a") {\n      ...Conversation\n      messages(count: 1, sortOrder: DESCENDING) @required @recipeType(name: "com.linkedin.2fd852a9be7c7d3602803db62bded474") {\n        elements @allOrNothing @recipeType(name: "com.linkedin.7f5095a72b369d7ce1483bdfc62ee3e0") {\n          ...MessagePartialParticipant\n          _recipeType\n          _type\n        }\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n    metadata @recipeType(name: "com.linkedin.6614bca623fc9720b29edae666a9bdb4") {\n      newSyncToken\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.adae398a316afc92d9372666e5da2b7d") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.381a4569be39fc83e21c406f0337b620") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.be4dc8a825294ba651235e4629a3404e") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.9b949b440138d45d2f931879b66187c9") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.a4b572cbcce10658bd90feee6736182f") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.14ea4bb04f4abe63f83e2bc9f36f7abe") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.a696eef5f5d40723095820da042f0287") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.15f11baf4bf3e61a26d61843a47eae67") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.34dd0dcbc21fe095004daa39964cc858") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.2a4bd6f512c36c102e60d42a8726fe61") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.54de8e51102bb201fc1b831d17a81d96") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.70fab14b53c2a72345b27c970c804bd2") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.e33a796e937400f974133f8fb6b41e9b") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.75fd15a735d1668ef83e7e6921847f56") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.7eb3a14326aeb4c8c16f24e1979ffe01") {\n      firstName @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.629151bbc2a2b8bde6b327b528766d45") {\n      name @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.aa5278b3b55df5dcc2255a69addddc1e") {\n      name @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.ca1e81b79e7b59bfd3fd25d991a977ae") {\n    ...CreativeAdsReportingInfo\n    _recipeType\n    _type\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.c9ee5cbbe28e24c3c5d9c44f591b7515") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  state\n  groupChat\n  creator @recipeType(name: "com.linkedin.01f8e638b9e4e8fdedf2a35d7e7bc3dc") {\n    ...Participant\n    _recipeType\n    _type\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.a2ca2658a10f32cd19074ed775ec6243") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.1c1b542988ebe7ed2a1850a4dc1bbadc") {\n      ...ConversationAdsContent\n      _recipeType\n      _type\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.01f8e638b9e4e8fdedf2a35d7e7bc3dc") {\n    ...Participant\n    _recipeType\n    _type\n  }\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  inlineWarning @recipeType(name: "com.linkedin.a8accbabea9e3c49fca55bf4f5fc610f") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.62100cc3671b2a7952cdf70d774f0c16") {\n    ...ReactionSummary\n    _recipeType\n    _type\n  }\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.e0457b8b4985e4e141d2bd624526db5a") {\n    entityUrn\n    _recipeType\n    _type\n  }\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  text @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.d92301af8ae432c6a325c67221130182") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.d92301af8ae432c6a325c67221130182") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.ca1e81b79e7b59bfd3fd25d991a977ae") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.c9ee5cbbe28e24c3c5d9c44f591b7515") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.27e4004b3e4d690d33de889202ae5924") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.eb76a49e634a1e9a69ac4c956e935846") {\n      adUnit @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.61bf78953251fbd484afea91d3281c15") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.e133fb8d9410f731252f6f8545875260") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.105290335920ffad003a428431f0a07d") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.e133fb8d9410f731252f6f8545875260") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.ac491e5455a5b4f9bfa0ccf930ef7c49") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.6ad3ab8d5637607a196f6d574ad232c8") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.56948b02e64819b381226994b017f605") {\n      country\n      extensions @recipeType(name: "com.linkedin.8d5cb24a2a625a497d43832a952adbb3") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.feb8f633df71861fcb35a7457a18b442") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.e7e07cf52d05ed52f2a0d6b81646d262") {\n    end\n    start\n    _recipeType\n    _type\n  }\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.c96be118330697a4f65f984bb931b08b") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.8156b60527a213a678bd967456d241b1") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.3bb2afacaffe5eeddedb11a560bb7aac") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.cc640a0bc692dcdaf424217677e95eda") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment MessagePartialParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.01f8e638b9e4e8fdedf2a35d7e7bc3dc") {\n    entityUrn\n    hostIdentityUrn\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.d98db434d0bedd33bd439eb153f15c23") {\n      ...AudioMetadata\n      _recipeType\n      _type\n    }\n    awayMessage @recipeType(name: "com.linkedin.8c293ff9011b1cd87e91a9f6125c4808") {\n      ...AwayMessage\n      _recipeType\n      _type\n    }\n    externalMedia @recipeType(name: "com.linkedin.5678e7f72a1365bc64e9b97e88f2caf5") {\n      ...ExternalMedia\n      _recipeType\n      _type\n    }\n    file @recipeType(name: "com.linkedin.a3d4d34ad04210655af3c5b561eb2ec9") {\n      ...FileAttachment\n      _recipeType\n      _type\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.dae3f372acbf89bff4028183a1d3d01b") {\n      ...MessageAdRenderContent\n      _recipeType\n      _type\n    }\n    vectorImage @recipeType(name: "com.linkedin.5a06e769367ad613e374bfe0fb8b474c") {\n      ...VectorImage\n      _recipeType\n      _type\n    }\n    video @recipeType(name: "com.linkedin.0dbd2db1ff294a149ae39c304fc92c26") {\n      ...VideoPlayMetadata\n      _recipeType\n      _type\n    }\n    videoMeeting @recipeType(name: "com.linkedin.9985fd78c330eed7474c708294217351") {\n      ...VideoMeeting\n      _recipeType\n      _type\n    }\n    hostUrnData @recipeType(name: "com.linkedin.5525505b2253ea794bd1c27d81a3f8cf") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.01a37a45120d8d9a82831780d024df16") {\n      ...ConversationAdsMessageContent\n      _recipeType\n      _type\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.e81ed10998a09fe6281c751c3e45da6d") {\n      originalSender @recipeType(name: "com.linkedin.01f8e638b9e4e8fdedf2a35d7e7bc3dc") {\n        ...Participant\n        _recipeType\n        _type\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      footerText @recipeType(name: "com.linkedin.5d98a92dbd37a25932928c4b4b771881") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n',variablesTypes:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"}}}),mt=Jn({kind:"query",id:"messengerConversations.e2947cc74e8683a35558fa84ce55de3e",typeName:"com.linkedin.2a25dae6962f40be897d5ffe00289c5c",name:"mark-all-conversations-as-read",source:'query MarkAllConversationsAsRead($categories: [String!]!, $mailboxUrn: String!) @recipeType(name: "com.linkedin.2a25dae6962f40be897d5ffe00289c5c") {\n  doMarkAllConversationsAsReadMessengerConversations(categories: $categories, mailboxUrn: $mailboxUrn) @recipeType(name: "com.linkedin.b487f4883be20a28b2aa5907ae18fc9d") {\n    result @recipeType(name: "com.linkedin.755f5f21dbfd545773568b4bb322b73a") {\n      ...MarkAllConversationsAsReadResult\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment MarkAllConversationsAsReadResult on messenger_MarkAllConversationsAsReadResult {\n  allSynchronouslyProcessed\n}\n',variablesTypes:{categories:{type:"Array",isRequired:!0,innerType:{type:"String",isRequired:!0,kind:"Scalar"},kind:"Array"},mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"}}}),yt=Jn({kind:"query",id:"messengerConversations.03aadb984c0b1d8c16b119af2fd41f09",typeName:"com.linkedin.13baefbc2d95f2e6498312456b544fc4",name:"sync-conversations",source:'query syncConversations($mailboxUrn: String!, $syncToken: String) @recipeType(name: "com.linkedin.13baefbc2d95f2e6498312456b544fc4") {\n  messengerConversationsBySyncToken(mailboxUrn: $mailboxUrn, syncToken: $syncToken) @recipeType(name: "com.linkedin.7a0e6dc56c290d2fef8307054ef628e9") {\n    elements @recipeType(name: "com.linkedin.d0131ba388bd4c274ad89836c477955c") {\n      ...Conversation\n      _recipeType\n      _type\n    }\n    metadata @recipeType(name: "com.linkedin.a15242ac776cda2233f011e562abeaaa") {\n      ...SyncMetadata\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.686d9d1ed551117f94c5c18320822486") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.ede146e2a194f51503310066fc058654") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.e5c5349791ff8f20cac26f5d4269aa10") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.6c72b46c06253f9f7e713ee1c93ae444") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.bfecdd43f8a76f54e395909400b3a47e") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.bbff3f0fc66c615b5067ffe7bdc86dcd") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.2d59b6c40fe50dfc0ac0b64f317f23d3") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.0e6524ca57f62ca508a3032da64037fa") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.6bcb9fbf33d4ce137db4354209631166") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.468ac349c18b45e14ec4f937e0dee6c8") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.a5c90d2abc284f2e8b735892dd061818") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.1d26b548f4e5b5288ef95723643d298a") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.e2f3217dde3d4432038a1eb1c50606d0") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.3f007f728d032797f2c8875114902308") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.059980bd802789beb784a8f9a9b69137") {\n      firstName @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.322c3b2b26b1028031e2b0717b39e347") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.173c2f2f123b97f4bb2543e42641c281") {\n      name @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.322c3b2b26b1028031e2b0717b39e347") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.d6b31717df9125f818b1a1977d5b0653") {\n      name @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.322c3b2b26b1028031e2b0717b39e347") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment CreativeAdsReportingInfo on messenger_CreativeAdsReportingInfo {\n  contentSource\n  sponsoredAccountUrn\n  sponsoredCreativeUrn\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n}\n\nfragment ConversationAdsContent on messenger_ConversationAdsContent {\n  adUnit @recipeType(name: "com.linkedin.322c3b2b26b1028031e2b0717b39e347") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  advertiserLabel\n  advertiserLegalText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  clickTrackingUrl\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.bc706a4c6c31ae1ed601f0f95c2f968f") {\n    ...CreativeAdsReportingInfo\n    _recipeType\n    _type\n  }\n  linkedInLegalText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  sponsoredConversationTrackingId\n  sponsoredTracking @recipeType(name: "com.linkedin.fec70614c7cf7cbb8e0fd6c57e2c8f6d") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n}\n\nfragment Conversation on messenger_Conversation {\n  entityUrn\n  backendUrn\n  read\n  createdAt\n  lastActivityAt\n  lastReadAt\n  title\n  headlineText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  shortHeadlineText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  notificationStatus\n  categories\n  unreadCount\n  conversationUrl\n  hostConversationActions\n  conversationTypeText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  state\n  groupChat\n  creator @recipeType(name: "com.linkedin.239fa054f2ae27d6d786746a5efe7fff") {\n    ...Participant\n    _recipeType\n    _type\n  }\n  disabledFeatures @recipeType(name: "com.linkedin.9d0a578a8c22b128956e58f44b165468") {\n    disabledFeature\n    reasonText @recipeType(name: "com.linkedin.9d6137b00db50cad01426799804d1192") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  contentMetadata {\n    conversationAdContent @recipeType(name: "com.linkedin.8340383189efb90020d96ae3d569b834") {\n      ...ConversationAdsContent\n      _recipeType\n      _type\n    }\n  }\n  conversationParticipants @recipeType(name: "com.linkedin.239fa054f2ae27d6d786746a5efe7fff") {\n    ...Participant\n    _recipeType\n    _type\n  }\n}\n\nfragment SyncMetadata on messenger_SyncMetadata {\n  deletedUrns {\n    conversation @recipeType(name: "com.linkedin.d0131ba388bd4c274ad89836c477955c") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    message @recipeType(name: "com.linkedin.bd421aef6356c2da052bef9b3c2a3674") {\n      entityUrn\n      _recipeType\n      _type\n    }\n  }\n  newSyncToken\n  shouldClearCache\n}\n',variablesTypes:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"},syncToken:{type:"String",isRequired:!1,kind:"Scalar"}}}),ht=Jn({kind:"query",id:"messengerMessages.08934c39ffb80ef0ba3206c05dd01362",typeName:"com.linkedin.c38c518a13ae3dfabbd000dba2c1323a",name:"sync-messages",source:'query SyncMessages($conversationUrn: String!, $syncToken: String) @recipeType(name: "com.linkedin.c38c518a13ae3dfabbd000dba2c1323a") {\n  messengerMessagesBySyncToken(conversationUrn: $conversationUrn, syncToken: $syncToken) @recipeType(name: "com.linkedin.b3fb020d7a62182dcf15004c87ed6684") {\n    elements @recipeType(name: "com.linkedin.9a4948e0045f59eb49ee971c440d4e31") {\n      ...MessageFullParticipant\n      _recipeType\n      _type\n    }\n    metadata @recipeType(name: "com.linkedin.511454cd272357b3e0558c5dac215b69") {\n      ...SyncMetadata\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.91a2d9e032fa053fe3e1f7eb8b8fb33a") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.465a32a11b07f3705fb16e61cce0b255") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.76f7d68a0b8e0fb4ea4694c56eb8d254") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.c622780354d9de02db8b521c3b0b7589") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.4044504975886ef020cfb369ea9250af") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.085d08f078b2e521c7173cd2c66b37c4") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.b9a402848439cea2c3fc3a80b6df14e1") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.67b4cbbed8d4f59d0731330356a63c9f") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.8ba6d525a8f41d7dc36bcad232dea273") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.06e27543dfb2a7dfaf492c6f69cd9501") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.c3f280f743f59957949667e621ccec8d") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.eafe8089647b6274ef230c4d4f4f0564") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  inlineWarning @recipeType(name: "com.linkedin.eccc411590cd40efb6a30363c2a4f6b7") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.f0b7db6037d7be0d51d3ef9f7a8532f0") {\n    ...ReactionSummary\n    _recipeType\n    _type\n  }\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.45234f48bb281d0b04e9cd2ee2d88237") {\n    entityUrn\n    _recipeType\n    _type\n  }\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.4e78982efcd19a00e60e23cb18452cb3") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.71cc3c87a83e8848faa739599dff2495") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.a9535f2b6c53c4b69a1dd57697b6de6e") {\n      firstName @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.9dc58bc555360d8643835a6506cbbcc8") {\n      name @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.054f7f9a6b88e95a0912a84064b97b08") {\n      name @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  text @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.4d35eb62cdac5ece15f151b81b23bc6a") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.4d35eb62cdac5ece15f151b81b23bc6a") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.1fd72fe3f101c7912879e714fee028aa") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.5b6fc58175860d41ec0ed71f29c97de7") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.41b59b4ac9866b7de43f6c530c298847") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.4bf87417853a73e6a5bed863ba8f114d") {\n      adUnit @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.d421cf79bd9513a768a0122b5572b9f2") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.b75dd201eeaf5a8a40101e283425458d") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.10d654a93349bcf0b7bd45dcea5d51ae") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.b75dd201eeaf5a8a40101e283425458d") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.0495f491608a2d920cecbb2193a29027") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.82dbc40d6a3cba3fa1ea02f713edc992") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.d42c8e81889d9c20b35a2959473d5a4e") {\n      country\n      extensions @recipeType(name: "com.linkedin.106a55544243c43a15d8a3b7247ba907") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.232a58fec9a34ff9d644a27921895969") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.d8130aaee573edd751fc3ce23bba2ba1") {\n    end\n    start\n    _recipeType\n    _type\n  }\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.0f36502a4b30f3736241f333a711d363") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.b30c79a1f13823f96ba29550dc25ad1b") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.64613929601e16b00a6f50c3a14f8489") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.c04631db04ec3f812f916286bcd78313") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.8e75e1b6100649895f69cf66c6e25b20") {\n    ...Participant\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.25e9ea6346fdbd78900ed1c1f090abf4") {\n      ...AudioMetadata\n      _recipeType\n      _type\n    }\n    awayMessage @recipeType(name: "com.linkedin.d1b4ff7165007ffd58e7daa04e91dc83") {\n      ...AwayMessage\n      _recipeType\n      _type\n    }\n    externalMedia @recipeType(name: "com.linkedin.f6f94f97f4b492ea82eac78e8b78c90e") {\n      ...ExternalMedia\n      _recipeType\n      _type\n    }\n    file @recipeType(name: "com.linkedin.dee5494b0db49133c0ce4fbbe1028e2a") {\n      ...FileAttachment\n      _recipeType\n      _type\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.8fc568c3b0a4f8b6d43e85cb2e31f8bf") {\n      ...MessageAdRenderContent\n      _recipeType\n      _type\n    }\n    vectorImage @recipeType(name: "com.linkedin.c029dbe5105f8bef89f4685f7ef3839b") {\n      ...VectorImage\n      _recipeType\n      _type\n    }\n    video @recipeType(name: "com.linkedin.6d3caf68e88606ee9a78df95da083903") {\n      ...VideoPlayMetadata\n      _recipeType\n      _type\n    }\n    videoMeeting @recipeType(name: "com.linkedin.bd4d498efdc59d6464579320e78c71f2") {\n      ...VideoMeeting\n      _recipeType\n      _type\n    }\n    hostUrnData @recipeType(name: "com.linkedin.f5714b7ef519213cce06f2e65eeed6e6") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.6dd14eac60d40cd25525b7101e0e9724") {\n      ...ConversationAdsMessageContent\n      _recipeType\n      _type\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.17a472afaec91a855b119a4c0e9cbc17") {\n      originalSender @recipeType(name: "com.linkedin.8e75e1b6100649895f69cf66c6e25b20") {\n        ...Participant\n        _recipeType\n        _type\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      footerText @recipeType(name: "com.linkedin.1ea7e24db829a1347b841f2dd496da36") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment SyncMetadata on messenger_SyncMetadata {\n  deletedUrns {\n    conversation @recipeType(name: "com.linkedin.45234f48bb281d0b04e9cd2ee2d88237") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    message @recipeType(name: "com.linkedin.9a4948e0045f59eb49ee971c440d4e31") {\n      entityUrn\n      _recipeType\n      _type\n    }\n  }\n  newSyncToken\n  shouldClearCache\n}\n',variablesTypes:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"},syncToken:{type:"String",isRequired:!1,kind:"Scalar"}}}),gt=Jn({kind:"query",id:"messengerMessages.79b22250b9dbb6627712ddf95dfa95dd",typeName:"com.linkedin.d517c530e9e9e6efa128b8e0e66d8226",name:"sync-messages-by-convo-id-in-batch",source:'query getSyncMessagesByConvoIdInBatch($criteria: [messenger_MessagesFindBySyncTokenCriteriaInput!]!) @recipeType(name: "com.linkedin.d517c530e9e9e6efa128b8e0e66d8226") {\n  messengerMessagesBySyncTokensInBatch(criteria: $criteria) @recipeType(name: "com.linkedin.f9a792d78ca98d67382ae32f4f9cefe9") {\n    elements @recipeType(name: "com.linkedin.3534d423e1e266c870d53cda731136a5") {\n      ...MessageFullParticipant\n      _recipeType\n      _type\n    }\n    metadata @recipeType(name: "com.linkedin.a2a48a5f0eedcac77801c6a5f37422ab") {\n      ...SyncMetadata\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n\nfragment AttributedText on pemberly_text_AttributedText {\n  text\n  attributes @recipeType(name: "com.linkedin.782b0c7286719fedf9957cfbd85363aa") {\n    attributeKind {\n      bold @recipeType(name: "com.linkedin.1bfd7f5e4ec38bb6502ddef8a60260fc") {\n        __typename\n        _recipeType\n        _type\n      }\n      italic @recipeType(name: "com.linkedin.1b8ef43cf021903c28bbeeaa99038ec8") {\n        __typename\n        _recipeType\n        _type\n      }\n      hyperlink @recipeType(name: "com.linkedin.50e5b5012fd5216da33dcf69c35fadc2") {\n        url\n        __typename\n        _recipeType\n        _type\n      }\n      paragraph @recipeType(name: "com.linkedin.27f753bd8e5ab72b4c9cf9976a60f61e") {\n        __typename\n        _recipeType\n        _type\n      }\n      list @recipeType(name: "com.linkedin.a0df47daad321ae7a54e5fa9a403b9dd") {\n        ordered\n        __typename\n        _recipeType\n        _type\n      }\n      listItem @recipeType(name: "com.linkedin.2f94b0c2b10f1d6e873cf4743abc5692") {\n        __typename\n        _recipeType\n        _type\n      }\n      lineBreak @recipeType(name: "com.linkedin.414ae77309e918fe9d357fddbae49cc1") {\n        __typename\n        _recipeType\n        _type\n      }\n      underline @recipeType(name: "com.linkedin.982779de2dfdf62592eadff32ffbe429") {\n        __typename\n        _recipeType\n        _type\n      }\n      subscript @recipeType(name: "com.linkedin.83d5cb314abbfc47c8c2d497866013ce") {\n        __typename\n        _recipeType\n        _type\n      }\n      superscript @recipeType(name: "com.linkedin.640da236512d63227a1b19e60cac628f") {\n        __typename\n        _recipeType\n        _type\n      }\n      entity @recipeType(name: "com.linkedin.a65a350fbf1d4be74450b4d58ed6866b") {\n        urn\n        _recipeType\n        _type\n      }\n    }\n    start\n    length\n    _recipeType\n    _type\n  }\n}\n\nfragment ReactionSummary on messenger_ReactionSummary {\n  count\n  emoji\n  firstReactedAt\n  viewerReacted\n}\n\nfragment MessageBaseWithoutConversation on messenger_Message {\n  entityUrn\n  backendConversationUrn\n  backendUrn\n  subject\n  body @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  inlineWarning @recipeType(name: "com.linkedin.7189689d0c3f7d45b6f23427485c2bbd") {\n    obfuscatedMessageWarning @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    inlineWarningPrompt @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  originToken\n  deliveredAt\n  messageBodyRenderFormat\n  renderContentFallbackText\n  reactionSummaries @recipeType(name: "com.linkedin.51341effca62deeb3af211b14b7c0193") {\n    ...ReactionSummary\n    _recipeType\n    _type\n  }\n}\n\nfragment MessageBase on messenger_Message {\n  ...MessageBaseWithoutConversation\n  conversation @recipeType(name: "com.linkedin.0d8ff88970ef6ffa8a6bcf6a5804f7e4") {\n    entityUrn\n    _recipeType\n    _type\n  }\n}\n\nfragment VectorImage on common_VectorImage {\n  artifacts @recipeType(name: "com.linkedin.d5f76b69247e45d5f2367725625ce659") {\n    width\n    height\n    fileIdentifyingUrlPathSegment\n    _recipeType\n    _type\n  }\n  attribution\n  rootUrl\n  focalPoint @recipeType(name: "com.linkedin.fdfc8ce7a273bff80d1d5b4338cff02e") {\n    xOffsetPercentage\n    yOffsetPercentage\n    _recipeType\n    _type\n  }\n  digitalmediaAsset\n}\n\nfragment Participant on messenger_MessagingParticipant {\n  entityUrn\n  hostIdentityUrn\n  backendUrn\n  participantType {\n    member @recipeType(name: "com.linkedin.fa771270df50f4c8342710233b15830a") {\n      firstName @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      lastName @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      headline @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      profilePicture @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      profileUrl\n      pronoun {\n        customPronoun\n        standardizedPronoun\n      }\n      distance\n      _recipeType\n      _type\n    }\n    organization @recipeType(name: "com.linkedin.4f4e1faa3ba9eb2e3d60c798c5b24dc9") {\n      name @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      tagline @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      logo @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      pageType\n      pageUrl\n      _recipeType\n      _type\n    }\n    custom @recipeType(name: "com.linkedin.a129493e9d2a25c8929b4879a10be2ed") {\n      name @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      image @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment AudioMetadata on messenger_AudioMetadata {\n  duration\n  url\n}\n\nfragment AwayMessage on messenger_AwayMessage {\n  footerText @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  text @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n}\n\nfragment ExternalMedia on messenger_ExternalMedia {\n  entityUrn\n  title\n  media @recipeType(name: "com.linkedin.3ce159846977e249e2279cfd56e70e3b") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n  previewMedia @recipeType(name: "com.linkedin.3ce159846977e249e2279cfd56e70e3b") {\n    originalHeight\n    originalWidth\n    url\n    _recipeType\n    _type\n  }\n}\n\nfragment FileAttachment on messenger_FileAttachment {\n  assetUrn\n  byteSize\n  mediaType\n  name\n  url\n}\n\nfragment SponsoredMetadata on messenger_SponsoredMetadata {\n  adRequestId\n  activityType\n  adTrackingCode\n  leadTrackingCode\n  version\n  videoBehavior\n  adTrackingCode\n  sponsoredCampaignUrn\n  adServingUrn\n}\n\nfragment MessageAdRenderContent on messenger_MessageAdRenderContent {\n  advertiserLabel\n  bodyTracking\n  creativeAdsReportingInfo @recipeType(name: "com.linkedin.761a2c6e0d05a4036ebfcf428a1384c2") {\n    contentSource\n    sponsoredAccountUrn\n    sponsoredCreativeUrn\n    _recipeType\n    _type\n  }\n  legalText @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n    ...AttributedText\n    _recipeType\n    _type\n  }\n  legalTextTracking\n  openTracking\n  sponsoredCampaignUrn\n  sponsoredTracking @recipeType(name: "com.linkedin.6c4cdd5bf165b44000028b41b43832d5") {\n    ...SponsoredMetadata\n    _recipeType\n    _type\n  }\n  status\n  subContent @recipeType(name: "com.linkedin.64e6d609b1b585ae174e292c10f84ee3") {\n    action\n    actionText\n    actionTracking\n    callToActionLabel\n    leadGenFormOpenTracking\n    leadGenFormUrn\n    leadTrackingCode\n    leadTrackingParams\n    tscpUrl\n    adUnit @recipeType(name: "com.linkedin.c5b3e8fb88889ee77ec03fe3494e35d5") {\n      adUnit @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n        ...VectorImage\n        _recipeType\n        _type\n      }\n      adUnitTracking\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoPlayMetadata on videocontent_VideoPlayMetadata {\n  entityUrn\n  adaptiveStreams @recipeType(name: "com.linkedin.a9a5875e22303c042d4f9c00eabd58b8") {\n    initialBitRate\n    masterPlaylists @recipeType(name: "com.linkedin.7ce0e208fc65f7f558d3d6d24b7035c6") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    mediaType\n    protocol\n    _recipeType\n    _type\n  }\n  aspectRatio\n  duration\n  liveStreamCreatedAt\n  liveStreamEndedAt\n  media\n  nextMedia\n  prevMedia\n  progressiveStreams @recipeType(name: "com.linkedin.d5eefd150d0fd7c240fcc73e81609255") {\n    bitRate\n    height\n    mediaType\n    mimeType\n    size\n    streamingLocations @recipeType(name: "com.linkedin.7ce0e208fc65f7f558d3d6d24b7035c6") {\n      expiresAt\n      url\n      _recipeType\n      _type\n    }\n    width\n    _recipeType\n    _type\n  }\n  provider\n  thumbnail @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n    ...VectorImage\n    _recipeType\n    _type\n  }\n  trackingId\n  transcripts @recipeType(name: "com.linkedin.adc1c2497cb3562cedd916fe7153f242") {\n    captionFile\n    captionFormat\n    isAutogenerated\n    lines @recipeType(name: "com.linkedin.0879e6ae5a83e72217a572d0c3a4dc9b") {\n      caption\n      lineEndAt\n      lineStartAt\n      _recipeType\n      _type\n    }\n    locale @recipeType(name: "com.linkedin.e3d5652fa4c5185ea563784361520492") {\n      country\n      extensions @recipeType(name: "com.linkedin.e9c15d66cac66b0a284221167c0b05d8") {\n        t\n        u\n        x\n        _recipeType\n        _type\n      }\n      language\n      script\n      variant\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment VideoMeeting on messenger_VideoMeeting {\n  videoMeeting @recipeType(name: "com.linkedin.26fbe7af56f471221c53fc613495481a") {\n    entityUrn\n    _recipeType\n    _type\n  }\n  earliestStartAt\n  expiresAt\n  timeRange @recipeType(name: "com.linkedin.28793b47fb741bdc484cd5667dc46ab8") {\n    end\n    start\n    _recipeType\n    _type\n  }\n}\n\nfragment ConversationAdsMessageContent on messenger_ConversationAdsMessageContent {\n  sponsoredMessageContentUrn\n  sponsoredMessageTrackingId\n  sponsoredMessageOptions @recipeType(name: "com.linkedin.d610f549f9195397d29296c503de2349") {\n    clickAction {\n      externalWebsiteClickAction @recipeType(name: "com.linkedin.6c31f1578aa7f079a193fafeb7568532") {\n        redirectUrl\n        _recipeType\n        _type\n      }\n      leadGenClickAction @recipeType(name: "com.linkedin.c575890a7cb0edc35833067dbdaf7899") {\n        leadGenFormUrn\n        leadTrackingCode\n        leadTrackingParams\n        _recipeType\n        _type\n      }\n    }\n    optionText @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n      ...AttributedText\n      _recipeType\n      _type\n    }\n    tscpUrl\n    sponsoredMessageOption @recipeType(name: "com.linkedin.39a58a60ca0eba04af9009331df953e5") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n}\n\nfragment MessageFullParticipant on messenger_Message {\n  ...MessageBase\n  sender @recipeType(name: "com.linkedin.7191db3f68aa678cca83f1d52c3e478a") {\n    ...Participant\n    _recipeType\n    _type\n  }\n  renderContent {\n    audio @recipeType(name: "com.linkedin.b9b02ed9c59c3183529f7802d0caad11") {\n      ...AudioMetadata\n      _recipeType\n      _type\n    }\n    awayMessage @recipeType(name: "com.linkedin.b18cfc1eebb1d9c93b20c40f9465c610") {\n      ...AwayMessage\n      _recipeType\n      _type\n    }\n    externalMedia @recipeType(name: "com.linkedin.35815160edef928290f8790250961350") {\n      ...ExternalMedia\n      _recipeType\n      _type\n    }\n    file @recipeType(name: "com.linkedin.68f0f70808d2a5572259dd6024e2fae2") {\n      ...FileAttachment\n      _recipeType\n      _type\n    }\n    messageAdRenderContent @recipeType(name: "com.linkedin.6972d7aae92d743baff7478009d73eed") {\n      ...MessageAdRenderContent\n      _recipeType\n      _type\n    }\n    vectorImage @recipeType(name: "com.linkedin.0a07c8c20913b922a9344d40f3df0453") {\n      ...VectorImage\n      _recipeType\n      _type\n    }\n    video @recipeType(name: "com.linkedin.0894306231bd12f14b5e90dd5bf17888") {\n      ...VideoPlayMetadata\n      _recipeType\n      _type\n    }\n    videoMeeting @recipeType(name: "com.linkedin.1a531c8ee7a98bf9397df570641dafb4") {\n      ...VideoMeeting\n      _recipeType\n      _type\n    }\n    hostUrnData @recipeType(name: "com.linkedin.58482ad6e40391d512e37ff73733e337") {\n      hostUrn\n      type\n      _recipeType\n      _type\n    }\n    conversationAdsMessageContent @recipeType(name: "com.linkedin.19ffdb9a3911183a033678d1784169fb") {\n      ...ConversationAdsMessageContent\n      _recipeType\n      _type\n    }\n    forwardedMessageContent @recipeType(name: "com.linkedin.11a42b0fe31f4e10f96d7d6a9d04387e") {\n      originalSender @recipeType(name: "com.linkedin.7191db3f68aa678cca83f1d52c3e478a") {\n        ...Participant\n        _recipeType\n        _type\n      }\n      originalSendAt\n      forwardedBody @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      footerText @recipeType(name: "com.linkedin.aaff1126c4762f0dc02d914668fb7bf3") {\n        ...AttributedText\n        _recipeType\n        _type\n      }\n      _recipeType\n      _type\n    }\n  }\n}\n\nfragment SyncMetadata on messenger_SyncMetadata {\n  deletedUrns {\n    conversation @recipeType(name: "com.linkedin.0d8ff88970ef6ffa8a6bcf6a5804f7e4") {\n      entityUrn\n      _recipeType\n      _type\n    }\n    message @recipeType(name: "com.linkedin.3534d423e1e266c870d53cda731136a5") {\n      entityUrn\n      _recipeType\n      _type\n    }\n  }\n  newSyncToken\n  shouldClearCache\n}\n',variablesTypes:{criteria:{type:"Array",isRequired:!0,innerType:{type:"messenger_MessagesFindBySyncTokenCriteriaInput",isRequired:!0,innerType:{conversationUrn:{type:"String",isRequired:!0,kind:"Scalar"},syncToken:{type:"String",isRequired:!1,kind:"Scalar"}},kind:"Object"},kind:"Array"}}})
Jn({kind:"query",id:"messengerMailboxRealtimeSubscriptionAuthorizationTokens.19097868cabfa8efde4bdb302fd06924",typeName:"com.linkedin.606462b788cb71b5e1a280f01897a453",name:"realtime-subscription-auth-tokens",source:'query realtimeSubscriptionAuthorizationTokenByMailboxUrnsInBatch($mailboxUrn: String!) @recipeType(name: "com.linkedin.606462b788cb71b5e1a280f01897a453") {\n  messengerMailboxRealtimeSubscriptionAuthorizationTokensByMailboxUrnsInBatch(criteria: [{mailboxUrn: $mailboxUrn}]) @recipeType(name: "com.linkedin.0c346eec32dce42e0ac0e72ad5dcda02") {\n    elements @recipeType(name: "com.linkedin.dc035023eba03da4fb2704f0575e1c88") {\n      mailboxUrn\n      token\n      conversationsBroadcastTopicUrn\n      conversationDeletesBroadcastTopicUrn\n      messageReactionSummariesBroadcastTopicUrn\n      messageSeenReceiptsBroadcastTopicUrn\n      messagesBroadcastTopicUrn\n      messagingProgressIndicatorBroadcastTopicUrn\n      replySuggestionBroadcastTopicUrn\n      typingIndicatorsBroadcastTopicUrn\n      _recipeType\n      _type\n    }\n    _recipeType\n    _type\n  }\n  _recipeType\n  _type\n}\n',variablesTypes:{mailboxUrn:{type:"String",isRequired:!0,kind:"Scalar"}}})
var vt=function(e,n){if(!e||"query"!==e.kind){var t=Ke.CANNOT_QUERY_FRAGMENT
throw new Xe("graphql",t.code,t.message)}var r={}
"full"===n.queryFormat&&e.source?r.query=e.source:r.queryId=e.id
for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o]
var s=a[0]
return r.variables=s||{},Ln("graphql",n.messengerResource,"graphql",r)}
function _t(e){return function(n){var t=function(e){return Qn.get(e)}(e)
if(!t)throw Xe.fromGraphQLErrorMemo("GRAPHQL_INVALID_LOOKUP")
var r=et(t)
return vt(r,n,arguments.length<=1?void 0:arguments[1])}}for(var bt,Tt=_t(at),Et=_t(ft),At=_t(dt),St=_t(tt),Ct=_t(rt),kt=_t(it),It=_t(ct),Rt=_t(ot),xt=_t(st),wt=_t(pt),Ot=_t(yt),Mt=_t(ht),Nt=_t(gt),Pt=_t(mt),Dt=_t(lt),Ut=_t(ut),Lt=new Uint8Array(16),Ft=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,jt=[],Bt=0;Bt<256;++Bt)jt.push((Bt+256).toString(16).substr(1))
function qt(e,n,t){var r=(e=e||{}).random||(e.rng||function(){if(!bt&&!(bt="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")
return bt(Lt)})()
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0
for(var i=0;i<16;++i)n[t+i]=r[i]
return n}return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(jt[e[n+0]]+jt[e[n+1]]+jt[e[n+2]]+jt[e[n+3]]+"-"+jt[e[n+4]]+jt[e[n+5]]+"-"+jt[e[n+6]]+jt[e[n+7]]+"-"+jt[e[n+8]]+jt[e[n+9]]+"-"+jt[e[n+10]]+jt[e[n+11]]+jt[e[n+12]]+jt[e[n+13]]+jt[e[n+14]]+jt[e[n+15]]).toLowerCase()
if(!function(e){return"string"==typeof e&&Ft.test(e)}(t))throw TypeError("Stringified UUID is invalid")
return t}(r)}const Vt="See https://go/pem/degradation-tracking-user-guide for instrumentation instructions"
class $t{constructor(e,n){this._collectedFeatureMetrics=e,this._fireEventCallback=n}}class Kt extends $t{produceMetricEvent(e){this._collectedFeatureMetrics.flushMetrics().forEach((n=>{const t=[]
n.featureCallCounts.forEach((e=>{t.push({featureProductName:e.featureMetricIdentifier.productName,featureKey:e.featureMetricIdentifier.featureKey,degradedDownstreamCallCount:e.failedApiCallCount,totalDownstreamCallCount:e.totalApiCallCount,retriedDownstreamCallCount:e.retriedApiCallCount,retriedSuccessfulDownstreamCallsRatio:e.retriedSuccessfulCallsRatio,pointOfPresenceId:e.featureMetricIdentifier.pointOfPresenceId,responseErrorTypeV2:e.featureMetricIdentifier.responseErrorType,successfulDownstreamCallsRatio:e.successfulApiCallsRatio,metricKey:{featureProductName:e.featureMetricIdentifier.productName,featureKey:e.featureMetricIdentifier.featureKey,pointOfPresenceId:e.featureMetricIdentifier.pointOfPresenceId,responseErrorTypeV2:e.featureMetricIdentifier.responseErrorType,responseFabric:e.featureMetricIdentifier.responseFabric}})}))
const r={header:{},requestHeader:{},time:Date.now(),metrics:t}
this._fireEventCallback("FeatureDegradationMetricEvent",r,n.pageInstance,e)}))}}class Ht{constructor(e){this._featureCallCounts=new Map,this._pageInstance=e}get pageInstance(){return this._pageInstance}get featureCallCounts(){return this._featureCallCounts}}class Gt{constructor(e){this.featureMetricIdentifier=e}}function Wt(e){return JSON.stringify(e,Object.keys(e).sort())}class Yt extends Ht{trackSuccessfulFeatureApiCall(e){this.trackMetric(e,(e=>{e.successfulApiCallsRatio+=1,e.totalApiCallCount++}))}trackFailedFeatureApiCall(e,n){this.trackMetric(e,(e=>{0===n?e.failedApiCallCount++:e.successfulApiCallsRatio+=n,e.totalApiCallCount++}))}trackRetriedFeatureApiCall(e,n){this.trackMetric(e,(e=>{e.retriedApiCallCount++,e.retriedSuccessfulCallsRatio+=n}))}trackRetriedSuccessfulFeatureApiCall(e){this.trackMetric(e,(e=>{e.successfulApiCallsRatio++,e.totalApiCallCount++}))}changeRetriedMetricsToTotal(){this.featureCallCounts.forEach((e=>e.changeCallCountsFromRetriedToTotal()))}trackMetric(e,n){const t=Wt(e)
if(this.featureCallCounts.has(t))n(this.featureCallCounts.get(t))
else{const r=new zt(e)
n(r),this.featureCallCounts.set(t,r)}}}class zt extends Gt{constructor(){super(...arguments),this.successfulApiCallsRatio=0,this.failedApiCallCount=0,this.totalApiCallCount=0,this.retriedApiCallCount=0,this.retriedSuccessfulCallsRatio=0}mergeCallCounts(e){return this.successfulApiCallsRatio+=e.successfulApiCallsRatio,this.failedApiCallCount+=e.failedApiCallCount,this.totalApiCallCount+=e.totalApiCallCount,this.retriedApiCallCount+=e.retriedApiCallCount,this.retriedSuccessfulCallsRatio+=e.retriedSuccessfulCallsRatio,this}changeCallCountsFromRetriedToTotal(){this.totalApiCallCount+=this.retriedApiCallCount,this.successfulApiCallsRatio+=this.retriedSuccessfulCallsRatio,0===this.successfulApiCallsRatio&&(this.failedApiCallCount+=1),this.retriedApiCallCount=0,this.retriedSuccessfulCallsRatio=0}}class Xt{flushMetrics(){const e=[...this.metrics.values()]
return this.metrics=new Map,e}}class Qt extends Xt{constructor(){super(...arguments),this.metrics=new Map}incrementSuccessfulFeatureApiCall(e,n){this.incrementMetric(n,(n=>n.trackSuccessfulFeatureApiCall(e)))}incrementFailedFeatureApiCall(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this.incrementMetric(n,(n=>n.trackFailedFeatureApiCall(e,t)))}incrementRetriedFeatureApiCall(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this.incrementMetric(n,(n=>n.trackRetriedFeatureApiCall(e,t)))}incrementRetriedSuccessfulApiCall(e,n){this.incrementMetric(n,(n=>n.trackRetriedSuccessfulFeatureApiCall(e)))}mergeMetricsFrom(e){e.metrics.forEach(((e,n)=>{const t=this.metrics.get(n)
void 0!==t?e.featureCallCounts.forEach(((e,r)=>{var i
let a=t.featureCallCounts.get(r)
void 0!==a?a=a.mergeCallCounts(e):null===(i=this.metrics.get(n))||void 0===i||i.featureCallCounts.set(n,e)})):this.metrics.set(n,e)}))}changeRetriedMetricsToTotal(){this.metrics.forEach((e=>e.changeRetriedMetricsToTotal()))}incrementMetric(e,n){const t=Wt(e)
if(this.metrics.has(t))n(this.metrics.get(t))
else{const r=new Yt(e)
n(r),this.metrics.set(t,r)}}}function Jt(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}var Zt
!function(e){e.ProductName="productName",e.AdditionalDegradedResponseCodes="additionalDegradedResponseCodes",e.NonDegradedResponseCodes="nonDegradedResponseCodes",e.DegradationKeyOverrides="degradationKeyOverrides",e.ClientSensorGroupName="clientSensorGroupName",e.EnablePerformanceMeasurement="enablePerformanceMeasurement",e.CustomTrackingId="customTrackingId",e.DisableAvailabilityCalculation="disableAvailabilityCalculation",e.EnableSessionRecording="enableSessionRecording"}(Zt||(Zt={}))
const er=new Set(Object.values(Zt))
class nr extends Error{constructor(e){super(e),Object.setPrototypeOf(this,nr.prototype)}}function tr(e){return 0===e.length||!e.trim()}function rr(e){if("string"!=typeof e)throw new nr(`The product name must be a string. ${Vt}.`)
if(tr(e))throw new nr(`No product name was specified. Please configure a defaultProductName or specify it per instrumented API call. ${Vt}.`)
if(/[^a-zA-Z0-9-_ \\/]/.test(e))throw new nr(`Product name '${e}' can only contain alphanumeric, underscores (_), spaces ( ), dashes (-) and forward slashes (/). ${Vt}.`)
return e}function ir(e){if("string"!=typeof e)throw new nr(`Keys must be strings. ${Vt}.`)
if(tr(e))throw new nr(`Keys should not be blank. ${Vt}.`)
if(/[^a-z0-9-]/.test(e))throw new nr(`'${e}' can only contain lowercase alphanumeric characters and dashes (-). ${Vt}.`)
return e}class ar{constructor(e,n,t){var r,i,a
if(this._shouldEnablePerformanceMeasurement=!1,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._featureKey=ir(e),this._defaultDegradationKey=ir(n),!t)return this._additionalDegradedResponseCodes=[],this._nonDegradedResponseCodes=[],void(this._degradationKeyOverrides=[])
if("object"!=typeof t)throw new nr(`DegradationTrackingMetadata options should be an object. ${Vt}.`)
const o=t.productName
o&&(this._productName=rr(o))
const s=t.additionalDegradedResponseCodes,c=t.nonDegradedResponseCodes
!function(e,n){const t=(e,n)=>{if(!Jt(e)||e<=0||e>999)throw new nr(`Please only specify positive integer response codes between 1 and 999 for the ${n} option. ${e} was specified. ${Vt}.`)
if(429===e||999===e)throw new nr(`PEM does not consider 429 and 999 API responses indications of the real member experience because it represents LinkedIn throttling abusive requests. We drop 429s and 999s by default, so please remove them from your ${n} options.`)
if(n===Zt.NonDegradedResponseCodes&&e>=400&&e<500)throw new nr(`For server responses that have a status code, PEM does not consider 4xx as degraded. ${e} is not considered a degradation unless you explicitly add it to the ${Zt.AdditionalDegradedResponseCodes} option. Please remove ${e} from the ${Zt.NonDegradedResponseCodes} option. ${Vt}.`)}
if(void 0!==e&&!Array.isArray(e))throw new nr(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that shouldn't be counted as degraded for the ${Zt.NonDegradedResponseCodes} option. ${Vt}.`)
if(void 0!==n&&!Array.isArray(n))throw new nr(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that should only be considered as the degraded state(s) for the ${Zt.AdditionalDegradedResponseCodes} option. ${Vt}.`)
e&&e.forEach((e=>t(e,Zt.NonDegradedResponseCodes))),n&&n.forEach((e=>t(e,Zt.AdditionalDegradedResponseCodes)))}(c,s),this._nonDegradedResponseCodes=c||[],this._additionalDegradedResponseCodes=s||[],this._degradationKeyOverrides=t.degradationKeyOverrides||[],this._clientSensorGroupName=t.clientSensorGroupName,this._shouldEnablePerformanceMeasurement=null!==(r=t.enablePerformanceMeasurement)&&void 0!==r&&r,this._customTrackingId=t.customTrackingId,this._shouldDisableAvailabilityCalculation=null!==(i=t.disableAvailabilityCalculation)&&void 0!==i&&i,this._shouldRecordSession=null!==(a=t.enableSessionRecording)&&void 0!==a&&a,function(e){Object.keys(e).forEach((e=>{if(!er.has(e))throw new nr(`An unsupported degradation tracking option '${e}' was provided. Please fix or remove it. ${Vt}`)}))}(t)}static isDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(ar.prototype).every((n=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),n)))}get featureKey(){return this._featureKey}get defaultDegradationKey(){return this._defaultDegradationKey}get degradationKey(){return this._defaultDegradationKey}get productName(){return this._productName}get additionalDegradedResponseCodes(){return this._additionalDegradedResponseCodes}get nonDegradedResponseCodes(){return this._nonDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationKeyOverrides}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._shouldEnablePerformanceMeasurement}get customTrackingId(){return this._customTrackingId}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}}class or{constructor(e){this._degradationTrackingMetadata=e,this._featureMetricStore=new Qt,this._lastRequestMetricStore=new Qt,this._requestsMade=0,this._trackingId=qt()}static isRetryableDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(or.prototype).every((n=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),n)))}get degradationTrackingMetadata(){return this._degradationTrackingMetadata}get featureMetricStore(){return this._featureMetricStore}get currentRequestSequenceId(){return this._requestsMade-1}get flowTrackingId(){return this._trackingId}get shouldDisableAvailabilityCalculation(){return this._degradationTrackingMetadata.shouldDisableAvailabilityCalculation}get featureKey(){return this._degradationTrackingMetadata.featureKey}get defaultDegradationKey(){return this._degradationTrackingMetadata.defaultDegradationKey}get productName(){return this._degradationTrackingMetadata.productName}get nonDegradedResponseCodes(){return new Set(this._degradationTrackingMetadata.nonDegradedResponseCodes)}get additionalDegradedResponseCodes(){return this._degradationTrackingMetadata.additionalDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationTrackingMetadata.degradationKeyOverrides}get customTrackingId(){return this._degradationTrackingMetadata.customTrackingId}get clientSensorGroupName(){return this._degradationTrackingMetadata.clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._degradationTrackingMetadata.shouldEnablePerformanceMeasurement}incrementRetriedFeatureApiCall(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0
this._requestsMade++,this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),this._lastRequestMetricStore.flushMetrics(),this._lastRequestMetricStore.incrementRetriedFeatureApiCall(e,n,t)}incrementRetriedSuccessfulApiCall(e,n){this._requestsMade++,this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),this._lastRequestMetricStore.flushMetrics(),this._lastRequestMetricStore.incrementRetriedSuccessfulApiCall(e,n)}flushMetricStoreToServiceStore(e){this._lastRequestMetricStore.changeRetriedMetricsToTotal(),this._featureMetricStore.mergeMetricsFrom(this._lastRequestMetricStore),e.mergeMetricsFrom(this._featureMetricStore),this._featureMetricStore.flushMetrics(),this._lastRequestMetricStore.flushMetrics()}}var sr
!function(e){e.ProductName="productName",e.CustomTrackingId="customTrackingId",e.ClientSensorGroupName="clientSensorGroupName",e.AdditionalDegradedResponseCodes="additionalDegradedResponseCodes",e.NonDegradedResponseCodes="nonDegradedResponseCodes",e.DegradationKeyOverrides="degradationKeyOverrides",e.ShouldDisableDegradationTracking="shouldDisableDegradationTracking",e.EnablePerformanceMeasurement="enablePerformanceMeasurement"}(sr||(sr={}))
const cr=new Set(Object.values(sr))
class dr{constructor(e,n,t){if(!t)return void(this._degradationTrackingMetadata=new ar(e,n,{nonDegradedResponseCodes:[],additionalDegradedResponseCodes:[],degradationKeyOverrides:[]}))
if("object"!=typeof t)throw new nr(`FailureTrackingMetadata options should be an object. ${Vt}.`)
const r=t.additionalDegradedResponseCodes,i=t.nonDegradedResponseCodes
this.validateResponseCodes(r,i)
const a={productName:t.productName,additionalDegradedResponseCodes:t.additionalDegradedResponseCodes,nonDegradedResponseCodes:t.nonDegradedResponseCodes,degradationKeyOverrides:t.degradationKeyOverrides,clientSensorGroupName:t.clientSensorGroupName,customTrackingId:t.customTrackingId,enablePerformanceMeasurement:t.enablePerformanceMeasurement}
this._degradationTrackingMetadata=new ar(e,n,a),function(e){Object.keys(e).forEach((e=>{if(!cr.has(e))throw new nr(`An unsupported failure tracking option '${e}' was provided. Please fix or remove it. ${Vt}`)}))}(t)}static isFailureTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(dr.prototype).every((n=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),n)))}get featureKey(){return this._degradationTrackingMetadata.featureKey}get defaultDegradationKey(){return this._degradationTrackingMetadata.defaultDegradationKey}get productName(){return this._degradationTrackingMetadata.productName}get nonDegradedResponseCodes(){return new Set(this._degradationTrackingMetadata.nonDegradedResponseCodes)}get additionalDegradedResponseCodes(){return new Set(this._degradationTrackingMetadata.additionalDegradedResponseCodes)}get degradationKeyOverrides(){return this._degradationTrackingMetadata.degradationKeyOverrides}get customTrackingId(){return this._degradationTrackingMetadata.customTrackingId}get clientSensorGroupName(){return this._degradationTrackingMetadata.clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._degradationTrackingMetadata.shouldEnablePerformanceMeasurement}validateResponseCodes(e,n){const t=(e,n)=>{if(!Jt(e)||e<=0||e>999)throw new nr(`Please only specify positive integer response codes between 1 and 999 for the ${n} option. ${e} was specified. ${Vt}.`)
if(429===e||999===e)throw new nr(`PEM does not consider 429 and 999 API responses indications of the real member experience because it represents LinkedIn throttling abusive requests. We drop 429s and 999s by default, so please remove them from your ${n} options.`)
if(n===sr.NonDegradedResponseCodes&&(e<500||e>=600))throw new nr(`For server responses that have a status code, PEM does not consider non-5xx as degradations by default anymore. ${e} is not considered a degradation unless you explicitly add it to the ${sr.AdditionalDegradedResponseCodes} option. Please remove ${e} from the ${sr.NonDegradedResponseCodes} option. ${Vt}.`)}
if(void 0!==n&&!Array.isArray(n))throw new nr(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that shouldn't be counted as degraded for the ${sr.NonDegradedResponseCodes} option. ${Vt}.`)
if(void 0!==e&&!Array.isArray(e))throw new nr(`Please specify an array of positive integer response codes between 1 and 999 for the response codes that should also be considered as the degraded state(s) for the ${sr.AdditionalDegradedResponseCodes} option. ${Vt}.`)
null==n||n.forEach((e=>t(e,sr.NonDegradedResponseCodes))),null==e||e.forEach((e=>t(e,sr.AdditionalDegradedResponseCodes)))
const r=new Set(e),i=new Set(n)
if([...r].some((e=>i.has(e))))throw new nr(`Response codes can't be both degraded and non-degraded. Please ensure that your additionalDegradedResponseCodes and nonDegradedResponseCodes don't have any overlapping response codes. ${Vt}.`)}}class ur{constructor(e,n){if(this._additionalDegradedResponseCodes=new Set,this._degradationKeyByResponseCode=new Map,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._retryableTrackingMetadata=null,!or.isRetryableDegradationTrackingMetadata(e)&&!ar.isDegradationTrackingMetadata(e)&&!dr.isFailureTrackingMetadata(e))throw new nr("We encountered a bug where we forgot to provide the tracking metadata as an argument. Please report it to the #pem team.")
if(!n)throw new nr("We encountered a bug where we forgot to provide the product name as an argument. Please report it to the #pem team.")
this._featureKey=e.featureKey,this._productName=n,this._clientSensorGroupName=e.clientSensorGroupName,this._defaultDegradationKey=e.defaultDegradationKey
let t=ar.isDegradationTrackingMetadata(e)?e:void 0
or.isRetryableDegradationTrackingMetadata(e)&&(t=e.degradationTrackingMetadata,this._retryableTrackingMetadata=e),void 0!==t?(this._nonDegradedResponseCodes=new Set(t.nonDegradedResponseCodes),this._customTrackingId=t.customTrackingId,this._shouldDisableAvailabilityCalculation=t.shouldDisableAvailabilityCalculation,this._shouldRecordSession=t.shouldRecordSession,t.additionalDegradedResponseCodes.length&&(this.processAdditionalDegradedResponseCodes(e.additionalDegradedResponseCodes),this.initializeDegradationKeyOverrides(e.degradationKeyOverrides))):(this._nonDegradedResponseCodes=new Set(e.nonDegradedResponseCodes),this._customTrackingId=e.customTrackingId,this.processAdditionalDegradedResponseCodes(e.additionalDegradedResponseCodes),this.initializeDegradationKeyOverrides(e.degradationKeyOverrides))}getDegradationKey(e){return this._degradationKeyByResponseCode.has(e)?this._degradationKeyByResponseCode.get(e):this._defaultDegradationKey}get featureKey(){return this._featureKey}get productName(){return this._productName}get customTrackingId(){return this._customTrackingId}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}get retryableTrackingMetadata(){return this._retryableTrackingMetadata}get retryMetricStore(){var e,n
return void 0!==(null===(e=this._retryableTrackingMetadata)||void 0===e?void 0:e.featureMetricStore)?null===(n=this._retryableTrackingMetadata)||void 0===n?void 0:n.featureMetricStore:null}isCountedAgainstAvailability(e,n){return null!==e&&(null==n||this.canResponseCodeCountAgainstAvailability(n))}canResponseCodeCountAgainstAvailability(e){if(this._degradationKeyByResponseCode.has(e))return!0
if(this._additionalDegradedResponseCodes.has(e))return!0
const n=e>=400&&e<500,t=this._nonDegradedResponseCodes.has(e)
return!n&&!t}shouldImpactAvailability(e,n,t){return!(e&&"CLIENT_ABORTED"===e||"BLOCKED_BY_CLIENT_PROXY"===e||!(null==t?void 0:t.hasAnyLinkedInHeaders())&&n&&n>=400&&n<600||"TOO_MANY_REQUESTS"===e)}processAdditionalDegradedResponseCodes(e){e.forEach((e=>{if(this._nonDegradedResponseCodes.has(e))throw new nr(`You attempted to specify ${e} as an additional degraded response code for the '${this.featureKey}' feature, however it is also specified in the non-degraded response codes for that feature. Please decide whether you want to consider ${e} responses a degraded state or not. ${Vt}.`)
this._additionalDegradedResponseCodes.add(e)}))}initializeDegradationKeyOverrides(e){e.forEach((e=>{if(!e.responseCodesToOverride||!e.degradationKey||!Array.isArray(e.responseCodesToOverride)||"string"!=typeof e.degradationKey)throw new nr(`Degradation key overrides must consist of an array of responseCodesToOverride and a string degradationKey. ${Vt}.`)
new Set(e.responseCodesToOverride).forEach((n=>{if(!this.canResponseCodeCountAgainstAvailability(n))throw new nr(`A degradation key override was specified for ${n}, but that response code isn't considered degraded. Please add it to additionalDegradedResponseCodes if you want it to count against your availability.`)
this._degradationKeyByResponseCode.set(n,e.degradationKey)}))}))}}class lr{constructor(e){const n=new Map
null==e||e.forEach(((e,t)=>{n.set(t.toLowerCase(),e)})),this._callTreeId=n.get("x-li-uuid")||null,this._pointOfPresenceId=n.get("x-li-pop")||null,this._msEdgeRef=n.get("x-msedge-ref")||null,this._fabric=n.get("x-li-fabric")||null,this._responseMetadata=n.get("x-li-pem-resp-metadata")||null,this._downstreamAvailability=function(e){if(null==e)return null
const n=e.split(",")
for(const e of n){const n=e.split("=",2)
if(2===n.length&&"availability"===n[0]){const e=parseFloat(n[1])
if(e>=0&&e<=1)return e}}return null}(this._responseMetadata)||1}get callTreeId(){return this._callTreeId}get pointOfPresenceId(){return this._pointOfPresenceId}get microsoftEdgeReference(){return this._msEdgeRef}get fabric(){return this._fabric}get downstreamAvailability(){return this._downstreamAvailability}hasAnyLinkedInHeaders(){return!!(this._fabric||this._pointOfPresenceId||this._msEdgeRef||this._callTreeId)}}class pr{constructor(e,n,t,r){this._responseCode=e||null,this._parsedResponseHeaders=n?new lr(n):new lr,this._responseError=t||null,this._downstreamServiceErrorCode=r}get responseCode(){return this._responseCode}get parsedHeaders(){return this._parsedResponseHeaders}get responseError(){return this._responseError}set responseError(e){this._responseError=e}get downstreamServiceErrorCode(){return this._downstreamServiceErrorCode}set downstreamServiceErrorCode(e){this._downstreamServiceErrorCode=e}}class fr{constructor(e,n,t){this._featureMetricStore=new Qt,this._defaultProductName=e,this._fireEventCallback=n,this._jetErrorCallback=t,this._metricSender=new Kt(this._featureMetricStore,n),window.setInterval((()=>this._metricSender.produceMetricEvent()),6e4),window.addEventListener("visibilitychange",(()=>{"hidden"===document.visibilityState&&this._metricSender.produceMetricEvent(!0)}))}trackFeatureDegradationsForFetch(e,n,t,r,i){let a,o=null
const s=new Map,c=this._createFailureProcessingMetadata(t)
return n=this._getAndValidateUrlEntityIDs(n),r.then((e=>{o=e.status,e.headers.forEach(((e,n)=>s.set(n.toLowerCase(),e))),!1===e.ok&&(a=e)})).catch((e=>{throw a=e,e})).finally((()=>{this._trackResponse(e,o,n,c,i,s,a)}))}trackFeatureDegradationsForJQueryAjax(e,n,t,r,i,a){const o=n.status,s=n.getAllResponseHeaders(),c=new Map
s&&s.trim().split(/[\r\n]+/).forEach((e=>{const n=e.split(": "),t=n.shift()
if(t){const e=n.join(": ")
c.set(t.toLowerCase(),e)}}))
const d=a?null:n,u=this._createFailureProcessingMetadata(r)
t=this._getAndValidateUrlEntityIDs(t),this._trackResponse(e,o,t,u,i,c,d)}startRetryFlow(e){return fr.startRetryFlow(e)}static startRetryFlow(e){return new or(e)}completeRetryFlow(e){if(!or.isRetryableDegradationTrackingMetadata(e))throw new nr("retryFlowMetadata must be an instance of RetryableDegradationTrackingMetadata")
e.flushMetricStoreToServiceStore(this._featureMetricStore)}_trackResponse(e,n,t,r,i,a,o){const s=new pr(n,a,o),c=s.parsedHeaders,d=function(e){const n=e.responseError,t=e.parsedHeaders,r=e.responseCode
if(r){if(429===r||999===r)return"TOO_MANY_REQUESTS"
if(t&&!t.hasAnyLinkedInHeaders()&&r&&r>=400&&r<600)return"BLOCKED_BY_CLIENT_PROXY"
if((i=r)>=400&&i<500)return function(e){return 429===e?"TOO_MANY_REQUESTS":"CLIENT_ERROR"}(r)
if(function(e){return e>=500&&e<600}(r))return function(e){if(e){if(e.fabric)return"SERVER_ERROR"
if(e.pointOfPresenceId)return"TRAFFIC_L0_TO_L1_ERROR"
if(e.microsoftEdgeReference)return"TRAFFIC_AFD_TO_L0_ERROR"}return"SERVER_ERROR"}(t)
if(function(e,n){return!!(e>=200&&e<300&&n&&n.downstreamAvailability<1)}(r,t))return"DOWNSTREAM_GRACEFUL_DEGRADATION"}var i
if(!n)return null
if(n instanceof Error){if("AbortError"===n.name)return"CLIENT_ABORTED"
if(n instanceof TypeError&&(n.message.indexOf("Network request failed")>=0||n.message.indexOf("NetworkError when attempting to fetch resource")>=0||n.message.indexOf("Failed to fetch")>=0))return"NETWORK_ERROR"}else{if("timeout"===n.statusText)return"CLIENT_TIMEOUT"
if(0===n.status&&"abort"===n.statusText)return"CLIENT_ABORTED"
if("readyState"in n&&0===n.readyState)return"NETWORK_ERROR"}return"UNCLASSIFIED"}(s),u=function(e,n){if(!e.includes("/"))return e
const t=function(e){const n=document.createElement("a")
return n.href=e,n.pathname}(e).split("/").filter((e=>e.length))
if(!n.length)return t.join("/")
const r=[]
for(let e=t.length-1;e>=0;e--){const i=t[e],a=n.indexOf(i)
a>=0?n.splice(a,1):r.push(i)}return r.reverse().join("/")}(e,t),l=new Set,p=new Set
r.forEach((e=>{l.add(e.productName),p.add(e.featureKey)
const t=null!==e.retryableTrackingMetadata&&null!==e.retryMetricStore
!e.shouldDisableAvailabilityCalculation&&e.shouldImpactAvailability(d)&&(e.isCountedAgainstAvailability(d,n)?(t?e.retryableTrackingMetadata.incrementRetriedFeatureApiCall.bind(e.retryableTrackingMetadata):this._featureMetricStore.incrementFailedFeatureApiCall.bind(this._featureMetricStore))({featureKey:e.featureKey,productName:e.productName,pointOfPresenceId:c.pointOfPresenceId,responseErrorType:d,responseFabric:c.fabric},i,function(e,n){return"DOWNSTREAM_GRACEFUL_DEGRADATION"===e?n.downstreamAvailability:0}(d,c)):(t?e.retryableTrackingMetadata.incrementRetriedSuccessfulApiCall.bind(e.retryableTrackingMetadata):this._featureMetricStore.incrementSuccessfulFeatureApiCall.bind(this._featureMetricStore))({featureKey:e.featureKey,productName:e.productName,pointOfPresenceId:c.pointOfPresenceId,responseFabric:c.fabric},i))})),d&&(this._reportErrorIfUnclassified(o,d,n,l,p),function(e,n,t,r){if(!(null==e?void 0:e.trim())||!n||!Array.isArray(n))return[]
const i=[],a=r.responseCode
return n.forEach((n=>{const o=n.getDegradationKey(a),s=n.shouldImpactAvailability(t)&&n.isCountedAgainstAvailability(t,a),c={endpointPath:e,degradationKey:o,responseErrorTypeV2:t,isCountedAgainstAvailability:s,downstreamServiceErrorCode:r.downstreamServiceErrorCode}
a&&(c.responseCode=a)
const d=r.parsedHeaders
d.callTreeId&&(c.responseCallTreeId=d.callTreeId),(null==d?void 0:d.pointOfPresenceId)&&(c.pointOfPresenceId=d.pointOfPresenceId),(null==d?void 0:d.microsoftEdgeReference)&&(c.microsoftEdgeReference=d.microsoftEdgeReference),(null==d?void 0:d.fabric)&&(c.fabric=d.fabric),or.isRetryableDegradationTrackingMetadata(n.retryableTrackingMetadata)&&(c.retryDetails={trackingId:n.retryableTrackingMetadata.flowTrackingId,sequenceId:n.retryableTrackingMetadata.currentRequestSequenceId,maxAttempts:0}),i.push({header:{},requestHeader:{},productName:n.productName,featureKey:n.featureKey,failedDownstreamRequests:[c],customTrackingId:n.customTrackingId})})),i}(u,r,d,s).forEach((e=>{this._fireEventCallback("FeatureDegradeEvent",e,i)})))}_reportErrorIfUnclassified(e,n,t,r,i){var a
if((0===t||null==t)&&"UNCLASSIFIED"===n){const n=["noise","pem-unclassified-error"]
let t
r.forEach((e=>n.push(`pem-product-${e}`))),i.forEach((e=>n.push(`pem-feature-${e}`))),t=e instanceof Error?e:new Error(`Could not classify jQuery response: ${JSON.stringify(e)}`),null===(a=this._jetErrorCallback)||void 0===a||a.call(this,t,n,!1)}}_createFailureProcessingMetadata(e){if(!e||!Array.isArray(e)||!e.length)throw new nr(`Please specify a non-empty array of degradation tracking metadata. ${Vt}.`)
const n=new Set
return e.map((e=>{if(!ar.isDegradationTrackingMetadata(e)&&!or.isRetryableDegradationTrackingMetadata(e))throw new nr(`Please use DegradationTrackingMetadata or RetryableDegradationTrackingMetadata to specify the degradations. ${Vt}.`)
const t=rr(e.productName||this._defaultProductName),r=`${t}!!${e.featureKey}`
if(n.has(r))throw new nr("More than one degradation tracking metadata has the same productName/featureKey combination. Please merge them together")
return n.add(r),new ur(e,t)}))}_getAndValidateUrlEntityIDs(e){if(!Array.isArray(e))throw new nr(`Please specify the queried IDs to remove from the request URL, or use an empty array if there are none. ${Vt}.`)
return e}}function mr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var yr="function"==typeof Symbol&&Symbol.observable||"@@observable",hr=function(){return Math.random().toString(36).substring(7).split("").join(".")},gr={INIT:"@@redux/INIT"+hr(),REPLACE:"@@redux/REPLACE"+hr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+hr()}}
function vr(e,n,t){var r
if("function"==typeof n&&"function"==typeof t||"function"==typeof t&&"function"==typeof arguments[3])throw new Error(mr(0))
if("function"==typeof n&&void 0===t&&(t=n,n=void 0),void 0!==t){if("function"!=typeof t)throw new Error(mr(1))
return t(vr)(e,n)}if("function"!=typeof e)throw new Error(mr(2))
var i=e,a=n,o=[],s=o,c=!1
function d(){s===o&&(s=o.slice())}function u(){if(c)throw new Error(mr(3))
return a}function l(e){if("function"!=typeof e)throw new Error(mr(4))
if(c)throw new Error(mr(5))
var n=!0
return d(),s.push(e),function(){if(n){if(c)throw new Error(mr(6))
n=!1,d()
var t=s.indexOf(e)
s.splice(t,1),o=null}}}function p(e){if(!function(e){if("object"!=typeof e||null===e)return!1
for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n)
return Object.getPrototypeOf(e)===n}(e))throw new Error(mr(7))
if(void 0===e.type)throw new Error(mr(8))
if(c)throw new Error(mr(9))
try{c=!0,a=i(a,e)}finally{c=!1}for(var n=o=s,t=0;t<n.length;t++)(0,n[t])()
return e}return p({type:gr.INIT}),(r={dispatch:p,subscribe:l,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw new Error(mr(10))
i=e,p({type:gr.REPLACE})}})[yr]=function(){var e,n=l
return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(mr(11))
function t(){e.next&&e.next(u())}return t(),{unsubscribe:n(t)}}})[yr]=function(){return this},e},r}function _r(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
return 0===n.length?function(e){return e}:1===n.length?n[0]:n.reduce((function(e,n){return function(){return e(n.apply(void 0,arguments))}}))}var br=function(e,n,t){},Tr=function(e){return function(n,t,r,i){e(n,t)}},Er=function(e){var n,t=null!==(n=e.trackingOptions)&&void 0!==n?n:{},r=t.pemPrefix,i=t.trackingFireEvent
return void 0!==r&&void 0!==i?function(e,n,t){var r={READ:new fr("".concat(e," - Read"),Tr(t),br),WRITE:new fr("".concat(e," - Send"),Tr(t),br),SEARCH:new fr("".concat(e," - Search"),Tr(t),br)}
return function(e,t,i,a){return function(o){var s,c=(null!=a?a:{}).pageInstance
if(c){var d=[new ar(n[t],"failed-to-".concat((s=i,s.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})))))],u=new Promise((function(e,n){o.then((function(n){return e(n.response)})).catch(n)}))
return r[t].trackFeatureDegradationsForFetch(e,[],d,u,c).then((function(){return o}))}return o}}}(r,{READ:"messaging-conversation-load-module",WRITE:"messaging-conversation-send-module",SEARCH:"messaging-conversation-search-module"},i):function(){return function(e){return e}}},Ar=function(e,n,t,r){return function(){return _r(e.track(n,"READ",t,r),Yn)(n)}},Sr=function(e,n,t,r){return function(i){return _r(e.track(n,"WRITE",t,r),zn)(n,i)}},Cr=function(e){return function(n){return Promise.reject(Xe.fromApiErrorMemo("NETWORK_ERROR",{cause:n,msg:e}))}}
var kr,Ir=function(e){return function(n){var t=n.response,r=n.requestId
return t?t.ok?t.json().then((function(e){return function(e){return function(e){return null!==e&&"object"===a(e)&&!Array.isArray(e)}(e)&&"value"in e&&1===Object.keys(e).length}(e)?e.value:e})).then(function(e){return function(n){return i(i({},n),{},{requestId:e})}}(r)).catch((function(n){return Promise.reject(Xe.fromApiErrorMemo("RESPONSE_INVALID_JSON",{cause:n,msg:e}))})):t.json().catch((function(e){return Promise.reject(new Xe("api",t.status,t.statusText,e))})).then((function(n){return Qe("".concat(e," failed"),n,t.status)})):Promise.reject(Xe.fromApiErrorMemo("NO_RESPONSE_RECEIVED",{msg:e}))}},Rr=function(e){return function(n){var t=n.response,r=n.requestId
return t?t.ok?Promise.resolve({requestId:r}):t.json().then((function(n){return Qe("".concat(e," failed"),n,t.status)})):Promise.reject(Xe.fromApiErrorMemo("NO_RESPONSE_RECEIVED",{msg:e}))}},xr=function(e,n,t,r){var i="getConversationById",a=Tt(e,{messengerConversationsId:n,count:t}),o=Ir(i)
return Ar(e,a,i,r)().catch(Cr(i)).then(o)},wr=function(e,n,t,r){var i="getSyncMessagesByConversationId",a={conversationUrn:n,syncToken:t}
t||delete a.syncToken
var o=Mt(e,a),s=Ir(i)
return Ar(e,o,i,r)().catch(Cr(i)).then(s)},Or=function(e,n,t){var r="initialSyncConversations",i=Et(e,{mailboxUrn:n}),a=Ir(r)
return Ar(e,i,r,t)().catch(Cr(r)).then(a)},Mr={category:"INBOX",count:20},Nr=function(e,n,t,r){var i="findConversationsByRecipients",a=Ct(e,{mailboxUrn:n,recipients:t}),o=Ir(i)
return Ar(e,a,i,r)().catch(Cr(i)).then(o)},Pr=function(e,n,t,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7?arguments[7]:void 0,c="findConversationsBySearchCriteria",d={categories:t,count:20,firstDegreeConnections:i,mailboxUrn:n}
void 0!==a&&(d.read=a),null!==o&&(d.nextCursor=o),r&&r.trim().length>0&&(d.keywords=r)
var u=kt(e,d),l=Ir(c)
return function(e,n,t,r){return function(){return _r(e.track(n,"SEARCH",t,r),Yn)(n)}}(e,u,c,s)().catch(Cr(c)).then(l)},Dr=function(e,n,t){var r="updateConversation",i=Rr(r),a=function(e,n){var t="messengerConversations/".concat(encodeURIComponent(n))
return Ln("restli",e.messengerResource,t)}(e,n)
return zn(a,t).catch(Cr(r)).then(i)},Ur=function(e,n,t){var r=JSON.stringify({patch:{$set:t}})
return Dr(e,n,r)},Lr=function(e,n){var t="activateTypingStatus",r=JSON.stringify({conversationUrn:n}),i=Rr(t),a=function(e){return Ln("restli",e.messengerResource,"messengerConversations",{action:"typing"})}(e)
return zn(a,r).catch(Cr(t)).then(i)},Fr=function(e,n,t,r,a,o,s){var c,d,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"NOT_DEDUPE",l="sendMessageToConversation",p=null!==(c=null==s?void 0:s.renderContent)&&void 0!==c?c:void 0,f=null!==(d=null==s?void 0:s.messageSubject)&&void 0!==d?d:void 0,m=i({},s)
m=N(m,"renderContent"),m=N(m,"messageSubject")
var y=i({message:{body:r,subject:f,renderContentUnions:p,conversationUrn:t,originToken:a},mailboxUrn:n,trackingId:o.trackingId,dedupeByClientGeneratedToken:"DEDUPE"===u},m),h=JSON.stringify(y),g=Ir(l),v=function(e){return Ln("restli",e.messengerResource,"messengerMessages",{action:"createMessage"})}(e)
return Sr(e,v,l,o)(h).catch(Cr(l)).then(g)},jr=function(e,n,t,r,a,o,s){var c,d,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"NOT_DEDUPE",l="sendFirstMessageToRecipients",p=null!==(c=null==s?void 0:s.renderContent)&&void 0!==c?c:void 0,f=null!==(d=null==s?void 0:s.messageSubject)&&void 0!==d?d:void 0,m=i({},s)
delete m.renderContent,delete m.messageSubject
var y=i({message:{body:t,subject:f,originToken:r,renderContentUnions:p},mailboxUrn:n,trackingId:o.trackingId,dedupeByClientGeneratedToken:"DEDUPE"===u,hostRecipientUrns:a},m),h=JSON.stringify(y),g=Ir(l),v=function(e){return Ln("restli",e.messengerResource,"messengerMessages",{action:"createMessage"})}(e)
return Sr(e,v,l,o)(h).catch(Cr(l)).then(g)}
kr=Symbol.iterator
var Br,qr=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]
o(this,e),d(this,"_idx",0),d(this,"_messages",[]),d(this,"_clientIdIndex",new Map),d(this,"_entityUrnIndex",new Map),this._messages=un(n),this._clientIdIndex=new Map(n.map((function(e){return[e.clientId,e]}))),this._entityUrnIndex=new Map(n.filter(E).map((function(e){return[e.entityUrn,e]})))}return c(e,[{key:"length",get:function(){return this._messages.length}},{key:"at",value:function(e){if(e>=0&&e<this._messages.length)return this._messages[e]
throw new Error("Index out of bounds")}},{key:"getByIdentifier",value:function(e){return $(e)?this._entityUrnIndex.get(e):this._clientIdIndex.get(e)}},{key:"next",value:function(){return this._idx<this._messages.length?{done:!1,value:this._messages[this._idx++]}:(this._idx=0,{done:!0,value:null})}},{key:"first",value:function(){try{return this.at(0)}catch(e){return}}},{key:"last",value:function(){try{return this.at(this.length-1)}catch(e){return}}},{key:kr,value:function(){return this}},{key:"map",value:function(e){return Array.from(this,e)}},{key:"updateAny",value:function(n,t){return new e(S(n,t,this._messages))}},{key:"updateByUrn",value:function(n,t){return this._entityUrnIndex.has(n)?new e(S(rn(n),cn(t),this._messages)):this}},{key:"updateByClientId",value:function(n,t){return this._clientIdIndex.has(n)?new e(S(an(n),cn(t),this._messages)):this}},{key:"add",value:function(n){var t=this,r=n.filter(_r(x,hn(this._entityUrnIndex,this._clientIdIndex))).map((function(e){return t._clientIdIndex.has(e.clientId)?i(i({},e),{},{clientId:qt()}):e})),a=n.filter(hn(this._entityUrnIndex,this._clientIdIndex)).map((function(e){return cn(e)(t.getByIdentifier(e.entityUrn||e.clientId))})),o=new Map(a.map((function(e){return[e.clientId,!0]}))),s=this._messages.filter((function(e){return!o.has(e.clientId)}))
return new e([].concat(g(s),g(a),g(r)))}},{key:"removeByClientId",value:function(n){var t=this._messages.filter((function(e){return e.clientId!==n}))
return[this._clientIdIndex.get(n),new e(t)]}},{key:"removeByUrns",value:function(n){return new e(this._messages.filter((function(e){return e.entityUrn&&!n.has(e.entityUrn)})))}}]),e}(),Vr={continueOnFailure:!0,convCount:20,decorators:{},headers:function(){return{}},graphQlQueryIds:{},messengerResource:{host:"/",path:"messenger/api/",graphQLPrefix:"",restliPrefix:""},mpName:"web-messenger-data",mpVersion:"1.0.0",msgCount:20,queryFormat:"id",realtimeHost:null,sendRetryTimeoutInSecond:16,syncRetryTimeoutInSecond:80,typingIndicatorDelayInSecond:5,enableParameterTypeChecks:!0},$r=function(e){return e?e.filter(E):[]},Kr=function(e){var n,t,r,i=new Date
return{additionalData:e.additionalData||null,backendConversationUrn:e.backendConversationUrn,backendUrn:e.backendUrn,clientId:null!==(n=e.clientId)&&void 0!==n?n:qt(),content:e.content,deliveredAt:e.deliveredAt?new Date(e.deliveredAt):i,entityUrn:e.entityUrn,inlineWarning:null!==(t=e.inlineWarning)&&void 0!==t?t:void 0,lastActivityAt:i,messageBodyRenderFormat:e.messageBodyRenderFormat||"DEFAULT",optionalSendData:null!==(r=e.optionalSendData)&&void 0!==r?r:{renderContent:[]},reactions:Hr(e.reactions),retries:e.retries||0,senderUrn:e.senderUrn,status:e.status||"Pending",subject:e.subject}},Hr=function(e){return(e||[]).filter(E).map((function(e){return i(i({},e),{},{reactors:[]})}))},Gr=function(e){var n,t,r,i,a,o,s,c,d,u,l,p
return{backendUrn:e.backendUrn,categories:e.categories,contentMetadata:null!==(n=e.contentMetadata)&&void 0!==n?n:void 0,conversationTypeText:null!==(t=e.conversationTypeText)&&void 0!==t?t:void 0,conversationUrl:e.conversationUrl,createdAt:new Date(e.createdAt),creatorHostIdentityUrn:null===(r=e.creator)||void 0===r?void 0:r.hostIdentityUrn,disabledFeatures:null!==(i=e.disabledFeatures)&&void 0!==i?i:[],groupChat:null!==(a=e.groupChat)&&void 0!==a&&a,headlineText:null!==(o=e.headlineText)&&void 0!==o?o:void 0,hostConversationActions:e.hostConversationActions,lastActivityAt:new Date(e.lastActivityAt),lastReadAt:e.lastReadAt?new Date(e.lastReadAt):void 0,metadata:{},notificationStatus:e.notificationStatus,participants:(null!==(s=e.conversationParticipants)&&void 0!==s?s:[]).filter(E).map((function(e){return e.hostIdentityUrn})).filter(E).sort(),quickReplies:null!==(c=e.quickReplies)&&void 0!==c?c:[],read:e.read,seenReceiptsMap:null!==(d=e.seenReceiptsMap)&&void 0!==d?d:{},shortHeadlineText:null!==(u=e.shortHeadlineText)&&void 0!==u?u:void 0,state:null!==(l=e.state)&&void 0!==l?l:void 0,status:{},title:null!==(p=e.title)&&void 0!==p?p:void 0,unreadCount:e.unreadCount}},Wr=function(e,n,t){var r=new Date(Date.now())
return{clientId:qt(),content:null!=n?n:{text:"",attributes:[]},lastActivityAt:r,optionalSendData:null!=t?t:{renderContent:[]},senderUrn:e,status:"Draft"}},Yr=function(e){return i(i({},e),{},{additionalData:null,deliveredAt:new Date(Date.now()),messageBodyRenderFormat:"DEFAULT",reactions:[],retries:0,status:"Pending"})},zr=function(e){var n,t=new Date
return{clientId:e.clientId,content:e.content,optionalSendData:e.optionalSendData,lastActivityAt:null!==(n=e.lastActivityAt)&&void 0!==n?n:t,senderUrn:e.senderUrn,status:"Draft"}},Xr=function(e){return g(e?e.map((function(e){return Jr(e)})):[])},Qr=function(e,n,t){var r,i,a,o,s,c,d,u,l,p,f,m
if(!e.entityUrn)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"conversationResponseToState: convoResponse.entityUrn is null or undefined"})
var y=e.creator&&e.creator.hostIdentityUrn?Jr(e.creator):void 0,h=null!==(r=null===(i=e.messages)||void 0===i?void 0:i.elements)&&void 0!==r?r:[],g=ii(h),v=g.messages,_=g.participants,b=Xr(e.conversationParticipants),T=null===(a=e.conversationParticipants)||void 0===a?void 0:a.map((function(e){return e.hostIdentityUrn})),E=En(_,b),A=E
b.length!==E.length&&(A=E.filter((function(e){return null==T?void 0:T.includes(e.hostIdentityUrn)})))
var S=null!==(o=null===(s=e.creator)||void 0===s?void 0:s.hostIdentityUrn)&&void 0!==o?o:void 0,C={additionalData:null,backendUrn:e.backendUrn,categories:e.categories,clientId:qt(),contentMetadata:null!==(c=e.contentMetadata)&&void 0!==c?c:void 0,conversationTypeText:null!==(d=e.conversationTypeText)&&void 0!==d?d:void 0,conversationUrl:e.conversationUrl,createdAt:new Date(e.createdAt),creatorHostIdentityUrn:S,disabledFeatures:e.disabledFeatures,draftMessage:n,entityUrn:e.entityUrn,groupChat:null!==(u=e.groupChat)&&void 0!==u&&u,headlineText:null!==(l=e.headlineText)&&void 0!==l?l:void 0,lastActivityAt:new Date(e.lastActivityAt),lastReadAt:e.lastReadAt?new Date(e.lastReadAt):void 0,matchingSearches:t?[t]:[],messages:new qr(v),quickReplies:[],metadata:{prevCursor:e.prevCursor,syncToken:void 0},notificationStatus:e.notificationStatus,participants:A.map((function(e){return e.hostIdentityUrn})).sort(),read:e.read,shortHeadlineText:null!==(p=e.shortHeadlineText)&&void 0!==p?p:void 0,state:null!==(f=e.state)&&void 0!==f?f:void 0,status:{fullyLoaded:!1,loading:!1,sending:"Ready"},title:null!==(m=e.title)&&void 0!==m?m:void 0,typingUrns:new Set,unreadCount:e.unreadCount,hostConversationActions:e.hostConversationActions}
return y&&!E.find((function(e){return e.hostIdentityUrn===y.hostIdentityUrn}))&&E.push(y),[C,E]},Jr=function(e){var n,t,r
if(!e.hostIdentityUrn)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"messageParticipantDataToState: hostIdentityUrn is missing"})
if(null!==(n=e.participantType)&&void 0!==n&&n.member||null!==(t=e.participantType)&&void 0!==t&&t.organization||null!==(r=e.participantType)&&void 0!==r&&r.custom){var i=e.participantType,a=i.member,o=i.organization,s=i.custom
if(s)return{kind:"CUSTOM",additionalData:null,clientId:qt(),entityUrn:e.entityUrn,hostIdentityUrn:e.hostIdentityUrn,backendUrn:e.backendUrn,name:s.name,image:s.image}
if(o)return{kind:"ORGANIZATION",additionalData:null,clientId:qt(),entityUrn:e.entityUrn,hostIdentityUrn:e.hostIdentityUrn,backendUrn:e.backendUrn,name:o.name,tagline:o.tagline,logo:o.logo,pageType:o.pageType,pageUrl:o.pageUrl}
if(a){var c,d,u,l,p,f,m,y,h,g={url:null!==(c=a.profileUrl)&&void 0!==c?c:void 0,picture:a.profilePicture&&a.profilePicture.rootUrl?{rootUrl:a.profilePicture.rootUrl,artifacts:a.profilePicture.artifacts.filter(E)}:void 0}
return{kind:"MEMBER",additionalData:null,clientId:qt(),entityUrn:e.entityUrn,firstName:a.firstName.text,hostIdentityUrn:e.hostIdentityUrn,backendUrn:e.backendUrn,lastName:null!==(d=null===(u=a.lastName)||void 0===u?void 0:u.text)&&void 0!==d?d:"",headline:null!==(l=null===(p=a.headline)||void 0===p?void 0:p.text)&&void 0!==l?l:"",pronoun:{customPronoun:null!==(f=null===(m=a.pronoun)||void 0===m?void 0:m.customPronoun)&&void 0!==f?f:"",standardizedPronoun:null!==(y=null===(h=a.pronoun)||void 0===h?void 0:h.standardizedPronoun)&&void 0!==y?y:""},profile:g}}}return{kind:"EMPTY",additionalData:null,clientId:qt(),entityUrn:e.entityUrn,hostIdentityUrn:e.hostIdentityUrn,backendUrn:e.backendUrn}},Zr=function(e){return null!==e},ei=function(e,n){var t,r=null===(t=e.data)||void 0===t?void 0:t.messengerConversationsByRecipients.elements.filter(Zr)
if(!r)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"recipientConversationsToState: messengerConversationsByRecipients response does not contain non-null elements"})
return ti(r,n)},ni=function(e){return e&&e.length?e.reduce((function(e,n){return function(e,n){if(n&&n.participantType&&!e[n.entityUrn]){var t=Jr(n)
return i(i({},e),{},d({},t.hostIdentityUrn,t))}return e}(e,n)}),{}):{}},ti=function(e,n){var t={}
return{conversations:e.filter(Zr).map((function(e){var r=h(Qr(e,n),2),i=r[0]
return r[1].forEach((function(e){t[e.hostIdentityUrn]=e})),i})),participants:t}},ri=function(e,n){var t,r,i,a,o,s,c=null===(t=e.metadata)||void 0===t?void 0:t.newSyncToken,d=null!==(r=null===(i=e.metadata)||void 0===i?void 0:i.shouldClearCache)&&void 0!==r&&r,u=null!==(a=null===(o=e.metadata)||void 0===o?void 0:o.deletedUrns)&&void 0!==a?a:[],l=(null!==(s=e.elements)&&void 0!==s?s:[]).filter(E),p=ni(function(e){return e.reduce((function(e,n){return[].concat(g(e),[n.sender])}),[])}(l)),f=l.reduce((function(e,n){var t=function(e){var n,t,r
if(!e.sender.hostIdentityUrn)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"messageWithFullParticipantToState: sender hostIdentityUrn is missing"})
var i=si($r(e.renderContent)),a=i.data
return{participants:i.participants,message:{additionalData:null,clientId:qt(),content:null!==(n=e.body)&&void 0!==n?n:{text:"",attributes:[]},deliveredAt:new Date(e.deliveredAt),entityUrn:e.entityUrn,backendConversationUrn:e.backendConversationUrn,backendUrn:e.backendUrn,inlineWarning:null!==(t=e.inlineWarning)&&void 0!==t?t:void 0,messageBodyRenderFormat:e.messageBodyRenderFormat,subject:null!==(r=e.subject)&&void 0!==r?r:void 0,optionalSendData:a,reactions:Hr(e.reactionSummaries),retries:0,senderUrn:e.sender.hostIdentityUrn,status:"Delivered"}}}(n),r=t.message,i=t.participants
return{messages:[].concat(g(e.messages),[r]),participants:En(i,e.participants).sort()}}),{messages:[],participants:[]})
return{messages:new qr(f.messages),newSyncToken:c,shouldClearCache:d,deletedUrns:u,participants:En(f.participants,O(p)),requestId:n}},ii=function(e){return e.reduce((function(e,n){var t=function(e){var n,t,r
if(!e.sender.hostIdentityUrn)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"singleMessageAndParticipantsToState: sender hostIdentityUrn is missing"})
var i=Jr(e.sender),a=si($r(e.renderContent)),o=a.data,s=a.participants
return{participants:En([i],s).sort(),message:{additionalData:null,clientId:qt(),content:null!==(n=e.body)&&void 0!==n?n:{text:"",attributes:[]},optionalSendData:o,inlineWarning:null!==(t=e.inlineWarning)&&void 0!==t?t:void 0,deliveredAt:new Date(e.deliveredAt),entityUrn:e.entityUrn,backendConversationUrn:e.backendConversationUrn,backendUrn:e.backendUrn,subject:null!==(r=e.subject)&&void 0!==r?r:void 0,messageBodyRenderFormat:e.messageBodyRenderFormat,reactions:Hr(e.reactionSummaries),retries:0,senderUrn:e.sender.hostIdentityUrn,status:"Delivered"}}}(n),r=t.participants,i=t.message
return{messages:[].concat(g(e.messages),[i]),participants:En(r,e.participants).sort()}}),{messages:[],participants:[]})},ai=function(e){return"search"===e.kind},oi=function(e){if(!e.data||!e.data.messengerMailboxCountsByMailbox||!e.data.messengerMailboxCountsByMailbox.elements)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"mailboxUnreadCountsResponseToUnreadCounts: messengerMailboxCountsByMailbox response is missing"})
return function(e,n){return{counters:e.reduce((function(e,n){var t
return i(i({},e),{},d({},n.category,(null!==(t=e[n.category])&&void 0!==t?t:0)+n.unreadConversationCount))}),{}),requestId:n}}(e.data.messengerMailboxCountsByMailbox.elements.filter(E),e.requestId)},si=function(e){var n={}
return{data:{renderContent:e.map((function(e){var t,r,a=e.forwardedMessageContent?(t=e.forwardedMessageContent,r=Jr(t.originalSender),{content:{originalSendAt:t.originalSendAt,originalSenderUrn:t.originalSender.hostIdentityUrn,forwardedBody:t.forwardedBody,footerText:t.footerText},participant:r}):{content:void 0,participant:void 0},o=a.content,s=a.participant
return s&&(n[s.hostIdentityUrn]=s),i(i({},N(e,"forwardedMessageContent")),{},{forwardedMessageContent:o})}))},participants:O(n)}},ci=function(e,n){var t=e.errors
if(t){var r=t.map((function(e){return Xe.buildGraphQLPayloadError(e,n)}))
throw Xe.fromApiErrorMemo("ERRORS_IN_RESPONSE",{cause:r,msg:n})}},di={kind:"category",category:"INBOX"},ui=function(e){var n,t
return null===(n=Ze[e])||void 0===n||null===(t=n.store)||void 0===t?void 0:t.getState()},li=function(e,n,t,r,a){var o=i(i({},e.status),{},{fullyLoaded:a,nextCursor:r})
switch(n.kind){case"category":return"INBOX"===n.category?i(i({},e),{},{status:o,conversations:e.conversations.filtered((function(e){return Tn(e,t)&&e.categories.includes("INBOX")&&!e.categories.some((function(e){return["SPAM","ARCHIVE"].includes(e)}))}))}):i(i({},e),{},{status:o,conversations:e.conversations.filtered((function(e){return Tn(e,t)&&e.categories.includes(n.category)}))})
case"search":return i(i({},e),{},{status:o,conversations:e.conversations.filtered((function(e){return Tn(e,t)&&e.matchingSearches.includes(n.id)}))})}},pi=function(e){var n=Ze[e]
if(n&&n.store)return{urn:e,data:n.store.getState(),realtime:n.realtime}},fi=function(e){var n
return null===(n=Ze[e])||void 0===n?void 0:n.store},mi=function(e,n){Ze[e].observers.push(n)},yi=function(e,n){var t=Ze[e]
return t?(n.message,t.observers.forEach((function(e){return e.error(n)})),t.observers.length):0},hi=function(e,n,t,r,i){return xr(e,t,20,i).then(function(e,n){return function(t){var r,i,a=null===(r=t.data)||void 0===r?void 0:r.messengerConversationsById,o=t.requestId
if(!a)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"conversationByIdResponseToState: messengerConversationsById response is missing"})
var s,c=a.backendUrn,d=a.categories,u=a.contentMetadata,l=a.conversationTypeText,p=a.conversationUrl,f=a.createdAt,m=a.creator,y=a.disabledFeatures,h=a.entityUrn,g=a.groupChat,v=a.lastActivityAt,_=a.lastReadAt,b=a.messages,T=a.notificationStatus,E=a.conversationParticipants,A=a.read,S=a.state,C=a.title,k=a.unreadCount,I=a.hostConversationActions,R=b.elements,x=ni(E),M=ii(R),N=M.messages,P=M.participants,D=En(P,O(x))
return{conversationState:{additionalData:null,backendUrn:c,categories:d,clientId:n,conversationUrl:p,createdAt:new Date(f),creatorHostIdentityUrn:null!==(i=null==m?void 0:m.hostIdentityUrn)&&void 0!==i?i:void 0,draftMessage:Wr(e),entityUrn:h,lastActivityAt:new Date(v),lastReadAt:new Date(_),messages:new qr(N),participants:(s=x,w(s).sort()),quickReplies:[],read:A,title:C,state:S,groupChat:null!=g&&g,conversationTypeText:l,contentMetadata:u,disabledFeatures:y,typingUrns:new Set,matchingSearches:[],metadata:{},notificationStatus:T,status:{loading:!1,sending:"Ready",fullyLoaded:!1},unreadCount:k,hostConversationActions:I},participants:D.sort(),requestId:o}}}(n,r))},gi=function(e,n){return function(t){var r=n?Xe.fromClientErrorMemo(n,t):t
return yi(e,r),Promise.reject(r)}},vi=function(e,n){return function(t){var r=n?Xe.fromClientErrorMemo(n,t):t
return yi(e,r),r}},_i=function(e,n){return function(t){var r=Xe.fromUnknown(t,n)
yi(e,r)}},bi=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null
return function(t){return yi(e,t),Promise.resolve(n)}},Ti=function(){return new Map},Ei=function(e,n){return e.updateAny(on(n),function(e){return function(n){return i(i({},n),{},{additionalData:e[n.clientId]||n.additionalData})}}(n))},Ai=function(e,n){if(!n||!w(n).length||!n.emoji||!n.reactors&&void 0===n.viewerReacted||n.reactors&&(!e||!e.length))return e
var t=n.emoji,r=g(e),i=r.findIndex((function(e){return e.emoji===t}))
if(i>-1){var a=r[i]
if(n.reactors)return a.reactors=n.reactors,r.splice(i,1,a),r
if(a.viewerReacted=n.viewerReacted,n.count&&0===n.count)return r.splice(i,1),r
if(n.count&&n.count>0)a.count=n.count
else if(n.viewerReacted)a.count=a.count+1
else{if(1===a.count)return r.splice(i,1),r
a.count=a.count-1}return n.firstReactedAt&&n.firstReactedAt<a.firstReactedAt&&(a.firstReactedAt=n.firstReactedAt),r.splice(i,1,a),r}return 0===n.count?r:[].concat(g(r),[{count:void 0!==n.count?n.count:1,emoji:t,firstReactedAt:n.firstReactedAt?n.firstReactedAt:Date.now(),viewerReacted:n.viewerReacted,reactors:[]}]).sort((function(e,n){return e.firstReactedAt-n.firstReactedAt}))},Si=function(e,n){return n&&n>e?n:e},Ci=function(e){for(var n=Object.keys(e),t={},r=0;r<n.length;r++){var i=n[r]
"function"==typeof e[i]&&(t[i]=e[i])}var a,o=Object.keys(t)
try{!function(e){Object.keys(e).forEach((function(n){var t=e[n]
if(void 0===t(void 0,{type:gr.INIT}))throw new Error(mr(12))
if(void 0===t(void 0,{type:gr.PROBE_UNKNOWN_ACTION()}))throw new Error(mr(13))}))}(t)}catch(e){a=e}return function(e,n){if(void 0===e&&(e={}),a)throw a
for(var r=!1,i={},s=0;s<o.length;s++){var c=o[s],d=t[c],u=e[c],l=d(u,n)
if(void 0===l)throw n&&n.type,new Error(mr(14))
i[c]=l,r=r||l!==u}return(r=r||o.length!==Object.keys(e).length)?i:e}}({entityUrn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0
return"UPDATE_MAILBOXURN"===n.type?n.entityUrn:e},lastActivityAt:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date
return(arguments.length>1?arguments[1]:void 0).type,e},draftConversations:function(){var e,n,t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ti(),a=arguments.length>1?arguments[1]:void 0
switch(a.type){case"REMOVE_DRAFT_CONVERSATION":case"CONVERT_DRAFT_CONVERSATION":return e=r,n=a.payload.conversationId,(t=new Map(e)).delete(n)?t:e
case"ADD_DRAFT_CONVERSATION":return M(r,a.payload.conversation.clientId,a.payload.conversation)
case"DRAFT_MESSAGE_READY_TO_SEND":var o=r.get(a.payload.clientId)
return o?M(r,a.payload.clientId,i(i({},o),{},{messages:o.messages.add([Yr(o.draftMessage)]),draftMessage:Wr(o.draftMessage.senderUrn)})):r
case"ADD_NEW_MESSAGE_BY_ID":var s=r.get(a.payload.conversationId)
return s?M(r,a.payload.conversationId,i(i({},s),{},{messages:s.messages.add([a.payload.message])})):r
case"READY_MESSAGE_BACK_TO_DRAFT":var c=r.get(a.payload.conversationId)
if(!c)return r
var d=h(c.messages.removeByClientId(a.payload.messageClientId),2),u=d[0],l=d[1]
return M(r,a.payload.conversationId,i(i({},c),{},{messages:l,draftMessage:u?zr(u):Wr(a.payload.mboxUrn)}))
case"DELETE_MESSAGE":var p=r.get(a.payload.conversationId)
if(!p)return r
var f=h(p.messages.removeByClientId(a.payload.messageClientId),2)[1]
return M(r,a.payload.conversationId,i(i({},p),{},{messages:f}))
case"UPDATE_DRAFT_MESSAGE":var m=r.get(a.payload.conversationId)
return m?M(r,a.payload.conversationId,i(i({},m),{},{draftMessage:i(i({},a.payload.messageUpdate),{},{clientId:m.draftMessage.clientId})})):r
case"UPDATE_NEW_MESSAGE":if(!q(a.payload.conversationIdentifier))return r
var y=r.get(a.payload.conversationIdentifier)
return y?M(r,a.payload.conversationIdentifier,i(i({},y),{},{messages:y.messages.updateByClientId(a.payload.messageId,a.payload.message)})):r
case"UPDATE_DRAFT_CONVERSATION":var g=r.get(a.payload.conversationId)
return g?M(r,a.payload.conversationId,i(i({},g),{},{recipients:a.payload.recipientUrns})):r
case"UPDATE_DRAFT_CONVERSATION_SENDING_STATUS":var v=r.get(a.payload.conversationId)
return v?M(r,a.payload.conversationId,i(i({},v),{},{sending:a.payload.sendingStatus})):r
default:return r}},participants:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0
switch(n.type){case"DECORATE_PARTICIPANTS":var t=n.payload.data,r=C(w(t).map((function(n){return[n,i(i({},e[n]),{},{additionalData:t[n]})]})))
return i(i({},e),r)
case"ADD_MAILBOX_PARTICIPANTS":case"ADD_CONVERSATION":case"ADD_OLDER_CONVERSATIONS":case"ADD_CONVERSATIONS":var a=C(n.payload.participants.map((function(e){return[e.hostIdentityUrn,e]}))),o=w(a).reduce((function(n,t){return e[t]&&"EMPTY"!==e[t].kind&&a[t]&&"EMPTY"===a[t].kind?n[t]=i({},e[t]):n[t]=i(i(i({},e[t]),a[t]),{},{clientId:e[t]?e[t].clientId:a[t].clientId}),n}),{})
return i(i({},e),o)
default:return e}},conversations:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An(),t=arguments.length>1?arguments[1]:void 0
switch(t.type){case"DECORATE_CONVERSATIONS":return Cn.fromConversationArray(n.map((function(e){return i(i({},e),{},{additionalData:t.payload.data[e.clientId]||e.additionalData})})))
case"DECORATE_ALL_MESSAGES":return Cn.fromConversationArray(n.map((function(e){return i(i({},e),{},{messages:Ei(e.messages,t.payload.data)})})))
case"DECORATE_MESSAGES":return n.updateItem(en(t.payload.conversationUrn),(function(e){return i(i({},e),{},{messages:Ei(e.messages,t.payload.data)})}))
case"DECORATE_MESSAGE":return n.updateItem(en(t.payload.conversationUrn),(function(e){return i(i({},e),{},{messages:e.messages.updateByUrn(t.payload.messageUrn,{additionalData:t.payload.data})})}))
case"DRAFT_MESSAGE_READY_TO_SEND":return n.updateItem(tn(t.payload.clientId),(function(e){return i(i({},e),{},{messages:e.messages.add([Yr(e.draftMessage)]),draftMessage:Wr(e.draftMessage.senderUrn)})}))
case"UPDATE_DRAFT_MESSAGE":return n.updateItem(tn(t.payload.conversationId),(function(e){return i(i({},e),{},{draftMessage:i(i({},t.payload.messageUpdate),{},{clientId:e.draftMessage.clientId})})}))
case"UPDATE_NEW_MESSAGE":return n.updateItem(tn(t.payload.conversationIdentifier),(function(e){return i(i({},e),{},{messages:e.messages.updateByClientId(t.payload.messageId,t.payload.message),quickReplies:vn(e,e.quickReplies,t.payload.message)})}))
case"UPDATE_MESSAGES":var r=t.payload.conversationUrn,a=t.payload.messageUpdateMap
if(!r){var o=w(a),s=G(n,o[0])
if(!s)return n
r=s.entityUrn}return n.updateItem(en(r),(function(e){if(B(e)){var n=w(a)
return i(i({},e),{},{messages:e.messages.updateAny((t=n,function(e){return t.includes(e.entityUrn)}),(function(e){return e.entityUrn?i(i(i({},e),a[e.entityUrn]),{},{clientId:e.clientId}):e})),quickReplies:vn(e,e.quickReplies)})}return e
var t}))
case"UPDATE_REACTIONS_ON_MESSAGE":var c=t.payload,d=c.messageUrn,u=c.reaction,l=G(n,d)
if(!l)return n
var p=l.entityUrn
return n.updateItem(en(p),(function(e){if(B(e)){var n=e.messages.getByIdentifier(d)
return i(i({},e),{},{messages:e.messages.updateAny(rn(d),(function(e){return i(i({},e),{},{reactions:Ai(n.reactions,u),clientId:e.clientId})}))})}return e}))
case"READY_MESSAGE_BACK_TO_DRAFT":return n.updateItem(tn(t.payload.conversationId),(function(e){var n=h(e.messages.removeByClientId(t.payload.messageClientId),2),r=n[0],a=n[1]
return i(i({},e),{},{messages:a,draftMessage:r?zr(r):Wr(t.payload.mboxUrn)})}))
case"DELETE_MESSAGE":return n.updateItem(tn(t.payload.conversationId),(function(e){var n=h(e.messages.removeByClientId(t.payload.messageClientId),2)[1]
return i(i({},e),{},{messages:n})}))
case"DELETE_MESSAGES":return n.updateItem(en(t.payload.conversationUrn),(function(e){var n=t.payload.clearAll?new qr:e.messages.removeByUrns(t.payload.messageUrns)
return i(i({},e),{},{messages:n})}))
case"REALTIME_TYPING_ON":return n.updateItem(en(t.payload.conversationUrn),(function(e){return i(i({},e),{},{typingUrns:P(e.typingUrns,t.payload.typingUrn)})}))
case"REALTIME_TYPING_OFF":return n.updateItem(en(t.payload.conversationUrn),(function(e){return i(i({},e),{},{typingUrns:D(e.typingUrns,t.payload.typingUrn)})}))
case"ADD_NEW_MESSAGE_BY_ID":var f=t.payload,m=f.message,y=f.conversationId,v=m.optionalSendData.conversationState
return n.updateItem(tn(y),(function(e){return i(i({},e),{},{messages:e.messages.add([m]),typingUrns:D(e.typingUrns,m.senderUrn),quickReplies:vn(e,e.quickReplies,m),state:null!=v?v:void 0})}))
case"ADD_NEW_MESSAGE_BY_CONVO_URN":return n.updateItem(en(t.payload.conversationUrn),(function(e){var n=t.payload.message
return i(i({},e),{},{messages:e.messages.add([n]),typingUrns:D(e.typingUrns,n.senderUrn),quickReplies:vn(e,e.quickReplies,n)})}))
case"CONVERSATION_LOADING":return n.updateItem(tn(t.payload.conversationId),(function(e){return i(i({},e),{},{status:i(i({},e.status),{},{loading:t.payload.loading})})}))
case"ADD_OLDER_MESSAGES":return n.updateItem(tn(t.payload.conversationUrn),(function(e){return i(i({},e),{},{messages:e.messages.add(t.payload.messages),metadata:i(i({},e.metadata),{},{prevCursor:t.payload.prevCursor}),status:i(i({},e.status),{},{fullyLoaded:t.payload.completed,loading:!1})})}))
case"ADD_NEW_MESSAGES":return n.updateItem(tn(t.payload.conversationUrn),(function(e){var n=e.messages.add(t.payload.messages)
return i(i({},e),{},{quickReplies:[],messages:n,metadata:i(i({},e.metadata),{},{syncToken:t.payload.syncToken,shouldClearCache:t.payload.shouldClearCache}),status:i(i({},e.status),{},{loading:!1})})}))
case"CONVERT_DRAFT_CONVERSATION":return n.find(en(t.payload.conversation.entityUrn))?n.updateItem(en(t.payload.conversation.entityUrn),(function(e){var n=t.payload.conversation.participants.filter(I(e.participants)),r=[].concat(g(e.participants),g(n))
return i(i(i({},e),t.payload.conversation),{},{participants:r,messages:e.messages.add(g(t.payload.conversation.messages)),clientId:t.payload.conversation.clientId})})):n.addItem(i(i({},t.payload.conversation),{},{clientId:t.payload.conversationId}))
case"ADD_OLDER_CONVERSATIONS":return n.addItems(t.payload.conversations,t.payload.writeCategories)
case"ADD_CONVERSATIONS":return n.addItems(t.payload.conversations)
case"ADD_CONVERSATION":return n.addItem(t.payload.conversation)
case"UPDATE_CONVERSATION_BY_URN":return n.updateItem(en(t.payload.conversationUrn),(function(e){return mn(e,t.payload.conversationUpdate)}))
case"UPDATE_CONVERSATIONS_BY_URN":return n.updateAny(nn(w(t.payload.convoStatusUpdateMap)),(function(e){var n=t.payload.convoStatusUpdateMap[e.entityUrn]
if(!fn(n)&&n.seenReceiptsMap&&e.seenReceiptsMap){var r=bn(e.seenReceiptsMap,n.seenReceiptsMap),a=i(i(i({},e),n),{},{seenReceiptsMap:r})
return yn(e,a)}return yn(e,n)}))
case"UPDATE_CONVERSATION_QUICK_REPLIES":return n.updateItem(en(t.payload.conversationUrn),(function(e){return i(i({},e),{},{quickReplies:t.payload.quickReplies})}))
case"UPDATE_CONVERSATION_BY_MESSAGE_URN":var _=G(n,t.payload.messageUrn)
return _?n.updateItem(tn(_.entityUrn),(function(e){return t.payload.conversationUpdate.quickReplies?i(i({},e),{},{quickReplies:vn(e,t.payload.conversationUpdate.quickReplies)}):i(i({},e),t.payload.conversationUpdate)})):n
case"UPDATE_ALL_CONVERSATIONS_IN_CATEGORIES":return n.updateAny((e=t.payload.categories,function(n){return void 0!==e.find((function(e){return n.categories.includes(e)}))}),(function(e){return yn(e,t.payload.convoPartialState)}))
case"DELETE_CONVERSATION":return n.deleteItems(en(t.payload.conversationUrn))
case"DELETE_CONVERSATIONS":return t.payload.clearAll?An():n.deleteItems(nn(t.payload.conversationUrns))
default:return n}},additionalData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0
return"DECORATE_MAILBOX"===n.type?n.payload:e},connected:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{api:!1,realtime:!1},n=arguments.length>1?arguments[1]:void 0
switch(n.type){case"CONNECT":return i(i({},e),{},{api:!0})
case"REALTIME_CONNECT":return i(i({},e),{},{realtime:n.payload})
default:return e}},status:function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i({},Je),r=arguments.length>1?arguments[1]:void 0
switch(r.type){case"MAILBOX_LOADING":return i(i({},t),{},{loading:r.payload.loading,lastRequestId:Si(t.lastRequestId,r.requestId)})
case"ADD_OLDER_CONVERSATIONS":return i(i({},t),{},{nextCursor:null!==(e=r.payload.nextCursor)&&void 0!==e?e:t.nextCursor,fullyLoaded:r.payload.fullyLoaded,loading:!1,lastRequestId:Si(t.lastRequestId,r.requestId)})
case"ADD_CONVERSATIONS":return i(i({},t),{},{loading:!1,syncToken:null!==(n=r.payload.syncToken)&&void 0!==n?n:t.syncToken,lastRequestId:Si(t.lastRequestId,r.requestId)})
case"UPDATE_REQUEST_ID":return i(i({},t),{},{lastRequestId:Si(t.lastRequestId,r.requestId)})
default:return r.requestId?i(i({},t),{},{lastRequestId:Si(t.lastRequestId,r.requestId)}):t}},unreadCounts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{requestId:0},n=arguments.length>1?arguments[1]:void 0
return"UPDATE_MAILBOX_UNREAD_COUNT"===n.type?i(i({},e),n.payload):e}}),ki=function(e,n){return{type:"ADD_MAILBOX_PARTICIPANTS",payload:{participants:e},requestId:n}},Ii=function(e,n){return{type:"REALTIME_TYPING_ON",payload:{conversationUrn:e,typingUrn:n}}},Ri=function(e,n){return{type:"REALTIME_TYPING_OFF",payload:{conversationUrn:e,typingUrn:n}}},xi=function(e){return{type:"REALTIME_CONNECT",payload:e}},wi=function(e,n){return{type:"UPDATE_CONVERSATIONS_BY_URN",payload:{convoStatusUpdateMap:e},requestId:n}},Oi=function(e,n){return{type:"DELETE_CONVERSATION",payload:{conversationUrn:e},requestId:n}},Mi=function(e){return{type:"DELETE_CONVERSATIONS",payload:{conversationUrns:e,clearAll:arguments.length>1&&void 0!==arguments[1]&&arguments[1]},requestId:arguments.length>2?arguments[2]:void 0}},Ni=function(e,n,t){return{type:"ADD_CONVERSATION",payload:{conversation:e,participants:n},requestId:t}},Pi=function(e,n){return{type:"UPDATE_CONVERSATION_BY_URN",payload:{conversationUpdate:e,conversationUrn:n}}},Di=function(e,n){return{type:"ADD_CONVERSATIONS",payload:{syncToken:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,conversations:e,participants:n},requestId:arguments.length>3?arguments[3]:void 0}},Ui=function(e,n,t){return{type:"ADD_NEW_MESSAGE_BY_ID",payload:{message:e,conversationId:n},requestId:t}},Li=function(e,n){return{type:"CONVERSATION_LOADING",payload:{conversationId:e,loading:n}}},Fi=function(e){return{type:"MAILBOX_LOADING",payload:{loading:e}}},ji=function(e,n,t,r,i){return{type:"ADD_OLDER_MESSAGES",payload:{messages:e,conversationUrn:n,completed:t,prevCursor:r},requestId:i}},Bi=function(e,n,t,r,i){return{type:"ADD_NEW_MESSAGES",payload:{conversationUrn:n,messages:e,syncToken:t,shouldClearCache:r},requestId:i}},qi=function(e,n,t,r){return{type:"UPDATE_NEW_MESSAGE",payload:{message:e,messageId:n,conversationIdentifier:t},requestId:r}},Vi=function(e,n,t){return{type:"UPDATE_MESSAGES",payload:{messageUpdateMap:e,conversationUrn:n},requestId:t}},$i=function(e,n,t){return{type:"UPDATE_REACTIONS_ON_MESSAGE",payload:{messageUrn:e,reaction:n},requestId:t}},Ki=function(e,n,t){return{type:"UPDATE_CONVERSATION_BY_MESSAGE_URN",payload:{messageUrn:e,conversationUpdate:n},requestId:t}},Hi=function(e,n){return{type:"UPDATE_DRAFT_CONVERSATION_SENDING_STATUS",payload:{conversationId:e,sendingStatus:n}}},Gi=function(e,n,t){return{type:"DELETE_MESSAGE",payload:{conversationId:e,messageClientId:n},requestId:t}},Wi=function(e,n){return{type:"DELETE_MESSAGES",payload:{conversationUrn:e,messageUrns:n,clearAll:arguments.length>2&&void 0!==arguments[2]&&arguments[2]},requestId:arguments.length>3?arguments[3]:void 0}},Yi={quickReplyMap:{},seenReceiptsMap:{}},zi=function(){return{topicToGraphQLQueryParams:{conversationsTopic:{queryId:nt("realtime-conversation-update")||"".concat("messengerRealtimeDecoration",".").concat("482b614b64d67841aed30d0817b47921"),variables:{},extensions:{}},conversationDeletesTopic:{queryId:nt("realtime-conversation-delete")||"".concat("messengerRealtimeDecoration",".").concat("f7025d03fc418cc84376d67b62e675f1"),variables:{},extensions:{}},messageReactionSummariesTopic:{queryId:nt("realtime-reaction-summary")||"".concat("messengerRealtimeDecoration",".").concat("00c49be894a070931a1310f148c5c25b"),variables:{},extensions:{}},messageSeenReceiptsTopic:{queryId:nt("realtime-seen-receipt")||"".concat("messengerRealtimeDecoration",".").concat("bdcf4ae95bae8078f1b65009a601a9f8"),variables:{},extensions:{}},messagesTopic:{queryId:nt("realtime-message-update")||"".concat("messengerRealtimeDecoration",".").concat("fc3907a2e86aa836e5cb1a28e68c5adf"),variables:{},extensions:{}},replySuggestionTopicV2:{queryId:nt("realtime-quick-reply")||"".concat("messengerRealtimeDecoration",".").concat("8c5d67b86a2b38128ec0f95f57893b18"),variables:{},extensions:{}},typingIndicatorsTopic:{queryId:nt("realtime-typing-indicator")||"".concat("messengerRealtimeDecoration",".").concat("4cc9fee460e735c4f90cc00a9354ccf1"),variables:{},extensions:{}}}}},Xi=function(e){var n={}
return e&&e.csrfToken&&(n={"csrf-token":e.csrfToken}),i({"x-RestLi-Protocol-Version":"2.0.0","x-li-query-accept":"application/graphql","x-li-track":e.xLiTrack||JSON.stringify({mpName:e&&e.mpName?e.mpName:Vr.mpName}),"x-li-query-map":JSON.stringify(zi())},n)},Qi=function(e,n,t,r,a,o,s){try{switch(s&&function(e,n,t){if(t&&t.trackingFireEvent){var r={publisherTrackingId:e.publisherTrackingId||null,realtimeEventId:e.id,realtimeTrackingId:e.trackingId,topicUrn:e.topic,consumedTime:n}
t.trackingFireEvent("RealtimeEventConsumedEvent",r)}}(n,o,s),n.topic){case"urn:li-realtime:typingIndicatorsTopic:urn:li-realtime:myself":var c,u
Ji(n,"TypingIndicator","doDecorateTypingIndicatorMessengerRealtimeDecoration",e)
var l=null===(c=n.payload.data)||void 0===c||null===(u=c.doDecorateTypingIndicatorMessengerRealtimeDecoration)||void 0===u?void 0:u.result
if(l){var p=l.conversation.entityUrn,f=l.typingParticipant.hostIdentityUrn
r>=0&&function(e,n,t,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:5
r(i(e,n))
var s="".concat(e,",").concat(n)
t.has(s)&&clearTimeout(t.get(s))
var c=setTimeout((function(){r(a(e,n))}),1e3*o)
t.set(s,c)}(p,f,t,a.dispatch,Ii,Ri,r)}break
case"urn:li-realtime:messagesTopic:urn:li-realtime:myself":if(Zi(n,"NewMessage",e)){var m
a.triggerChainSync({pageInstance:null==s||null===(m=s.getPageInstance)||void 0===m?void 0:m.call(s)})}else{var y,h
Ji(n,"NewMessage","doDecorateMessageMessengerRealtimeDecoration",e)
var g=null===(y=n.payload.data)||void 0===y||null===(h=y.doDecorateMessageMessengerRealtimeDecoration)||void 0===h?void 0:h.result
if(g&&g.sender){var v,_,b,T=g.backendConversationUrn,A=g.backendUrn,S=g.body,C=g.conversation,k=g.deliveredAt,I=g.entityUrn,R=g.inlineWarning,x=g.messageBodyRenderFormat,w=g.originToken,O=g.previousMessages,M=g.reactionSummaries,N=g.renderContent,P=g.sender,D=g.subject,U=null!==(v=(null!==(_=null==O?void 0:O.elements)&&void 0!==_?_:[])[0])&&void 0!==v?v:null,L=C.entityUrn,F=Jr(P),j=si($r(N)),B=j.data,q=j.participants
if(function(e,n){return 0==e.text.length&&(null===n||0===n.length)}(S,N))return void setTimeout((function(){var e
a.triggerMessagesSync(L,{pageInstance:null==s||null===(e=s.getPageInstance)||void 0===e?void 0:e.call(s)})}),2e3)
var V=Kr({senderUrn:F.hostIdentityUrn,content:S,optionalSendData:B,entityUrn:I,inlineWarning:R,messageBodyRenderFormat:x,reactions:Hr(M),status:"Delivered",clientId:w,deliveredAt:new Date(k),backendConversationUrn:T,backendUrn:A,subject:D}),$=function(e,n){var t=Yi.quickReplyMap[n]?Yi.quickReplyMap[n]:[],r=Yi.seenReceiptsMap[n]?d({},n,Yi.seenReceiptsMap[n]):{},a=i(i({},e),{},{quickReplies:t,seenReceiptsMap:r})
return delete Yi.quickReplyMap[n],delete Yi.seenReceiptsMap[n],a}(C,I),K=Gr($),H=En(q,Xr(C.conversationParticipants))
a.dispatch(ki(H)),a.handleRealtimeNewMessage(L,K,V,U,{pageInstance:null==s||null===(b=s.getPageInstance)||void 0===b?void 0:b.call(s)}).catch((function(n){bi(e)(Xe.fromRealtimeErrorMemo("EVENT_ERROR",n))}))}}break
case"urn:li-realtime:conversationsTopic:urn:li-realtime:myself":if(Zi(n,"ConversationUpdate",e)){var G
a.triggerChainSync({pageInstance:null==s||null===(G=s.getPageInstance)||void 0===G?void 0:G.call(s)})}else{var W,Y
Ji(n,"ConversationUpdate","doDecorateConversationMessengerRealtimeDecoration",e)
var z=null===(W=n.payload.data)||void 0===W||null===(Y=W.doDecorateConversationMessengerRealtimeDecoration)||void 0===Y?void 0:Y.result
if(z){var X=z.entityUrn,Q=Gr(z)
a.dispatch(Pi(Q,X))}}break
case"urn:li-realtime:conversationDeletesTopic:urn:li-realtime:myself":if(Zi(n,"ConversationDelete",e)){var J
a.triggerChainSync({pageInstance:null==s||null===(J=s.getPageInstance)||void 0===J?void 0:J.call(s)})}else{var Z,ee
Ji(n,"ConversationDelete","doDecorateConversationDeleteMessengerRealtimeDecoration",e)
var ne=null===(Z=n.payload.data)||void 0===Z||null===(ee=Z.doDecorateConversationDeleteMessengerRealtimeDecoration)||void 0===ee?void 0:ee.result
if(ne){var te=ne.entityUrn
a.dispatch(Oi(te))}}break
case"urn:li-realtime:messageSeenReceiptsTopic:urn:li-realtime:myself":var re,ie
Ji(n,"SeenReceipt","doDecorateSeenReceiptMessengerRealtimeDecoration",e)
var ae=null===(re=n.payload.data)||void 0===re||null===(ie=re.doDecorateSeenReceiptMessengerRealtimeDecoration)||void 0===ie?void 0:ie.result
if(ae&&ae.message){var oe=ae.message.entityUrn,se=d({},oe,[{participantUrn:ae.seenByParticipant.hostIdentityUrn,seenAt:ae.seenAt}])
Yi.seenReceiptsMap=bn(Yi.seenReceiptsMap,se),a.dispatch(Ki(oe,{seenReceiptsMap:Yi.seenReceiptsMap}))}break
case"urn:li-realtime:replySuggestionTopicV2:urn:li-realtime:myself":var ce,de
Ji(n,"QuickReplies","doDecorateQuickRepliesMessengerRealtimeDecoration",e)
var ue=null===(ce=n.payload.data)||void 0===ce||null===(de=ce.doDecorateQuickRepliesMessengerRealtimeDecoration)||void 0===de?void 0:de.result
if(ue&&ue.length>0&&ue[0].message){var le=ue[0].message,pe=ue.filter(E)
Yi.quickReplyMap=d({},le.entityUrn,pe),a.dispatch(Ki(le.entityUrn,{quickReplies:pe}))}break
case"urn:li-realtime:messageReactionSummariesTopic:urn:li-realtime:myself":var fe,me
Ji(n,"ReactionSummary","doDecorateRealtimeReactionSummaryMessengerRealtimeDecoration",e)
var ye=null===(fe=n.payload.data)||void 0===fe||null===(me=fe.doDecorateRealtimeReactionSummaryMessengerRealtimeDecoration)||void 0===me?void 0:me.result
if(ye&&ye.reactionSummary){var he=ye.message.entityUrn
a.dispatch($i(he,ye.reactionSummary))}}}catch(n){var ge=He.EVENT_ERROR
bi(e)(new Xe("realtime",ge.code,ge.message,n))}},Ji=function(e,n,t,r){var i=e.payload.data
if(i){var a=i[t]
if(a){if(!a.result){var o=He.PAYLOAD_RESULT_DOES_NOT_EXIST
bi(r)(new Xe("realtime",o.code,'"'.concat(n,'": ').concat(o.message)))}}else{var s=He.PAYLOAD_DECORATION_DOES_NOT_EXIST
bi(r)(new Xe("realtime",s.code,'"'.concat(n,'": ').concat(s.message)))}}else{var c=He.PAYLOAD_DATA_DOES_NOT_EXIST
bi(r)(new Xe("realtime",c.code,"".concat(n,": ").concat(c.message)))}},Zi=function(e,n,t){var r=e.payload.errors
if(!r)return!1
var i=r.map((function(e){return Xe.buildGraphQLPayloadError(e,n)}))
return bi(t)(Xe.fromRealtimeErrorMemo("EVENT_RESPONSE_ERROR",i)),!0},ea=function(){function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2
o(this,e),d(this,"_maxRetryCount",void 0),d(this,"_retryTimeoutInSecond",void 0),d(this,"_backoffMultiplier",void 0),d(this,"_attemptCount",0),d(this,"_startTime",Date.now()),d(this,"_currentTask",null),d(this,"_messageId",void 0),d(this,"_tryFn",void 0),d(this,"_cancelCondition",void 0),d(this,"_retryCondition",void 0),d(this,"_internalResolve",void 0),d(this,"_internalReject",void 0),this._messageId=n,this._backoffMultiplier=t,this.reset()}return c(e,[{key:"retryCount",get:function(){return this._attemptCount-1}},{key:"_backoff",get:function(){return Math.min(Math.pow(2,this._attemptCount)*this._backoffMultiplier,640)}},{key:"try",value:function(e){return this._tryFn=e,this}},{key:"times",value:function(e){return this._maxRetryCount=e,this}},{key:"timeoutAfter",value:function(e){return this._retryTimeoutInSecond=e,this}},{key:"cancelIf",value:function(e){return this._cancelCondition=e,this}},{key:"retryIf",value:function(e){return this._retryCondition=e,this}},{key:"start",value:function(){var e=this
this._startTime=Date.now()
var n=new Promise((function(n,t){e._internalResolve=n,e._internalReject=t}))
return this._cycle(),n}},{key:"cancel",value:function(){this._currentTask&&(this._currentTask.cancel(),this._currentTask=null),this._stopRetrying(Xe.fromClientErrorMemo("RETRY_CANCELLED"))}},{key:"reset",value:function(){this._attemptCount=0,this._startTime=Date.now()}},{key:"_cycle",value:function(){var e=this
this._currentTask=null,this._attemptCount++,void 0!==this._tryFn?this._tryFn(this._attemptCount).then((function(n){var t
return null===(t=e._internalResolve)||void 0===t||t.call(e,n),n})).catch((function(n){var t
if(null!==(t=e._cancelCondition)&&void 0!==t&&t.call(e,n)||e._exceedMaxRetryCount()||e._exceedRetryTimeout())e._stopRetrying(n)
else if(e._retryCondition&&e._messageId&&!e._retryCondition(e._messageId)){var r
null===(r=e._internalResolve)||void 0===r||r.call(e,n)}else{var i=new De(e._cycle.bind(e))
i.start(1e3*e._backoff),e._currentTask=i}})):this._stopRetrying(new Error("No function supplied to retry"))}},{key:"_stopRetrying",value:function(e){var n
null===(n=this._internalReject)||void 0===n||n.call(this,e)}},{key:"_exceedMaxRetryCount",value:function(){return void 0!==this._maxRetryCount&&this._attemptCount>this._maxRetryCount}},{key:"_exceedRetryTimeout",value:function(){return void 0!==this._retryTimeoutInSecond&&(Date.now()-this._startTime)/1e3+this._backoff>this._retryTimeoutInSecond}}]),e}(),na=function(e,n,t,r){if(t&&r){var i=e?e.messages:null,a=i&&i.length>1?i.at(i.length-2):null,o={funnelBody:{clientSend:{isFirstMessage:!e||1===e.messages.length,isSelfReply:!(!a||!n)&&a.senderUrn===n.senderUrn,messagingThreadUrn:e?e.backendUrn:null,messagingMessageUrn:n?n.backendUrn:null,sourceType:null==t?void 0:t.sourceType,previousMessageCreatedTime:a?a.deliveredAt.getTime():null,previousMessagingMessageUrn:a?a.backendUrn:null}},trackingId:t.trackingId,funnelStep:"CLIENT_SEND"}
t.messageComposeFlowTrackingId&&(o.messageComposeFlowTrackingId=t.messageComposeFlowTrackingId),r&&r("MessageSendFunnelTrackingEvent",o)}}
function ta(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(!t){if(Array.isArray(e)||(t=ca(e))||n&&e&&"number"==typeof e.length){t&&(e=t)
var r=0,i=function(){}
return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1
return{s:function(){t=t.call(e)},n:function(){var e=t.next()
return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw a}}}}function ra(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function ia(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aa(e,n,t){return n&&ia(e.prototype,n),t&&ia(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oa(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function sa(e){return function(e){if(Array.isArray(e))return da(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ca(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ca(e,n){if(e){if("string"==typeof e)return da(e,n)
var t=Object.prototype.toString.call(e).slice(8,-1)
return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?da(e,n):void 0}}function da(e,n){(null==n||n>e.length)&&(n=e.length)
for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t]
return r}function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var la,pa=new Uint8Array(16),fa=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i
function ma(e){return"string"==typeof e&&fa.test(e)}for(var ya=[],ha=0;ha<256;++ha)ya.push((ha+256).toString(16).substr(1))
var ga=null
if("undefined"==typeof crypto||!crypto.getRandomValues){var va=("undefined"!=typeof FastBoot?FastBoot.require:require)("crypto")
if(va){var _a=new Uint8Array(256),ba=_a.length
ga={rng:function(){return ba>_a.length-16&&(va.randomFillSync(_a),ba=0),_a.slice(ba,ba+=16)}}}}function Ta(){return function(e,n,t){var r=(e=e||{}).random||(e.rng||function(){if(!la&&!(la="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")
return la(pa)})()
if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,n){t=t||0
for(var i=0;i<16;++i)n[t+i]=r[i]
return n}return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(ya[e[n+0]]+ya[e[n+1]]+ya[e[n+2]]+ya[e[n+3]]+"-"+ya[e[n+4]]+ya[e[n+5]]+"-"+ya[e[n+6]]+ya[e[n+7]]+"-"+ya[e[n+8]]+ya[e[n+9]]+"-"+ya[e[n+10]]+ya[e[n+11]]+ya[e[n+12]]+ya[e[n+13]]+ya[e[n+14]]+ya[e[n+15]]).toLowerCase()
if(!ma(t))throw TypeError("Stringified UUID is invalid")
return t}(r)}(ga,new Array(16),0)}function Ea(e){return sa(e).map((function(e){return String.fromCharCode(e)})).join("")}function Aa(){return Ea(Ta())}"object"===("undefined"==typeof crypto?"undefined":ua(crypto))&&crypto.randomUUID
var Sa=/^[a-zA-Z0-9/+]+[=]+$/
function Ca(e){return function(e){if(!ma(e))throw TypeError("Invalid UUID")
var n,t=new Uint8Array(16)
return t[0]=(n=parseInt(e.slice(0,8),16))>>>24,t[1]=n>>>16&255,t[2]=n>>>8&255,t[3]=255&n,t[4]=(n=parseInt(e.slice(9,13),16))>>>8,t[5]=255&n,t[6]=(n=parseInt(e.slice(14,18),16))>>>8,t[7]=255&n,t[8]=(n=parseInt(e.slice(19,23),16))>>>8,t[9]=255&n,t[10]=(n=parseInt(e.slice(24,36),16))/1099511627776&255,t[11]=n/4294967296&255,t[12]=n>>>24&255,t[13]=n>>>16&255,t[14]=n>>>8&255,t[15]=255&n,t}(e)}function ka(e,n){return{pageUrn:Ra(e),trackingId:n||function(e){for(var n,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[],i=0,a=e.length,o=a%3,s=a-o;i<s;)n=e[i]<<16,n|=e[i+1]<<8,n|=e[i+2],r.push(t.charAt(n>>>18&63)),r.push(t.charAt(n>>>12&63)),r.push(t.charAt(n>>>6&63)),r.push(t.charAt(63&n)),i+=3
switch(o){case 2:n=e[i]<<16,n|=e[i+1]<<8,r.push(t.charAt(n>>>18&63)),r.push(t.charAt(n>>>12&63)),r.push(t.charAt(n>>>6&63)),r.push("=")
break
case 1:n=e[i]<<16,r.push(t.charAt(n>>>18&63)),r.push(t.charAt(n>>>12&63)),r.push("="),r.push("=")}return r.join("")}(Ta())}}function Ia(e,n){return"urn:li:control:".concat(e,"-").concat(n)}function Ra(e){return"urn:li:page:".concat(e)}function xa(e,n){return{pageInstance:n.assign({},e.pageInstance),pageKey:e.pageKey,applicationInstance:e.applicationInstance}}function wa(e,n){return void 0!==n.allSettled?n.allSettled(e):function(e){return new Promise((function(n){var t=new Set,r=function(e){t.delete(e),0===t.size&&n()}
0===e.length?n():e.map((function(e){return e.then((function(){return r(e)})).catch((function(){return r(e)}))}))}))}(e)}function Oa(e){var n=[]
return e.forEach((function(e){return n.push(e)})),n}function Ma(e,n,t){var r=e.get(n)
r&&r.push(t)||e.set(n,[t])}function Na(e,n,t){var r=e.get(n)
r&&r.splice(r.indexOf(t)>>>0,1)}var Pa,Da,Ua=(Pa=new Map,Da=new Map,{on:function(e,n){Ma(Pa,e,n)},before:function(e,n){Ma(Da,e,n)},off:function(e,n){Na(Pa,e,n)},offBefore:function(e,n){Na(Da,e,n)},emit:function(e,n){(Da.get(e)||[]).concat(Pa.get(e)||[]).slice().map((function(e){e(n)}))},clear:function(){Da.clear(),Pa.clear()}})
if("undefined"!=typeof document&&"undefined"!=typeof window){var La=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||Ua.emit("internal:hide",e)}
document.addEventListener("visibilitychange",La),window.addEventListener("pagehide",La)}var Fa=Uint8Array,ja=Uint16Array,Ba=Uint32Array,qa=new Fa([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Va=new Fa([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),$a=new Fa([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ka=function(e,n){for(var t=new ja(31),r=0;r<31;++r)t[r]=n+=1<<e[r-1]
var i=new Ba(t[30])
for(r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r
return[t,i]},Ha=Ka(qa,2),Ga=Ha[0],Wa=Ha[1]
Ga[28]=258,Wa[258]=28
for(var Ya=Ka(Va,0)[1],za=new ja(32768),Xa=0;Xa<32768;++Xa){var Qa=(43690&Xa)>>>1|(21845&Xa)<<1
Qa=(61680&(Qa=(52428&Qa)>>>2|(13107&Qa)<<2))>>>4|(3855&Qa)<<4,za[Xa]=((65280&Qa)>>>8|(255&Qa)<<8)>>>1}var Ja=function(e,n,t){for(var r=e.length,i=0,a=new ja(n);i<r;++i)e[i]&&++a[e[i]-1]
var o,s=new ja(n)
for(i=0;i<n;++i)s[i]=s[i-1]+a[i-1]<<1
if(t){o=new ja(1<<n)
var c=15-n
for(i=0;i<r;++i)if(e[i])for(var d=i<<4|e[i],u=n-e[i],l=s[e[i]-1]++<<u,p=l|(1<<u)-1;l<=p;++l)o[za[l]>>>c]=d}else for(o=new ja(r),i=0;i<r;++i)e[i]&&(o[i]=za[s[e[i]-1]++]>>>15-e[i])
return o},Za=new Fa(288)
for(Xa=0;Xa<144;++Xa)Za[Xa]=8
for(Xa=144;Xa<256;++Xa)Za[Xa]=9
for(Xa=256;Xa<280;++Xa)Za[Xa]=7
for(Xa=280;Xa<288;++Xa)Za[Xa]=8
var eo=new Fa(32)
for(Xa=0;Xa<32;++Xa)eo[Xa]=5
var no=Ja(Za,9,0),to=Ja(eo,5,0),ro=function(e){return(e+7)/8|0},io=function(e,n,t){t<<=7&n
var r=n/8|0
e[r]|=t,e[r+1]|=t>>>8},ao=function(e,n,t){t<<=7&n
var r=n/8|0
e[r]|=t,e[r+1]|=t>>>8,e[r+2]|=t>>>16},oo=function(e,n){for(var t=[],r=0;r<e.length;++r)e[r]&&t.push({s:r,f:e[r]})
var i=t.length,a=t.slice()
if(!i)return[mo,0]
if(1==i){var o=new Fa(t[0].s+1)
return o[t[0].s]=1,[o,1]}t.sort((function(e,n){return e.f-n.f})),t.push({s:-1,f:25001})
var s=t[0],c=t[1],d=0,u=1,l=2
for(t[0]={s:-1,f:s.f+c.f,l:s,r:c};u!=i-1;)s=t[t[d].f<t[l].f?d++:l++],c=t[d!=u&&t[d].f<t[l].f?d++:l++],t[u++]={s:-1,f:s.f+c.f,l:s,r:c}
var p=a[0].s
for(r=1;r<i;++r)a[r].s>p&&(p=a[r].s)
var f=new ja(p+1),m=so(t[u-1],f,0)
if(m>n){r=0
var y=0,h=m-n,g=1<<h
for(a.sort((function(e,n){return f[n.s]-f[e.s]||e.f-n.f}));r<i;++r){var v=a[r].s
if(!(f[v]>n))break
y+=g-(1<<m-f[v]),f[v]=n}for(y>>>=h;y>0;){var _=a[r].s
f[_]<n?y-=1<<n-f[_]++-1:++r}for(;r>=0&&y;--r){var b=a[r].s
f[b]==n&&(--f[b],++y)}m=n}return[new Fa(f),m]},so=function e(n,t,r){return-1==n.s?Math.max(e(n.l,t,r+1),e(n.r,t,r+1)):t[n.s]=r},co=function(e){for(var n=e.length;n&&!e[--n];);for(var t=new ja(++n),r=0,i=e[0],a=1,o=function(e){t[r++]=e},s=1;s<=n;++s)if(e[s]==i&&s!=n)++a
else{if(!i&&a>2){for(;a>138;a-=138)o(32754)
a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(i),--a;a>6;a-=6)o(8304)
a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(i)
a=1,i=e[s]}return[t.subarray(0,r),n]},uo=function(e,n){for(var t=0,r=0;r<n.length;++r)t+=e[r]*n[r]
return t},lo=function(e,n,t){var r=t.length,i=ro(n+2)
e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1]
for(var a=0;a<r;++a)e[i+a+4]=t[a]
return 8*(i+4+r)},po=function(e,n,t,r,i,a,o,s,c,d,u){io(n,u++,t),++i[256]
for(var l=oo(i,15),p=l[0],f=l[1],m=oo(a,15),y=m[0],h=m[1],g=co(p),v=g[0],_=g[1],b=co(y),T=b[0],E=b[1],A=new ja(19),S=0;S<v.length;++S)A[31&v[S]]++
for(S=0;S<T.length;++S)A[31&T[S]]++
for(var C=oo(A,7),k=C[0],I=C[1],R=19;R>4&&!k[$a[R-1]];--R);var x,w,O,M,N=d+5<<3,P=uo(i,Za)+uo(a,eo)+o,D=uo(i,p)+uo(a,y)+o+14+3*R+uo(A,k)+(2*A[16]+3*A[17]+7*A[18])
if(N<=P&&N<=D)return lo(n,u,e.subarray(c,c+d))
if(io(n,u,1+(D<P)),u+=2,D<P){x=Ja(p,f,0),w=p,O=Ja(y,h,0),M=y
var U=Ja(k,I,0)
for(io(n,u,_-257),io(n,u+5,E-1),io(n,u+10,R-4),u+=14,S=0;S<R;++S)io(n,u+3*S,k[$a[S]])
u+=3*R
for(var L=[v,T],F=0;F<2;++F){var j=L[F]
for(S=0;S<j.length;++S){var B=31&j[S]
io(n,u,U[B]),u+=k[B],B>15&&(io(n,u,j[S]>>>5&127),u+=j[S]>>>12)}}}else x=no,w=Za,O=to,M=eo
for(S=0;S<s;++S)if(r[S]>255){B=r[S]>>>18&31,ao(n,u,x[B+257]),u+=w[B+257],B>7&&(io(n,u,r[S]>>>23&31),u+=qa[B])
var q=31&r[S]
ao(n,u,O[q]),u+=M[q],q>3&&(ao(n,u,r[S]>>>5&8191),u+=Va[q])}else ao(n,u,x[r[S]]),u+=w[r[S]]
return ao(n,u,x[256]),u+w[256]},fo=new Ba([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mo=new Fa(0),yo=function(){for(var e=new Int32Array(256),n=0;n<256;++n){for(var t=n,r=9;--r;)t=(1&t&&-306674912)^t>>>1
e[n]=t}return e}(),ho=function(e,n,t){for(;t;++n)e[n]=t,t>>>=8},go="undefined"!=typeof TextDecoder&&new TextDecoder
try{go.decode(mo,{stream:!0})}catch(Ks){}function vo(){return"undefined"!=typeof window&&"function"==typeof window.fetch}function _o(){try{return vo()&&"keepalive"in new Request("")}catch(e){return!1}}function bo(e){var n=e.body,t=e.keepalive,r=e.headers,i=e.compress
r["content-type"]||(r["content-type"]="text/plain;charset=UTF-8")
var a=n
if(i&&"undefined"!=typeof TextEncoder)try{a=function(e,n){n||(n={})
var t=function(){var e=-1
return{p:function(n){for(var t=e,r=0;r<n.length;++r)t=yo[255&t^n[r]]^t>>>8
e=t},d:function(){return~e}}}(),r=e.length
t.p(e)
var i,a,o,s=(i=e,a=n,o=function(e){return 10+(e.filename&&e.filename.length+1||0)}(n),function(e,n,t,r,i,a){var o=e.length,s=new Fa(r+o+5*(1+Math.ceil(o/7e3))+8),c=s.subarray(r,s.length-8),d=0
if(!n||o<8)for(var u=0;u<=o;u+=65535){var l=u+65535
l>=o&&(c[d>>3]=true),d=lo(c,d+1,e.subarray(u,l))}else{for(var p=fo[n-1],f=p>>>13,m=8191&p,y=(1<<t)-1,h=new ja(32768),g=new ja(y+1),v=Math.ceil(t/3),_=2*v,b=function(n){return(e[n]^e[n+1]<<v^e[n+2]<<_)&y},T=new Ba(25e3),E=new ja(288),A=new ja(32),S=0,C=0,k=(u=0,0),I=0,R=0;u<o;++u){var x=b(u),w=32767&u,O=g[x]
if(h[w]=O,g[x]=w,I<=u){var M=o-u
if((S>7e3||k>24576)&&M>423){d=po(e,c,0,T,E,A,C,k,R,u-R,d),k=S=C=0,R=u
for(var N=0;N<286;++N)E[N]=0
for(N=0;N<30;++N)A[N]=0}var P=2,D=0,U=m,L=w-O&32767
if(M>2&&x==b(u-L))for(var F=Math.min(f,M)-1,j=Math.min(32767,u),B=Math.min(258,M);L<=j&&--U&&w!=O;){if(e[u+P]==e[u+P-L]){for(var q=0;q<B&&e[u+q]==e[u+q-L];++q);if(q>P){if(P=q,D=L,q>F)break
var V=Math.min(L,q-2),$=0
for(N=0;N<V;++N){var K=u-L+N+32768&32767,H=K-h[K]+32768&32767
H>$&&($=H,O=K)}}}L+=(w=O)-(O=h[w])+32768&32767}if(D){T[k++]=268435456|Wa[P]<<18|Ya[D]
var G=31&Wa[P],W=31&Ya[D]
C+=qa[G]+Va[W],++E[257+G],++A[W],I=u+P,++S}else T[k++]=e[u],++E[e[u]]}}d=po(e,c,true,T,E,A,C,k,R,u-R,d)}return function(e,n,t){(null==n||n<0)&&(n=0),(null==t||t>e.length)&&(t=e.length)
var r=new(2==e.BYTES_PER_ELEMENT?ja:4==e.BYTES_PER_ELEMENT?Ba:Fa)(t-n)
return r.set(e.subarray(n,t)),r}(s,0,r+ro(d)+8)}(i,null==a.level?6:a.level,null==a.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(i.length)))):12+a.mem,o)),c=s.length
return function(e,n){var t=n.filename
if(e[0]=31,e[1]=139,e[2]=8,e[8]=n.level<2?4:9==n.level?2:0,e[9]=3,0!=n.mtime&&ho(e,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),t){e[3]=8
for(var r=0;r<=t.length;++r)e[r+10]=t.charCodeAt(r)}}(s,n),ho(s,c-8,t.d()),ho(s,c-4,r),s}((new TextEncoder).encode(n)),r["content-encoding"]="gzip"}catch(e){}return{body:a,keepalive:t,credentials:"include",headers:r,method:"POST",mode:"cors"}}function To(e){return e&&"message"in e?e.message:"UNKNOWN_ERROR"}var Eo,Ao="undefined"!=typeof navigator&&"sendBeacon"in navigator,So=_o()?function(e,n,t,r){return new Promise((function(i){fetch(e,bo({body:n,keepalive:!0,headers:t,compress:r})).catch((function(){return fetch(e,bo({body:n,keepalive:!1,headers:t,compress:r}))})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:e.status}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:To(e)})}))}))}:function(e,n,t,r){return new Promise((function(i){if(Ao){var a=!1
try{a=navigator.sendBeacon(e,n)}catch(e){}if(a)return void i({type:"unknown",drop:!1})}fetch(e,bo({body:n,keepalive:!1,headers:t,compress:r})).then((function(e){e.ok?i({type:"success",drop:!1,statusCode:200}):i({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return i({type:"network",drop:!0,rawError:To(e)})}))}))}
function Co(e){return new Promise((function(n,t){e.oncomplete=e.onsuccess=function(){return n(e.result)},e.onabort=e.onerror=function(){return t(e.error)}}))}function ko(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",r=arguments.length>3?arguments[3]:void 0,i=indexedDB.open(e)
i.onupgradeneeded=function(){try{i.result.createObjectStore(n,{keyPath:t})}catch(e){null==r||r.onError(e)}}
var a=new Promise((function(e,n){i.onsuccess=function(){var n=i.result
n.onversionchange=function(){return n.close()},e(n),null==r||r.onSuccess()},i.onerror=function(){n(i.error),null==r||r.onError(i.error)}}))
return function(e,t){return a.then((function(r){return t(r.transaction(n,e).objectStore(n))}))}}function Io(){return Eo||(Eo=ko("idb-queue","default")),Eo}function Ro(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},t=0,r=null
return e.openKeyCursor().onsuccess=function(){var i=this.result
i&&t++<n.batchEvictionNumber?(r=i.key,i.continue()):null!=r&&e.delete(IDBKeyRange.upperBound(r))},Co(e.transaction)}var xo=!1
function wo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Io()
return t("readwrite",(function(t){return t.put(e),Co(t.count()).then((function(e){if(!(e<=n.maxNumber))return Ro(t,n)}))})).catch((function(e){if(e&&"QuotaExceededError"===e.name)return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxNumber:1e3,batchEvictionNumber:300}
return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Io())("readwrite",(function(n){return Ro(n,e)}))}(n,t)}))}function Oo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Io()
return xo?Promise.resolve():wo(e,n,t)}function Mo(e,n,t){return n("readonly",(function(n){var r=[]
return n.openCursor(null,t).onsuccess=function(){var n=this.result
n&&(r.push(n.value),(e<0||r.length<e)&&n.continue())},Co(n.transaction).then((function(){return r}))}))}function No(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0
return!n||t<1||(e[n]=JSON.stringify({attempt:t,errorCode:r})),e}function Po(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.debug("[beacon-transporter] ",e())}function Do(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.error("[beacon-transporter] ",e())}function Uo(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeRemaining:5,timeout:1e4}
"undefined"==typeof requestIdleCallback?setTimeout(e,n.fallbackTimeout||10):function t(){requestIdleCallback((function(r){r.timeRemaining()>n.timeRemaining||r.didTimeout?e():t()}),{timeout:n.timeout})}()}var Lo=function(){function e(n){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
ra(this,e),oa(this,"config",void 0),oa(this,"compress",void 0),oa(this,"throttleControl",void 0),oa(this,"withStore",void 0),oa(this,"disablePersistence",!1),this.config=n,this.compress=r
var i=n.measureIDB
i&&performance.mark(i.createStartMark),this.withStore=ko(n.idbName,"beacons","timestamp",{onSuccess:function(){i&&performance.measure(i.createSuccessMeasure,i.createStartMark)},onError:function(){i&&performance.measure(i.createFailMeasure,i.createStartMark),t.disablePersistence=!0}}),this.throttleControl=function(e,n){var t=0
return{throttledFn:function(){var r=Date.now()
r-t>n&&(Po((function(){return"[throttle] Run fn() at "+String(r)})),e(),t=r)},resetThrottle:function(){t=0}}}(this.replayEntries.bind(this),n.throttleWait)}return aa(e,[{key:"onNotify",value:function(){this.disablePersistence||this.throttleControl.throttledFn()}},{key:"push",value:function(e){var n=this
if(!this.disablePersistence){var t=function(){Po((function(){return"Persisting to DB "+e.url})),Oo(e,n.config,n.withStore).then((function(){n.throttleControl.resetThrottle(),Po((function(){return"push completed"}))})).catch((function(){n.disablePersistence=!0,Do((function(){return"push failed"}))}))}
this.config.useIdle?Uo(t):t()}}},{key:"clear",value:function(){var e=this
return this.disablePersistence?Promise.resolve():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Io()
return xo=!0,e("readwrite",(function(e){return e.clear(),Co(e.transaction).finally((function(){return xo=!1}))}))}(this.withStore).catch((function(){e.disablePersistence=!0,Do((function(){return"clear failed"}))}))}},{key:"peek",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1
return this.disablePersistence?Promise.resolve([]):function(){return Mo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Io(),"next")}(n,this.withStore).catch((function(){return e.disablePersistence=!0,Do((function(){return"peek failed"})),[]}))}},{key:"peekBack",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1
return this.disablePersistence?Promise.resolve([]):function(){return Mo(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Io(),"prev")}(n,this.withStore).catch((function(){return e.disablePersistence=!0,Do((function(){return"peekBack failed"})),[]}))}},{key:"replayEntries",value:function(){var e=this
if(!this.disablePersistence){var n=function(){Po((function(){return"Replaying entry: shift from store"})),function(){return function(e,n,t){return n("readwrite",(function(n){var t=[]
return n.openCursor(null,"next").onsuccess=function(){var n=this.result
n&&(t.push(n.value),n.delete(),(e<0||t.length<e)&&n.continue())},Co(n.transaction).then((function(){return t}))}))}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Io())}(1,e.withStore).then((function(n){if(n.length>0){var t,r,i=n[0],a=i.url,o=i.body,s=i.headers,c=i.timestamp,d=i.statusCode,u=i.attemptCount
return Po((function(){return"header: ".concat(String(e.config.headerName),"; attemptCount: ").concat(u)})),null===(t=(r=e.config).onBeforeRetry)||void 0===t||t.call(r,o),So(a,o,No(s,e.config.headerName,u,d),e.compress).then((function(n){if("unknown"===n.type||"success"===n.type){var t,r
null===(t=(r=e.config).onResult)||void 0===t||t.call(r,n,o),e.replayEntries()}else{var i,s,l,p,f,m
if(u+1>e.config.attemptLimit)return Po((function(){return"Exceeded attempt count, dropping the entry: "+JSON.stringify({url:a,timestamp:c,statusCode:d},null,2)})),n.drop=!0,void(null===(i=(s=e.config).onResult)||void 0===i||i.call(s,n,o))
if("network"===n.type||e.config.statusCodes.includes(n.statusCode))return n.drop=!1,null===(l=(p=e.config).onResult)||void 0===l||l.call(p,n,o),Po((function(){return"Replaying the entry failed, pushing back to IDB: "+JSON.stringify({url:a,timestamp:c,statusCode:d},null,2)})),Oo({url:a,body:o,timestamp:c,statusCode:d,attemptCount:u+1},e.config,e.withStore)
n.drop=!0,null===(f=(m=e.config).onResult)||void 0===f||f.call(m,n,o)}}))}})).catch((function(n){e.disablePersistence=!0,n&&n.message&&Do((function(){return"Replay entry failed: ".concat(n.message)}))}))}
this.config.useIdle?Uo(n):n()}}}]),e}(),Fo=function(){function e(){ra(this,e)}return aa(e,[{key:"onNotify",value:function(){}},{key:"push",value:function(){}},{key:"clear",value:function(){return Promise.resolve()}},{key:"peek",value:function(){return Promise.resolve([])}},{key:"peekBack",value:function(){return Promise.resolve([])}}]),e}(),jo=function(){function e(n,t){ra(this,e),oa(this,"queue",void 0),oa(this,"beaconListeners",new Set),this.queue=e.hasSupport&&!t.disablePersistenceRetry?new Lo(n,t.compress):new Fo}return aa(e,[{key:"pushToQueue",value:function(e){this.queue.push(e)}},{key:"notifyQueue",value:function(){this.queue.onNotify()}},{key:"clearQueue",value:function(){return this.beaconListeners.forEach((function(e){return e()})),this.queue.clear()}},{key:"peekQueue",value:function(e){return this.queue.peek(e)}},{key:"peekBackQueue",value:function(e){return this.queue.peekBack(e)}},{key:"onClear",value:function(e){this.beaconListeners.add(e)}},{key:"removeOnClear",value:function(e){this.beaconListeners.delete(e)}}]),e}()
oa(jo,"hasSupport","undefined"!=typeof globalThis&&!!globalThis.indexedDB)
var Bo=[502,504],qo=[429,503],Vo=function(){function e(n,t,r,i){var a=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4]
ra(this,e),oa(this,"url",void 0),oa(this,"body",void 0),oa(this,"config",void 0),oa(this,"persistenceConfig",void 0),oa(this,"compress",void 0),oa(this,"timestamp",void 0),oa(this,"isClearQueuePending",!1),oa(this,"onClearCallback",void 0),this.url=n,this.body=t,this.config=r,this.persistenceConfig=i,this.compress=o,this.timestamp=Date.now(),this.onClearCallback=function(){return a.isClearQueuePending=!0}}return aa(e,[{key:"send",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
this.persistenceConfig.db.onClear(this.onClearCallback)
var t=this.retryLimit
return this.retry((function(n){return So(e.url,e.body,n,e.compress)}),t,n).finally((function(){Po((function(){return"beacon finished"})),e.persistenceConfig.db.removeOnClear(e.onClearCallback)}))}},{key:"retryLimit",get:function(){return this.config.attemptLimit}},{key:"getAttemptCount",value:function(e){return this.retryLimit-e+1}},{key:"retry",value:function(e,n,t,r){var i=this,a=this.getAttemptCount(n)-1
return e(No(t,this.config.headerName,a,r)).then((function(r){var a,o,s,c
if(r.drop=!1,"unknown"===r.type||"success"===r.type)i.isClearQueuePending||i.persistenceConfig.disabled||i.persistenceConfig.db.notifyQueue(),s=r
else if(Po((function(){return"retry rejected "+JSON.stringify(r)})),i.shouldPersist(n,r))i.persistenceConfig.db.pushToQueue({url:i.url,body:i.body,headers:t,statusCode:r.statusCode,timestamp:i.timestamp,attemptCount:i.getAttemptCount(n)}),s={type:"persisted",drop:!1,statusCode:r.statusCode}
else{if(n>0&&i.isRetryableError(r)){var d,u
null===(d=(u=i.config).onIntermediateResult)||void 0===d||d.call(u,r,i.body)
var l=i.config.calculateRetryDelay(i.getAttemptCount(n),n)
return Po((function(){return"in memory retry in ".concat(l,"ms")})),(c=l,new Promise((function(e){return setTimeout(e,c)}))).then((function(){return i.retry(e,n-1,t,r.statusCode)}))}(s=r).drop=!0}return null===(a=(o=i.config).onIntermediateResult)||void 0===a||a.call(o,s,i.body),s}))}},{key:"isRetryableError",value:function(e){return!("network"!==e.type&&!this.config.statusCodes.includes(e.statusCode))}},{key:"shouldPersist",value:function(e,n){return!(this.isClearQueuePending||this.persistenceConfig.disabled||navigator.onLine&&(0!==e||"network"!==n.type)&&("response"!==n.type||!this.persistenceConfig.statusCodes.includes(n.statusCode)))}}]),e}(),$o=function(){function e(n){ra(this,e),oa(this,"host",void 0),this.host=n}return aa(e,[{key:"checkAndEnablePersistentRetry",value:function(e,n){if("function"==typeof(null==e?void 0:e.shouldAnonymizeMemberId)&&!this.host.retryBeacon){var t=this.getRetryTreatment()
this.host.retryConfig&&function(e,n,t,r,i){"control"!==r&&e.retryConfig&&function(){if("undefined"==typeof Promise||"undefined"==typeof navigator)return!1
var e=navigator.userAgent.indexOf("Chrome")>-1,n=navigator.cookieEnabled,t=navigator.storage
return e&&_o()&&n&&t}()&&navigator.storage.estimate().then((function(a){if(!((a.quota||0)-(a.usage||0)>52428800))return function(e){var n=window.indexedDB.deleteDatabase("beacons")
return new Promise((function(e,t){n.onsuccess=function(){return e()},n.onerror=function(){return t(n.error)}}))}()
var o,s,c=null!==(o=e.retryConfig.inMemory)&&void 0!==o?o:{attemptLimit:4,statusCodes:[502,504]},d=null!==(s=e.retryConfig.persist)&&void 0!==s?s:{attemptLimit:3,statusCodes:[429,503],maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},u={compress:t,inMemoryRetry:{onIntermediateResult:null==i?void 0:i.onIntermediateResult,attemptLimit:c.attemptLimit,statusCodes:c.statusCodes,headerName:"x-li-retry-context",calculateRetryDelay:function(e){return function(e){return 1e3*Math.pow(2,e)}(e)}},disablePersistenceRetry:e.retryConfig.disablePersistence,persistenceRetry:{onBeforeRetry:null==i?void 0:i.onBeforeRetry,onResult:null==i?void 0:i.onResult,idbName:"beacons",attemptLimit:d.attemptLimit,statusCodes:d.statusCodes,maxNumber:d.maxNumber,batchEvictionNumber:d.batchEvictionNumber,throttleWait:d.throttleWait,useIdle:!0,measureIDB:{createStartMark:"idb_open_start",createSuccessMeasure:"idb_open_success_phase",createFailMeasure:"idb_open_fail_phase"}}},l=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Boolean(n.compress),r=Object.assign({attemptLimit:0,statusCodes:Bo,calculateRetryDelay:function(e,n){return 2e3*n}},n.inMemoryRetry)
if(n.retryDB)e=n.retryDB
else{var i=Object.assign({idbName:"beacon-transporter",attemptLimit:3,statusCodes:qo,maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},n.persistenceRetry)
i.headerName=i.headerName||r.headerName,e=new jo(i,{compress:n.compress,disablePersistenceRetry:n.disablePersistenceRetry})}return{beacon:function(i,a,o){var s
return vo()?new Vo(i,a,r,{db:e,disabled:Boolean(n.disablePersistenceRetry),statusCodes:(null===(s=n.persistenceRetry)||void 0===s?void 0:s.statusCodes)||qo},t).send(o):Promise.resolve({type:"unknown",drop:!0})},database:e}}(u),p=l.beacon,f=l.database
return e.retryBeacon={shouldRetry:!0,beacon:p,database:f},"enabled"===r?(e.retryBeacon.shouldRetry=!1,!u.disablePersistenceRetry&&n.shouldAnonymizeMemberId()?f.peekQueue(1).then((function(e){if(Array.isArray(e)&&e[0]){var n=JSON.parse(e[0].body)
if(Array.isArray(n)&&n.some((function(e){return!e.eventInfo.shouldAnonymizeMemberId})))return f.clearQueue()}}),(function(){return f.clearQueue()})).then((function(){e.retryBeacon.shouldRetry=!0})).catch((function(e){Ua.emit("internal:error",{tags:["core-web-tracking:retry:idb"],reason:e})})):(e.retryBeacon.shouldRetry=!0,Promise.resolve())):void 0})).catch((function(e){Ua.emit("internal:error",{tags:["core-web-tracking:retry:setup"],reason:e})}))}(this.host,e,this.shouldCompressPayload(),t,n)}}},{key:"clearPersistedEventsOnLogout",value:function(){var e=this.host.retryBeacon
if(e&&e.shouldRetry)return e.shouldRetry=!1,e.database.clearQueue().catch((function(e){Ua.emit("internal:error",{tags:["core-web-tracking:retry:logout"],reason:e})}))}},{key:"sendPayload",value:function(e,n,t,r){var i,a=this.getRetryTreatment()
_o()&&"control"!==a&&null!==(i=this.host.retryBeacon)&&void 0!==i&&i.shouldRetry?this.sendPayloadWithRetry(e,n,t):this.sendPayloadFireForget(e,n,t,r)}},{key:"sendPayloadWithRetry",value:function(e,n,t){(!Array.isArray(n)||n.length>0)&&this.host.retryBeacon.beacon(e,JSON.stringify(n),t).catch((function(e){Ua.emit("internal:error",{tags:["core-web-tracking:retry:beacon"],reason:e})}))}},{key:"sendPayloadFireForget",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;(!Array.isArray(n)||n.length>0)&&("undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1||!vo()||"undefined"==typeof Promise?function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}
if("undefined"!=typeof window&&void 0!==window.XMLHttpRequest){var r=new XMLHttpRequest
if(r.open("POST",e,!0),r.withCredentials=!0,t.headers)for(var i=0,a=Object.keys(t.headers);i<a.length;i++){var o=a[i]
r.setRequestHeader(o,t.headers[o])}r.send(n)}}(e,JSON.stringify(n),{headers:t}):So(e,JSON.stringify(n),t,this.shouldCompressPayload()).then((function(e){null==r||r.onResult(e,n)}),(function(){})))}},{key:"getRetryTreatment",value:function(){var e,n,t
if(!this.host.retryConfig)return"control"
var r=this.host.retryConfig.lixKey
return r?null!==(e=null===(n=(t=this.host).__getLixTreatment)||void 0===n?void 0:n.call(t,r))&&void 0!==e?e:"control":"enabled"}},{key:"shouldCompressPayload",value:function(){return!0!==this.host.disableCompression}}]),e}(),Ko="undefined"!=typeof window&&"undefined"!=typeof document,Ho=/JSESSIONID="?([^";]+)"?/,Go="",Wo=0
function Yo(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.cacheLifeSpan,t=void 0===n?1e4:n,r=e.regex,i=void 0===r?Ho:r
if(!Go||Date.now()-Wo>t){var a=Ko&&document.cookie.match(i)
Go=a&&a[1]||"",Wo=Date.now()}return Go}var zo=function(){function e(n){ra(this,e),oa(this,"networkTransporter",void 0),oa(this,"inactive",void 0),oa(this,"mpName",void 0),oa(this,"endpoint",void 0),oa(this,"debug",void 0),this.networkTransporter=new $o(n),this.mpName=n.appId,this.inactive=n.inactive
var t=function(e){var n,t=!1
switch(e){case"https://www.linkedin.com/li/track":n=Qo
break
case"https://www.linkedin-ei.com/li/track/validate":default:t=!0,n=Xo
break
case"https://www.linkedin-ei.com/li/track":n=Xo}return{endpoint:n,debug:t}}(n.endpoint)
this.endpoint=t.endpoint,this.debug=t.debug}return aa(e,[{key:"fireFragment",value:function(e){if(!this.inactive){var n={"content-type":"application/json; charset=UTF-8","x-li-track":JSON.stringify({mpName:this.mpName}),"csrf-token":Yo(),"x-restli-protocol-version":"2.0.0"},t={fragmentEvent:e,debug:this.debug}
this.networkTransporter.sendPayload(this.endpoint,t,n)}}}]),e}(),Xo="https://www.linkedin-ei.com/trackingMonitoring/?action=saveClientFragment",Qo="https://www.linkedin.com/trackingMonitoring/?action=saveClientFragment"
function Jo(e){return"string"==typeof e}function Zo(e){return Jo(e)?e:e.topicName||e.eventName}function es(e){return Jo(e)?e:e.eventName}var ns,ts,rs=function(){function e(n){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}
ra(this,e),oa(this,"host",void 0),oa(this,"cmoTransporter",void 0),oa(this,"clientMonitoringInstanceId",Aa()),oa(this,"currentContext",{pageKey:"unknown",pageInstance:ka("unknown")}),oa(this,"appState",{}),oa(this,"estimatedFragmentSize",0),oa(this,"fragmentSizeLimit",void 0),oa(this,"activeFragmentEvent",void 0),oa(this,"debounceTimer",void 0),this.host=n,this.cmoTransporter=r.cmoTransporter||new zo(n),this.fragmentSizeLimit=(null===(t=n.clientMonitoringConfig)||void 0===t?void 0:t.fragmentSizeLimit)||10240,this.activeFragmentEvent=as(this.clientMonitoringInstanceId,0,0,!1,this.getEventHeaders())}return aa(e,[{key:"getCurrentInstanceId",value:function(){return this.clientMonitoringInstanceId}},{key:"scheduleDebouncedFiring",value:function(){var e,n,t=this
void 0!==this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=void 0),this.fragmentIsFull()&&this.fireFragmentEventIfFull(!0),this.debounceTimer=setTimeout((function(){t.fireFragmentEventIfFull()}),null!==(e=null===(n=this.host.batching)||void 0===n?void 0:n.debounceTime)&&void 0!==e?e:1)}},{key:"logEventGenerated",value:function(e){this.scheduleDebouncedFiring()
var n=this.activeFragmentEvent.stats,t=this.activeFragmentEvent.firstEventNumber+n.eventsGenerated
return n.eventTopics.push(e),n.eventsGenerated++,this.estimatedFragmentSize+=e.length,t}},{key:"logEventReadyToSend",value:function(e){this.activeFragmentEvent.stats.eventsReadyToSend+=e}},{key:"logEventSent",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId()
n===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.eventsSent+=e:this.findPreviousInstanceStat(n,(function(n){n.eventsSent+=e}))}},{key:"logNetworkResponseCode",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId(),t=this.activeFragmentEvent.stats.networkResponseStats
n!==this.getCurrentInstanceId()&&this.findPreviousInstanceStat(n,(function(e){t=e.networkResponseStats})),e>=200&&e<300?t.eventsWith2XXResponse++:400===e?t.eventsWith400Response++:408===e?t.eventsWith408Response++:429===e?t.eventsWith429Response++:e>400&&e<500?t.eventsWith4XXResponse++:500===e?t.eventsWith500Response++:502===e?t.eventsWith502Response++:503===e?t.eventsWith503Response++:504===e?t.eventsWith504Response++:e>500&&e<600&&t.eventsWith5XXResponse++}},{key:"findPreviousInstanceStat",value:function(e,n){var t,r=ta(this.activeFragmentEvent.stats.previousInstanceEventStats)
try{for(r.s();!(t=r.n()).done;){var i=t.value
if(i.instanceId===e)return void n(i)}}catch(e){r.e(e)}finally{r.f()}var a=this.getEventHeaders(),o=a.header,s=a.requestHeader,c={header:Object.assign(o,{memberId:-1}),requestHeader:s,instanceId:e,eventsSent:0,eventTopics:[],networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},failures:[]}
n(c),this.activeFragmentEvent.stats.previousInstanceEventStats.push(c)}},{key:"logFailedEvent",value:function(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getCurrentInstanceId(),a=this.getEventHeaders(),o=a.header,s=a.requestHeader,c={header:Object.assign(o,{memberId:-1}),requestHeader:s,instanceId:i,instanceEventNumber:r,reason:e,rawError:t,eventName:es(n),eventTopic:Zo(n)}
this.estimatedFragmentSize+=JSON.stringify(c).length,i===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.failures.push(c):this.findPreviousInstanceStat(i,(function(e){e.failures.push(c)})),this.fireFragmentEventIfFull()}},{key:"flush",value:function(){this.activeFragmentEvent.isLastFragment=!0,this.fireFragmentEventIfFull(!0)}},{key:"fragmentIsFull",value:function(){return this.activeFragmentEvent.stats.eventsGenerated>=100||this.estimatedFragmentSize>=this.fragmentSizeLimit}},{key:"fireFragmentEventIfFull",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.fragmentIsFull()){this.debounceTimer=void 0
var e=this.getEventHeaders(),n=e.header,t=e.requestHeader,r=this.activeFragmentEvent
r.header=n,r.requestHeader=t,this.cmoTransporter.fireFragment(r),this.estimatedFragmentSize=0,this.activeFragmentEvent=as(this.clientMonitoringInstanceId,r.fragmentNumber+1,r.firstEventNumber+r.stats.eventsGenerated,!1,e)}}},{key:"setCurrentContext",value:function(e){this.currentContext=e}},{key:"updateAppState",value:function(e){this.host.api.assign(this.appState,e)}},{key:"getEventHeaders",value:function(){var e=void 0
this.appState.clientApplicationInstance&&((e=this.appState.clientApplicationInstance).trackingId=os(e.trackingId))
var n=this.currentContext.pageInstance
return n.trackingId=os(n.trackingId),{requestHeader:{interfaceLocale:this.host.locale,pageKey:this.currentContext.pageKey,path:this.host.api.location.pathname+this.host.api.location.search,referer:this.host.api.document.referrer},header:{applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:e,pageInstance:n,time:Date.now(),version:this.host.appVersion,server:"",service:"",guid:"0000000000000000"}}}}]),e}()
function is(e){return ns||(ns=new rs(e)),{getCurrentInstanceId:function(){return ns.getCurrentInstanceId()},logEventGenerated:function(e){return ns.logEventGenerated(e)},logEventReadyToSend:function(e){ns.logEventReadyToSend(e)},logEventSent:function(e){ns.logEventSent(e)},logPersistedEventSent:function(e,n){ns.logEventSent(n,e)},logNetworkResponseCode:function(e){ns.logNetworkResponseCode(e)},logPersistedNetworkResponseCode:function(e,n){var t
null===(t=ns)||void 0===t||t.logNetworkResponseCode(n,e)},logFailedEvent:function(e,n,t,r){ns.logFailedEvent(e,n,t,r)},logPersistedFailedEvent:function(e,n,t,r,i){ns.logFailedEvent(n,t,r,i,e)},flush:function(){ns.flush()},destroy:function(){ns=void 0},isDestroyed:function(){return void 0===ns},setCurrentContext:function(e){ns.setCurrentContext(e)},updateAppState:function(e){ns.updateAppState(e)}}}function as(e,n,t,r,i){return{fragmentNumber:n,firstEventNumber:t,isLastFragment:r,stats:{instanceId:e,eventsGenerated:0,eventsReadyToSend:0,eventsSent:0,networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},eventTopics:[],failures:[],previousInstanceEventStats:[]},requestHeader:i.requestHeader,header:i.header}}function os(e){return Array.isArray(e)?Ea(e):16===e.length?e:function(e){return"string"==typeof e&&!!e.match(Sa)}(e)?atob(e):Ea(Ca(e))}!function(e){e.NONE="NONE",e.UNKNOWN_EXECUTION_ERROR="UNKNOWN_EXECUTION_ERROR",e.MISSING_REQUIRED_PROPERTIES="MISSING_REQUIRED_PROPERITES",e.STORAGE_WRITE_FAILURE="STORAGE_WRITE_FAILURE",e.RETRIES_EXCEEDED="RETRIES_EXCEEDED",e.EVENT_EVICTED_FROM_STORAGE="EVENT_EVICTED_FROM_STORAGE",e.STORAGE_UNAVAILABLE="STORAGE_UNAVAILABLE",e.SERIALIZATION_FAILURE="SERIALIZATION_FAILURE"}(ts||(ts={}))
var ss,cs,ds,us="PageViewEvent",ls=function(){function e(n){var t,r=this
ra(this,e),oa(this,"host",void 0),oa(this,"queue",void 0),oa(this,"preContextQueue",void 0),oa(this,"debounceTimer",void 0),oa(this,"unloadHandlers",void 0),oa(this,"maxQueueSize",void 0),oa(this,"flushDebounceTime",void 0),oa(this,"trackingEventListeners",[]),oa(this,"onHideHandler",(function(){r.forceFlush()})),oa(this,"networkTransporter",void 0),oa(this,"clientMonitoringConn",void 0),this.host=n,this.queue=[],this.preContextQueue=[],this.unloadHandlers=[]
var i=n.batching
this.maxQueueSize=i&&i.maxSize||1,this.flushDebounceTime=i&&i.debounceTime||0,Ua.on("internal:hide",this.onHideHandler),this.networkTransporter=new $o(n),"enabled"===(null===(t=n.__getLixTreatment)||void 0===t?void 0:t.call(n,"pemberly.tracking.monitoring"))&&n.clientMonitoringConfig&&!n.inactive&&(this.clientMonitoringConn=is(n))}return aa(e,[{key:"checkAndEnablePersistentRetry",value:function(e){var n,t=(n=this.clientMonitoringConn,{onIntermediateResult:function(e,t){var r
if(n&&!n.isDestroyed())try{if(r=JSON.parse(t),!Array.isArray(r)||0===r.length)return
e.statusCode&&n.logNetworkResponseCode(e.statusCode),!0===e.drop&&r.forEach((function(t){var r,i=t.eventInfo.eventName,a=t.eventInfo.topicName||i,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ")
n.logFailedEvent(ts.UNKNOWN_EXECUTION_ERROR,{eventName:i,topicName:a},s,null!==(r=t.eventBody.header.clientMonitoringInstanceEventNumber)&&void 0!==r?r:-1)}))}catch(e){}},onBeforeRetry:function(e){var t
if(n&&!n.isDestroyed())try{if(t=JSON.parse(e),!Array.isArray(t)||0===t.length||!t[0].eventBody.header.clientMonitoringInstanceId)return
var r=t[0].eventBody.header.clientMonitoringInstanceId,i=t.length
n.logPersistedEventSent(r,i)}catch(e){}},onResult:function(e,t){var r
if(n)try{if(r=JSON.parse(t),!Array.isArray(r)||0===r.length||!r[0].eventBody.header.clientMonitoringInstanceId)return
var i=r[0].eventBody.header.clientMonitoringInstanceId
e.statusCode&&n.logPersistedNetworkResponseCode(i,e.statusCode),!0===e.drop&&r.forEach((function(t){var r=t.eventInfo.eventName,a=t.eventInfo.topicName||r,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ")
n.logPersistedFailedEvent(i,ts.UNKNOWN_EXECUTION_ERROR,{eventName:r,topicName:a},s,t.eventBody.header.clientMonitoringInstanceEventNumber)}))}catch(e){}}})
this.networkTransporter.checkAndEnablePersistentRetry(e,t)}},{key:"clearPersistedEventsOnLogout",value:function(){return this.networkTransporter.clearPersistedEventsOnLogout()}},{key:"on",value:function(e){this.trackingEventListeners.push(e)}},{key:"fireEvent",value:function(e){var n=function(e){return e.meta.time=Date.now(),e}(e)
this.clientMonitoringConn&&(n.meta.clientMonitoringInstanceId=this.clientMonitoringConn.getCurrentInstanceId(),n.meta.clientMonitoringInstanceEventNumber=this.clientMonitoringConn.logEventGenerated(Zo(e.id)))
var t,r=this.host,i=r.api.Promise,a=r.batching
return n.meta.context?(this.prepareCompleteEnvelopeQueue(n),null===(t=this.clientMonitoringConn)||void 0===t||t.logEventReadyToSend(1),a?(this.batchFire(),i.resolve(!0)):(this.flush(!0),i.resolve(!0))):(this.preContextQueue.push(n),i.resolve(!0))}},{key:"callOnDestroy",value:function(e){this.unloadHandlers.push(e)}},{key:"destroy",value:function(){this.unloadHandlers.forEach((function(e){return e()})),this.forceFlush(),this.trackingEventListeners=[],this.clientMonitoringConn=void 0,Ua.off("internal:hide",this.onHideHandler)}},{key:"forceFlush",value:function(){var e=this
this.populatePreContextQueue({pageInstance:ka("unknown"),pageKey:"unknown"}).forEach((function(n){return e.queue.push(n)})),this.flush(!0)}},{key:"prepareCompleteEnvelopeQueue",value:function(e){var n=this,t=e.meta.context=xa(e.meta.context,this.host.api)
"function"==typeof e.body&&(e.body=e.body(t)),this.preContextQueue.length>0&&this.populatePreContextQueue(t).forEach((function(e){return n.queue.push(e)})),this.queue.push(e)}},{key:"envelop",value:function(e,n){var t=this.host,r=t.appId,i=t.api
return{eventBody:n,eventInfo:"string"==typeof e?{appId:r,eventName:e,topicName:e}:i.assign({appId:r},e)}}},{key:"getGenericEventBody",value:function(e){var n,t=this.host,r=t.appVersion,i=t.locale,a=t.api,o=a.location,s=a.document,c=a.assign,d=e.meta.context,u=d.pageKey,l=d.pageInstance,p=function(e){return"string"==typeof e?e===us:e.eventName===us}(e.id)&&(null===(n=e.body.requestHeader)||void 0===n?void 0:n.pageKey)||u,f=null
"string"!=typeof i&&null!==this.host.locale||(f=i)
var m={interfaceLocale:f,pageKey:p,path:o.pathname+o.search,referer:s.referrer},y={header:c({pageInstance:l,time:e.meta.time,version:r},e.meta.header||{}),requestHeader:c(m,e.meta.requestHeader||{})},h=e.meta.clientMonitoringInstanceId,g=e.meta.clientMonitoringInstanceEventNumber
return h&&c(y.header,{clientMonitoringInstanceId:h,clientMonitoringInstanceEventNumber:g}),c(e.body,y)}},{key:"populatePreContextQueue",value:function(e){var n,t=this.preContextQueue
return this.preContextQueue=[],null===(n=this.clientMonitoringConn)||void 0===n||n.logEventReadyToSend(t.length),t.map((function(n){return n.meta.context=e,"function"==typeof n.body&&(n.body=n.body(e)),n}))}},{key:"trigger",value:function(e,n){this.trackingEventListeners.forEach((function(t){return t(e,n)}))}},{key:"requestFlush",value:function(e){var n=this
e((function(t){t.timeRemaining()>5||t.didTimeout?n.forceFlush():n.requestFlush(e)}),{timeout:1e4})}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.host.api.requestIdleCallback
e||!n?this.sendPayload():this.requestFlush(n)}},{key:"batchFire",value:function(){var e=this
this.queue.length>this.maxQueueSize?this.flush():(this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){return e.flush()}),this.flushDebounceTime))}},{key:"sendPayload",value:function(){var e=this,n=this.queue
if(0!==n.length){this.queue=[]
var t,r,i=[],a=[]
n.forEach((function(n){var t=e.getGenericEventBody(n),r=e.envelop(n.id,t)
e.trigger(r,n.meta)
var o=r.eventInfo.eventName
"LixTreatmentsEvent"===o||"JavaScriptErrorEvent"===o?i.push(r):a.push(r)})),this.host.inactive||(this.clientMonitoringConn&&(this.clientMonitoringConn.logEventSent(i.length+a.length),r=this.clientMonitoringConn,t={onResult:function(e,n){r&&!r.isDestroyed()&&(e.statusCode&&r.logNetworkResponseCode(e.statusCode),!0===e.drop&&n.forEach((function(n){var t=n.eventInfo.eventName,i=n.eventInfo.topicName||t,a="rawError"in e?e.rawError:"null",o=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(a)].join(", ")
null==r||r.logFailedEvent(ts.UNKNOWN_EXECUTION_ERROR,{eventName:t,topicName:i},o,n.eventBody.header.clientMonitoringInstanceEventNumber||-1)})))}}),this.networkTransporter.sendPayloadFireForget(this.host.endpoint,i,void 0,t),this.networkTransporter.sendPayload(this.host.endpoint,a,void 0,t))}}}]),e}()
function ps(e){if(!e)return{}
var n=e.trk,t=!1,r=e.licu&&decodeURIComponent(e.licu)
e.external_control&&(r="urn:li:externalControl:".concat(decodeURIComponent(e.external_control)),t=!0)
var i=e.lipi&&function(e){var n=decodeURIComponent(e).split(";")
if(n.length>1)return{pageUrn:n[0],trackingId:n[1]}}(e.lipi),a=i&&{pageInstance:i,pageKey:n}||n&&{pageKey:n}
if(e.external_page&&e.external_page_instance){var o=decodeURIComponent(e.external_page)
a={pageInstance:{pageUrn:"urn:li:externalPage:".concat(o),trackingId:e.external_page_instance},pageKey:o},t=!0}var s=e.external_app&&e.external_app_instance?{applicationUrn:"urn:li:externalApplication:".concat(decodeURIComponent(e.external_app)),trackingId:e.external_app_instance,version:""}:void 0
return s&&((a=a||{}).applicationInstance=s),{fromExternalApp:t||!!s,previousApplicationInstance:s,previousContext:a,previousControlId:e.lici&&decodeURIComponent(e.lici),previousControlUrn:r}}function fs(e){return"retryConfig"in e.host}aa((function e(n,t){var r,i
if(ra(this,e),oa(this,"transporter",void 0),oa(this,"delegate",void 0),oa(this,"currentContext",void 0),oa(this,"appState",void 0),oa(this,"previousAppContext",void 0),oa(this,"customTransporters",void 0),oa(this,"clientMonitoringConn",void 0),this.transporter=n,this.delegate=t,this.appState={},this.customTransporters={},t&&t.customTransporterHosts)for(var a in t.customTransporterHosts)if(Object.prototype.hasOwnProperty.call(t.customTransporterHosts,a)){var o=this.transporter.host.api.assign({},this.transporter.host)
this.customTransporters[a]=new ls(this.transporter.host.api.assign(o,t.customTransporterHosts[a]))}"enabled"===(null===(r=(i=n.host).__getLixTreatment)||void 0===r?void 0:r.call(i,"pemberly.tracking.monitoring"))&&n.host.clientMonitoringConfig&&!n.host.inactive&&"location"in n.host.api&&(this.clientMonitoringConn=is(n.host))}),[{key:"host",get:function(){return this.transporter.host}},{key:"checkAndEnablePersistentRetry",value:function(){fs(this.transporter)&&this.transporter.checkAndEnablePersistentRetry(this.delegate)}},{key:"flushAndClearPersistedEventsOnLogout",value:function(){this.forceFlush()
var e=fs(this.transporter)?this.transporter.clearPersistedEventsOnLogout():null
return null!=e?e:this.host.api.Promise.resolve()}},{key:"getCurrentContext",value:function(){if(this.currentContext)return xa(this.currentContext,this.host.api)}},{key:"navigate",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.navMetaFromSeed(e,ps(n))
if(this.setCurrentContext(r.to),!t.suppressEventsFiring)return this.fireNavEvents(r)}},{key:"setCurrentContext",value:function(e){var n
this.currentContext=xa(e,this.host.api),null===(n=this.clientMonitoringConn)||void 0===n||n.setCurrentContext(xa(e,this.host.api))}},{key:"updateAppState",value:function(e){var n
this.host.api.assign(this.appState,e),null===(n=this.clientMonitoringConn)||void 0===n||n.updateAppState(e)}},{key:"fireCIE",value:function(e,n,t,r,i){return this.fireEvent("ControlInteractionEvent",(function(t){var a=Ia(t.pageKey,e),o={controlTrackingId:r,controlUrn:a,interactionType:n}
return i&&i(a),o}),{context:t})}},{key:"fireEvent",value:function(e,n,t){if(!n){var r=Zo(e),i=void 0===n?"undefined":null===n?"null":ua(n),a='Firing tracking event "'.concat(r,'" with invalid body, you fired "').concat(i,'"')
if(this.clientMonitoringConn){var o=this.clientMonitoringConn.logEventGenerated(r)
this.clientMonitoringConn.logFailedEvent(ts.MISSING_REQUIRED_PROPERTIES,e,a,o)}throw new Error(a)}return this.fireEnvelope(this.generateEnvelope(e,n,t))}},{key:"fireEnvelope",value:function(e){var n,t
if(null!==(n=this.delegate)&&void 0!==n&&null!==(t=n.shouldAnonymizeMemberId)&&void 0!==t&&t.call(n))if(Jo(e.id)){var r=e.id
e.id={eventName:r,topicName:r,shouldAnonymizeMemberId:!0}}else e.id.shouldAnonymizeMemberId=!0
var i=this.delegate&&this.delegate.preTransporter?this.delegate.preTransporter(e):e
if(i){var a=i.meta.transporterKey,o=a?this.customTransporters[a]:this.transporter
if(!o&&a){var s=Zo(i.id),c="Could not find custom transporter: ".concat(a)
if(this.clientMonitoringConn){var d=this.clientMonitoringConn.logEventGenerated(s)
this.clientMonitoringConn.logFailedEvent(ts.UNKNOWN_EXECUTION_ERROR,i.id,c,d)}throw new Error(c)}return o.fireEvent(i)}return this.host.api.Promise.resolve(!0)}},{key:"generatePageInstance",value:function(e,n){return ka(e,n)}},{key:"firePVE",value:function(e,n,t){var r={pageType:"full",totalTime:0,trackingCode:this.getTrackingCode(),trackingInfo:{}},i=this.host.api.assign(r,n),a=this.generateEnvelope("PageViewEvent",i,{context:t})
return a.meta.requestHeader.pageKey=e,this.fireEnvelope(a)}},{key:"destroy",value:function(){for(var e in this.transporter.destroy(),this.customTransporters)this.customTransporters[e].destroy()
this.clientMonitoringConn&&(this.clientMonitoringConn.flush(),this.clientMonitoringConn.destroy(),this.clientMonitoringConn=void 0),Ua.clear()}},{key:"forceFlush",value:function(){for(var e in this.transporter.forceFlush(),this.customTransporters)this.customTransporters[e].forceFlush()}},{key:"generateControlUrn",value:function(e,n){return Ia((n||this.currentContext||{pageKey:"unknown"}).pageKey,e)}},{key:"fireRawCIE",value:function(e,n,t,r){var i={controlTrackingId:r,controlUrn:e,interactionType:n}
return{beacon:this.fireEvent("ControlInteractionEvent",i,{context:t}),controlUrn:e}}},{key:"generateNavigationEvent",value:function(e){var n=e.triggerId,t=e.triggerUrn,r=e.from
return{previousPageInstance:r&&r.pageInstance,triggerControlTrackingId:n,triggerControlUrn:t}}},{key:"getTrackingCode",value:function(){return this.previousAppContext&&this.previousAppContext.pageKey}},{key:"navMetaFromSeed",value:function(e,n){var t="NavigationEvent"
this.previousAppContext=n.previousContext
var r=n.fromExternalApp?{eventName:t,topicName:"InboundNavigationEvent"}:t
return{from:n.previousContext,navEventId:r,to:{applicationInstance:n.applicationInstance,pageInstance:this.generatePageInstance(e,n.pageTrackingId),pageKey:e},triggerId:n.previousControlId,triggerUrn:n.previousControlUrn}}},{key:"fireNavEvents",value:function(e){var n=this.generateNavigationEvent(e),t=e.to,r=e.from,i=e.navEventId,a=this.generateEnvelope(i,n)
a.meta.requestHeader.pageKey=t.pageKey
var o=r&&r.applicationInstance
return o&&(a.meta.header.clientApplicationInstance=o),this.host.api.Promise.all([this.firePVE(t.pageKey),this.fireEnvelope(a)])}},{key:"generateEnvelope",value:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r={directive:t.directive,transporterKey:t.transporterKey,context:t.context||this.currentContext&&xa(this.currentContext,this.host.api),requestHeader:this.host.api.assign({trackingCode:this.getTrackingCode()},t.requestHeader||{}),header:this.host.api.assign({applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:this.appState.clientApplicationInstance},t.header||{})}
return{body:"function"==typeof n?n:function(){return n},id:e,meta:r}}}]),aa((function e(n,t){var r,i=this
ra(this,e),oa(this,"core",void 0),oa(this,"protocol",void 0),oa(this,"throttleKeySet",new Set),oa(this,"config",void 0),oa(this,"reportTransporterError",(function(e){e.reason instanceof Error||(e.reason=new Error(e.reason||"An error occurred in the transporter")),i.reportError(e.reason,e.tags.concat(["info"])).catch((function(){}))})),this.core=n
var a=this.core.host.api.location.protocol
this.protocol=a.substring(0,a.length-1),this.config={throttleTime:null!==(r=null==t?void 0:t.throttleTime)&&void 0!==r?r:100},Ua.on("internal:error",this.reportTransporterError)}),[{key:"reportError",value:function(e){var n,t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.callTreeId,o=void 0===a?"":a,s=i.responseHeaders,c=void 0===s?{}:s,d=e.message,u=e.name,l=e.stack,p=void 0===l?"":l,f=e.fileName,m=void 0===f?"":f,y=e.lineNumber,h=void 0===y?0:y,g=e.columnNumber,v=void 0===g?0:g,_=this.core.host,b=_.appId,T=_.appVersion,E=_.service,A=_.serviceInstance,S=_.treeID,C=void 0===S?"":S,k=_.api,I=k.Promise,R=k.location,x=R.host,w=R.pathname,O=R.search,M=R.hash,N=void 0===M?"":M
if(c){n={}
var P=new Map
Object.keys(c).forEach((function(e){P.set(e.toLowerCase(),c[e])})),n.callTreeId=P.get("x-li-uuid"),n.microsoftEdgeReference=P.get("x-msedge-ref"),n.pointOfPresenceId=P.get("x-li-pop"),n.fabric=P.get("x-li-fabric")}var D=function(){return t.core.fireEvent("JavaScriptErrorEvent",(function(e){return{appId:b,e:{c:v,l:h,m:d,s:p,t:u,u:m},h:N,l:t.protocol,o:x,p:w,pageKey:e.pageKey,q:O,service:E,serviceInstance:A,serviceVersion:T,t:r,trackingID:e.pageInstance.trackingId,treeID:C,callTreeId:o,responseTraceHeaders:n}}))}
if(this.config.throttleTime<0)return D()
var U=function(e){return e.split("").reduce((function(e,n){return(e<<5)-e+n.charCodeAt(0)|0}),0)}(u+d+p+r.join("")+o)
return this.throttleKeySet.has(U)?I.resolve(!1):(this.throttleKeySet.add(U),setTimeout((function(){return t.throttleKeySet.delete(U)}),this.config.throttleTime),D())}},{key:"flush",value:function(){this.core.forceFlush()}},{key:"destroy",value:function(){this.core.destroy(),Ua.off("internal:error",this.reportTransporterError)}}])
var ms=function(){function e(){ra(this,e),oa(this,"userTimingEntries",[]),oa(this,"longTasks",[]),oa(this,"resourceTimingEntries",[]),oa(this,"cdnData",void 0)}return aa(e,[{key:"reset",value:function(){this.userTimingEntries=[],this.longTasks=[],this.resourceTimingEntries=[]}},{key:"attachTreeIds",value:function(e){this.resourceTimingEntries.forEach((function(n){var t=e.get(n.name)
t&&(n.resourceTreeId=t)}))}},{key:"getData",value:function(){return{userTimingEntries:this.userTimingEntries,longTasks:this.longTasks,resourceTimingEntries:this.resourceTimingEntries.map(hs),cdnData:this.cdnData}}}]),e}(),ys=["resourceTreeId","name","entryType","startTime","duration","initiatorType","nextHopProtocol","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","transferSize","encodedBodySize","decodedBodySize","workerStart"]
function hs(e){return ys.reduce((function(n,t){var r=e[t]
return void 0!==r&&(n[t]=r),n}),{})}function gs(e,n,t){for(var r=null,i=[],a=e,o=0,s=function(){var e=Ss(function(e){var n=a.getAttribute("id")
return n&&cs.idName(n)?{name:"#"+Ns(n,{isIdentifier:!0}),penalty:0}:null}())||Ss.apply(void 0,sa(function(e){return Array.from(e.attributes).filter((function(e){return cs.attr(e.name,e.value)})).map((function(e){return{name:"["+Ns(e.name,{isIdentifier:!0})+'="'+Ns(e.value)+'"]',penalty:.5}}))}(a)))||Ss.apply(void 0,sa(function(e){return Array.from(e.classList).filter(cs.className).map((function(e){return{name:"."+Ns(e,{isIdentifier:!0}),penalty:1}}))}(a)))||Ss(function(e){var n=a.tagName.toLowerCase()
return cs.tagName(n)?{name:n,penalty:2}:null}())||[{name:"*",penalty:3}],s=function(e){var n=e.parentNode
if(!n)return null
var t=n.firstChild
if(!t)return null
for(var r=0;t&&(t.nodeType===Node.ELEMENT_NODE&&r++,t!==e);)t=t.nextSibling
return r}(a)
if(n===ss.All)s&&(e=e.concat(e.filter(As).map((function(e){return Es(e,s)}))))
else if(n===ss.Two)e=e.slice(0,1),s&&(e=e.concat(e.filter(As).map((function(e){return Es(e,s)}))))
else if(n===ss.One){var c=function(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
if(null!=t){var r,i,a=[],o=!0,s=!1
try{for(t=t.call(e);!(o=(r=t.next()).done)&&(a.push(r.value),1!==a.length);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==t.return||t.return()}finally{if(s)throw i}}return a}}(e)||ca(e,1)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(e=e.slice(0,1))[0]
s&&As(c)&&(e=[Es(c,s)])}var d,u=ta(e)
try{for(u.s();!(d=u.n()).done;)d.value.level=o}catch(e){u.e(e)}finally{u.f()}if(i.push(e),i.length>=cs.seedMinLength&&(r=vs(i,t)))return"break"
a=a.parentElement,o++};a&&a!==cs.root.parentElement&&"break"!==s(););return r||(r=vs(i,t)),r}function vs(e,n){var t=ks(function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
if(n.length>0){var r,i=[],a=ta(n[0])
try{for(a.s();!(r=a.n()).done;){var o=r.value
i=i.concat(e(n.slice(1,n.length),t.concat(o)))}}catch(n){a.e(n)}finally{a.f()}return i}return[t]}(e))
if(t.length>cs.threshold)return n?n():null
var r,i=ta(t)
try{for(i.s();!(r=i.n()).done;){var a=r.value
if(Ts(a))return a}}catch(e){i.e(e)}finally{i.f()}return null}function _s(e){for(var n=e[0],t=n.name,r=1;r<e.length;r++){var i=e[r].level||0
t=n.level===i-1?"".concat(e[r].name," > ").concat(t):"".concat(e[r].name," ").concat(t),n=e[r]}return t}function bs(e){return e.map((function(e){return e.penalty})).reduce((function(e,n){return e+n}),0)}function Ts(e){switch(ds.querySelectorAll(_s(e)).length){case 0:throw new Error("Can't select any node with this selector: ".concat(_s(e)))
case 1:return!0
default:return!1}}function Es(e,n){return{name:e.name+":nth-child(".concat(n,")"),penalty:e.penalty+1}}function As(e){return"html"!==e.name&&!e.name.startsWith("#")}function Ss(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
var r=n.filter(Cs)
return r.length>0?r:null}function Cs(e){return null!=e}function ks(e){return Array.from(e).sort((function(e,n){return bs(e)-bs(n)}))}function Is(e,n){return ds.querySelector(_s(e))===n}!function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(ss||(ss={}))
var Rs,xs=/[ -,\.\/:-@\[-\^`\{-~]/,ws=/[ -,\.\/:-@\[\]\^`\{-~]/,Os=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,Ms={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1}
function Ns(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=Object.assign(Object.assign({},Ms),n)
"single"!=t.quotes&&"double"!=t.quotes&&(t.quotes="single")
for(var r="double"==t.quotes?'"':"'",i=t.isIdentifier,a=e.charAt(0),o="",s=0,c=e.length;s<c;){var d=e.charAt(s++),u=d.charCodeAt(0),l=void 0
if(u<32||u>126){if(u>=55296&&u<=56319&&s<c){var p=e.charCodeAt(s++)
56320==(64512&p)?u=((1023&u)<<10)+(1023&p)+65536:s--}l="\\"+u.toString(16).toUpperCase()+" "}else l=t.escapeEverything?xs.test(d)?"\\"+d:"\\"+u.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(d)?"\\"+u.toString(16).toUpperCase()+" ":"\\"==d||!i&&('"'==d&&r==d||"'"==d&&r==d)||i&&ws.test(d)?"\\"+d:d
o+=l}return i&&(/^-[-\d]/.test(o)?o="\\-"+o.slice(1):/\d/.test(a)&&(o="\\3"+a+" "+o.slice(1))),o=o.replace(Os,(function(e,n,t){return n&&n.length%2?e:(n||"")+t})),!i&&t.wrap?r+o+r:o}function Ps(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
if(e&&"function"==typeof e.now&&(e.timeOrigin||e.timing)){var t,r=e.now()
return t=!e.timing&&n?Math.floor(e.timeOrigin):e.timing.navigationStart,Math.round(r+t)}return Date.now()}function Ds(e){var n=e||performance
return Math.round(n.now())}function Us(e){if(!e)return"null"
if(e.nodeType===Node.ELEMENT_NODE)try{return function(e,n){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.")
if("html"===e.tagName.toLowerCase())return"html"
var t={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,n){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4}
cs=Object.assign(Object.assign({},t),{idName:function(e){return 0!==e.indexOf("ember")}}),ds=function(e,n){return e.nodeType===Node.DOCUMENT_NODE?e:e===n.root?e.ownerDocument:e}(cs.root,t)
var r=gs(e,ss.All,(function(){return gs(e,ss.Two,(function(){return gs(e,ss.One)}))}))
if(r){var i=ks(function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{counter:0,visited:new Map},i=[]
if(n.length>2&&n.length>cs.optimizedMinLength)for(var a=1;a<n.length-1;a++){if(r.counter>cs.maxNumberOfTries)return i
r.counter+=1
var o=sa(n)
o.splice(a,1)
var s=_s(o)
if(r.visited.has(s))return i
Ts(o)&&Is(o,t)&&(i.push(o),r.visited.set(s,!0),i=i.concat(e(o,t,r)))}return i}(r,e))
return i.length>0&&(r=i[0]),_s(r)}throw new Error("Selector was not found.")}(e)}catch(e){return"serialization_error"}var n=Us(e.parentElement||void 0)
return"".concat(n," > nodeType(").concat(e.nodeType,")")}function Ls(e,n,t){var r=[]
return e&&"function"==typeof e.getEntriesByType&&(n["user-timing-measure-enabled"]&&e.getEntriesByType("measure").forEach((function(e){r.push({entryType:"MEASURE",name:e.name,startTime:e.startTime,duration:e.duration})})),n["user-timing-mark-enabled"]&&e.getEntriesByType("mark").forEach((function(e){r.push({entryType:"MARK",name:e.name,startTime:e.startTime,duration:e.duration})})),t&&(e.clearMeasures(),e.clearMarks())),r}function Fs(e){var n=[]
return e.forEach((function(e){return n.push(e)})),n}var js,Bs=function(){function e(n){ra(this,e),oa(this,"hostApis",void 0),oa(this,"hostnameProperties",void 0),oa(this,"usedHostnames",void 0),oa(this,"abortController",void 0),oa(this,"pendingPromises",void 0),this.hostApis=n
var t=n.AbortController
this.hostnameProperties={},this.usedHostnames=new Set,this.abortController=new t,this.pendingPromises=new Set}return aa(e,[{key:"clearUsedHostnames",value:function(){this.usedHostnames=new Set}},{key:"getPresentData",value:function(){var e=this
return Oa(this.usedHostnames).map((function(n){return e.hostnameProperties[n]||{hostname:n,provider:"",ipVersion:"",httpVersion:""}}))}},{key:"getDataWhenReady",value:function(e){var n=this,t=this.hostApis,r=t.AbortController,i=t.Promise,a=wa(Oa(this.pendingPromises),i),o=setTimeout((function(){n.abortController.abort(),n.abortController=new r}),e)
return a.then((function(){return clearTimeout(o),n.getPresentData()}))}},{key:"inspectEntryForCdnData",value:function(e){var n=this
if(!(e.name.indexOf(".licdn.")<0)){var t,r,i=this.hostApis.assign,a=(t=e.name,r=this.hostApis.document,(Rs=Rs||r.createElement("a")).href=t,Rs.hostname)
if(this.usedHostnames.add(a),!this.hostnameProperties[a]&&!this.isResourcePossiblyFromCache(e)){var o=this.fetchCdnFromUrl(e.name).then((function(e){var t=i({hostname:a},e)
return n.hostnameProperties[a]||(n.hostnameProperties[a]=t),n.pendingPromises.delete(o),t}))
this.pendingPromises.add(o)}}}},{key:"fetchCdnFromUrl",value:function(e){return(0,this.hostApis.fetch)(e,{method:"HEAD",signal:this.abortController.signal}).then((function(e){return{provider:e.headers.get("X-CDN")||"",ipVersion:e.headers.get("X-CDN-CLIENT-IP-VERSION")||"",httpVersion:e.headers.get("X-CDN-Proto")||""}}))}},{key:"isResourcePossiblyFromCache",value:function(e){return void 0!==e.transferSize?0===e.transferSize:e.domainLookupStart===e.domainLookupEnd&&e.connectEnd===e.connectStart&&0===e.secureConnectionStart}}]),e}(),qs=function(){function e(n,t,r,i){var a=this
ra(this,e),oa(this,"hostApis",void 0),oa(this,"statics",void 0),oa(this,"options",void 0),oa(this,"allowTimingOrigin",void 0),oa(this,"collectResourceTimings",void 0),oa(this,"collectCdnData",void 0),oa(this,"perfObserver",void 0),oa(this,"renderTimings",new Map),oa(this,"urlToTreeId",new Map),oa(this,"cdnDataProvider",void 0),oa(this,"currentCollect",void 0),oa(this,"currentTimer",void 0),oa(this,"collectWhileWaitingForAsync",void 0),oa(this,"onBeforeHideHandler",(function(){a.collectAndClearTimer(!0)})),oa(this,"observables",new ms),oa(this,"isInitial",!0),this.hostApis=n,this.statics=t,this.options=r,this.allowTimingOrigin=i,this.collectResourceTimings=r["enable-rs-timing"],this.collectCdnData=r["enable-cdn-tracking"],this.collectCdnData&&(this.cdnDataProvider=new Bs(n))}return aa(e,[{key:"recordTreeId",value:function(e,n){this.collectResourceTimings&&this.urlToTreeId.set(function(e,n){return(Rs=Rs||n.createElement("a")).href=e,Rs.href}(n,this.hostApis.document),e)}},{key:"recordRenderStart",value:function(e,n){this.renderTimings.has(e)||this.renderTimings.set(e,{renderName:n,viewId:e,renderStart:Ps(this.hostApis.performance,this.allowTimingOrigin)})}},{key:"recordRenderEnd",value:function(e){var n=this.renderTimings.get(e)
n&&(n.renderEnd=n.renderEnd||Ps(this.hostApis.performance,this.allowTimingOrigin))}},{key:"startObserving",value:function(){var e=this.hostApis,n=e.PerformanceObserver,t=e.performance
this.stopObserving(),n?this.setupPerformanceObserver(n):this.collectResourceTimings&&this.emulateResourceTimingObserver(t),this.collectResourceTimings&&this.processNewResourceTimings()}},{key:"stopObserving",value:function(){var e
this.collectAndClearTimer(!0),null===(e=this.perfObserver)||void 0===e||e.disconnect(),this.reset()}},{key:"collectAndClearTimer",value:function(e){this.currentCollect?(this.currentCollect(e),clearTimeout(this.currentTimer),this.currentCollect=null,this.currentTimer=null):e&&this.collectWhileWaitingForAsync&&this.collectWhileWaitingForAsync()}},{key:"collect",value:function(e){var n=this,t=this.isInitial
this.isInitial=!1
var r=this.hostApis,i=r.assign,a=r.PerformanceObserver,o=r.Promise
this.currentCollect=function(r){Ua.offBefore("internal:hide",n.onBeforeHideHandler)
var s=function(){var r=Object.create(null)
n.observables.cdnData=n.collectCdnData?n.cdnDataProvider.getPresentData():null,a||(n.observables.userTimingEntries=Ls(n.hostApis.performance,n.options,!0),n.collectResourceTimings&&n.processNewResourceTimings()),n.observables.attachTreeIds(n.urlToTreeId),n.urlToTreeId.clear()
var o=n.observables.getData(),s=n.extractUsedCDN(o.cdnData||[])
i(n.statics,s),i(r,o,n.snapshot,n.statics),t&&(i(r,function(e){if(!e)return{navigationTimingApi:!1}
var n=Object.create({})
if("function"==typeof e.getEntriesByType){var t=e.getEntriesByType("navigation")[0]
t&&(["fetchStart","responseEnd","decodedBodySize","encodedBodySize","transferSize"].every((function(e){return"number"==typeof t[e]}))&&(n.htmlMetrics={htmlFetchStart:t.fetchStart,htmlResponseEnd:t.responseEnd,htmlDecodedBodySize:t.decodedBodySize,htmlEncodedBodySize:t.encodedBodySize,htmlTransferSize:t.transferSize}),n.workerStart=t.workerStart)}var r=e.timing,i=e.navigation
return r&&i?(n.navigationTimingApi=!0,Vs.forEach((function(e){e in r&&(n[e]=r[e])})),n.navigationType=i.type,n.redirectCount=i.redirectCount):n.navigationTimingApi=!1,n}(n.hostApis.performance)),n.statics.pageLoadMode="PARTIAL"),n.reset(),e(r)}
if(r)s()
else{n.collectWhileWaitingForAsync=s
var c=[]
n.collectCdnData&&c.push(n.cdnDataProvider.getDataWhenReady(n.options["async-plugins-timeout"]).then((function(e){n.observables.cdnData=e}))),c.length>0?wa(c,o).then((function(){n.collectWhileWaitingForAsync=null,s()})):s()}},Ua.before("internal:hide",this.onBeforeHideHandler),this.currentTimer=setTimeout((function(){n.currentCollect(!1),n.currentCollect=null,n.currentTimer=null}),this.options["beacon-timeout"])}},{key:"setupPerformanceObserver",value:function(e){var n=this
this.perfObserver=new e((function(e){e.getEntries().forEach((function(e){var t=e.entryType,r=e.name,i=e.startTime,a=e.duration
"resource"===t?n.processSingleResourceTiming(e):"mark"===t?n.observables.userTimingEntries.push({entryType:"MARK",name:r,startTime:i,duration:a}):"measure"===t?n.observables.userTimingEntries.push({entryType:"MEASURE",name:r,startTime:i,duration:a}):"longtask"===t&&n.observables.longTasks.push({duration:a,name:r,startTime:i})}))})),this.observables.userTimingEntries=Ls(this.hostApis.performance,this.options,!1)
var t=["longtask"];(this.collectResourceTimings||this.collectCdnData)&&t.push("resource"),this.options["user-timing-mark-enabled"]&&t.push("mark"),this.options["user-timing-measure-enabled"]&&t.push("measure"),this.perfObserver.observe({entryTypes:t})}},{key:"emulateResourceTimingObserver",value:function(e){var n=this
e&&"function"==typeof e.setResourceTimingBufferSize&&"function"==typeof e.onresourcetimingbufferfull&&(e.setResourceTimingBufferSize(100),e.onresourcetimingbufferfull=function(){return n.processNewResourceTimings()})}},{key:"processNewResourceTimings",value:function(){var e=this,n=this.hostApis.performance
"function"==typeof n.getEntriesByType&&"function"==typeof n.clearResourceTimings&&(n.getEntriesByType("resource").forEach((function(n){return e.processSingleResourceTiming(n)})),n.clearResourceTimings())}},{key:"processSingleResourceTiming",value:function(e){this.collectResourceTimings&&this.observables.resourceTimingEntries.push(e),this.collectCdnData&&this.cdnDataProvider.inspectEntryForCdnData(e)}},{key:"extractUsedCDN",value:function(e){var n=e.filter((function(e){return e.hostname.indexOf("static")>=0})),t=n.length>0?n[0]:{hostname:"",provider:"",httpVersion:"",ipVersion:""}
return{usedCDN:{static_domain:t.provider,http_version:t.httpVersion,ip_version:t.ipVersion}}}},{key:"reset",value:function(){var e
this.observables.reset(),null===(e=this.cdnDataProvider)||void 0===e||e.clearUsedHostnames()}},{key:"snapshot",get:function(){var e={detailedRenderTimingEntries:Fs(this.renderTimings),networkInformationMetrics:$s(this.hostApis.connection)}
return this.renderTimings.clear(),e}}]),e}(),Vs=["loadEventEnd","loadEventStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","responseEnd","responseStart","requestStart","secureConnectionStart","connectEnd","connectStart","domainLookupEnd","domainLookupStart","fetchStart","redirectEnd","redirectStart","unloadEventEnd","unloadEventStart","navigationStart"]
function $s(e){return e?{connectionType:e.type&&e.type.toUpperCase()||"UNKNOWN",effectiveType:function(e){switch(e){case"2g":return"TWO_G"
case"3g":return"THREE_G"
case"4g":return"FOUR_G"
default:return"SLOW_2G"}}(e.effectiveType),roundTripTime:e.rtt||-1,downlinkBandwidth:e.downlink||-1,downlinkMaxBandwidth:void 0===e.downlinkMax?-1:e.downlinkMax===1/0?0:e.downlinkMax}:void 0}!function(e){e.RealUserMonitoringEvent="RealUserMonitoringEvent",e.FeaturePerformanceMeasurementEvent="FeaturePerformanceMeasurementEvent",e.ClientPerfMetricsEvent="ClientPerfMetricsEvent",e.WEB_UI_FRAMEWORK="web-ui-framework",e.APP_ID="app-id",e.APP_VERSION="app-version",e.IS_SINGLE_PAGE_APP="is-single-page-app",e.IS_APP_RENDER_FAILED="is-app-render-failed",e.APP_RENDER_MODE="app-render-mode",e.USER_TIMING_MARK_ENABLED="user-timing-mark-enabled",e.USER_TIMING_MEASURE_ENABLED="user-timing-measure-enabled",e.BEACON_SOURCE="beacon-source",e.BEACON_TIMEOUT="beacon-timeout",e.ENABLE_RS_TIMING="enable-rs-timing",e.ENABLE_CDN_TRACKING="enable-cdn-tracking",e.ASYNC_PLUGINS_TIMEOUT="async-plugins-timeout",e.ENABLE_MEMORY_MEASUREMENT="enable-memory-measurement",e.PAGE_KEY_PREFIX="pageKeyPrefix"}(js||(js={}))
var Ks,Hs,Gs,Ws,Ys=(oa(Br={},"web-ui-framework","EMBER"),oa(Br,"app-id","linkedin.rum.tracking"),oa(Br,"app-version","unknown"),oa(Br,"is-single-page-app",!0),oa(Br,"user-timing-mark-enabled",!1),oa(Br,"user-timing-measure-enabled",!0),oa(Br,"beacon-source","apps"),oa(Br,"enable-rs-timing",!0),oa(Br,"enable-cdn-tracking",!1),oa(Br,"async-plugins-timeout",5e3),oa(Br,"beacon-timeout",3e4),oa(Br,"enable-memory-measurement",!1),oa(Br,"pageKeyPrefix",""),Br),zs=aa((function e(n,t,r){ra(this,e),oa(this,"webUIFramework",void 0),oa(this,"timeSource",void 0),oa(this,"isSinglePageApp",void 0),oa(this,"appRenderMode",void 0),oa(this,"isAppRenderFailed",void 0),oa(this,"pageLoadMode","INITIAL"),oa(this,"isSSL",void 0),oa(this,"treeId",void 0),oa(this,"isFromServiceWorker",void 0),oa(this,"usedCDN",void 0),this.webUIFramework=t["web-ui-framework"],this.timeSource=t["beacon-source"],this.isSinglePageApp=t["is-single-page-app"],this.appRenderMode=n["app-render-mode"],this.isAppRenderFailed=n["is-app-render-failed"],this.isSSL="https:"===r.api.location.protocol?1:0,this.treeId=r.treeID,this.isFromServiceWorker=r.isFromServiceWorker})),Xs=function(e,n){return{name:e,value:void 0===n?-1:n,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},Qs=function(e,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return
var t=new PerformanceObserver((function(e){return e.getEntries().map(n)}))
return t.observe({type:e,buffered:!0}),t}}catch(e){}},Js=function(e,n){var t=function t(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),n&&(removeEventListener("visibilitychange",t,!0),removeEventListener("pagehide",t,!0)))}
addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},Zs=function(e){addEventListener("pageshow",(function(n){n.persisted&&e(n)}),!0)},ec=function(e,n,t){var r
return function(i){n.value>=0&&(i||t)&&(n.delta=n.value-(r||0),(n.delta||void 0===r)&&(r=n.value,e(n)))}},nc=-1,tc=function(){return"hidden"===document.visibilityState?0:1/0},rc=function(){Js((function(e){var n=e.timeStamp
nc=n}),!0)},ic=function(){return nc<0&&(nc=tc(),rc(),Zs((function(){setTimeout((function(){nc=tc(),rc()}),0)}))),{get firstHiddenTime(){return nc}}},ac=!1,oc=-1,sc=function(e,n){ac||(function(e,n){var t,r=ic(),i=Xs("FCP"),a=function(e){"first-contentful-paint"===e.name&&(s&&s.disconnect(),e.startTime<r.firstHiddenTime&&(i.value=e.startTime,i.entries.push(e),t(!0)))},o=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],s=o?null:Qs("paint",a);(o||s)&&(t=ec(e,i,n),o&&a(o),Zs((function(r){i=Xs("FCP"),t=ec(e,i,n),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,t(!0)}))}))})))}((function(e){oc=e.value})),ac=!0)
var t,r=function(n){oc>-1&&e(n)},i=Xs("CLS",0),a=0,o=[],s=function(e){if(!e.hadRecentInput){var n=o[0],r=o[o.length-1]
a&&e.startTime-r.startTime<1e3&&e.startTime-n.startTime<5e3?(a+=e.value,o.push(e)):(a=e.value,o=[e]),a>i.value&&(i.value=a,i.entries=o,t())}},c=Qs("layout-shift",s)
c&&(t=ec(r,i,n),Js((function(){c.takeRecords().map(s),t(!0)})),Zs((function(){a=0,oc=-1,i=Xs("CLS",0),t=ec(r,i,n)})))},cc={passive:!0,capture:!0},dc=new Date,uc=function(e,n){Ks||(Ks=n,Hs=e,Gs=new Date,fc(removeEventListener),lc())},lc=function(){if(Hs>=0&&Hs<Gs-dc){var e={entryType:"first-input",name:Ks.type,target:Ks.target,cancelable:Ks.cancelable,startTime:Ks.timeStamp,processingStart:Ks.timeStamp+Hs}
Ws.forEach((function(n){n(e)})),Ws=[]}},pc=function(e){if(e.cancelable){var n=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp
"pointerdown"==e.type?function(e,n){var t=function(){uc(e,n),i()},r=function(){i()},i=function(){removeEventListener("pointerup",t,cc),removeEventListener("pointercancel",r,cc)}
addEventListener("pointerup",t,cc),addEventListener("pointercancel",r,cc)}(n,e):uc(n,e)}},fc=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(n){return e(n,pc,cc)}))},mc=function(e,n){var t,r=ic(),i=Xs("FID"),a=function(e){e.startTime<r.firstHiddenTime&&(i.value=e.processingStart-e.startTime,i.entries.push(e),t(!0))},o=Qs("first-input",a)
t=ec(e,i,n),o&&Js((function(){o.takeRecords().map(a),o.disconnect()}),!0),o&&Zs((function(){var r
i=Xs("FID"),t=ec(e,i,n),Ws=[],Hs=-1,Ks=null,fc(addEventListener),r=a,Ws.push(r),lc()}))},yc={},hc=function(e,n){var t,r=ic(),i=Xs("LCP"),a=function(e){var n=e.startTime
n<r.firstHiddenTime&&(i.value=n,i.entries.push(e)),t()},o=Qs("largest-contentful-paint",a)
if(o){t=ec(e,i,n)
var s=function(){yc[i.id]||(o.takeRecords().map(a),o.disconnect(),yc[i.id]=!0,t(!0))};["keydown","click"].forEach((function(e){addEventListener(e,s,{once:!0,capture:!0})})),Js(s,!0),Zs((function(r){i=Xs("LCP"),t=ec(e,i,n),requestAnimationFrame((function(){requestAnimationFrame((function(){i.value=performance.now()-r.timeStamp,yc[i.id]=!0,t(!0)}))}))}))}},gc=["LCP","FID","CLS"],vc={LCP:"LargestContentfulPaint",FID:"FirstInputDelay",CLS:"CumulativeLayoutShift"},_c={},bc=!1,Tc=[],Ec={LCP:"largest-contentful-paint",FID:"first-input",CLS:"layout-shift"}
function Ac(e){_c[e]={name:e,value:-1,updateHistory:[]}
var n=Ec[e]
"undefined"!=typeof PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&"string"==typeof n&&PerformanceObserver.supportedEntryTypes.indexOf(n)>-1||(_c[e].value=-2)}function Sc(e){var n=_c[e.name],t=Ds()
n&&(n.updateHistory.push({time:t,data:e}),n.value=e.value),Tc.forEach((function(n){return n(e,t,!1)}))}function Cc(e){Tc.forEach((function(n){return n(e,Ds(),!0)}))}var kc=function(){function e(n,t){ra(this,e),oa(this,"basePageTreeId",void 0),oa(this,"basePageKey",void 0),oa(this,"startPageInstance",void 0),oa(this,"observing",!1),oa(this,"fpmReportingState",{}),oa(this,"appContextMap",new Map),oa(this,"rumConfig",void 0),oa(this,"trackingCore",void 0),oa(this,"removeOnHiddenListener",(function(){})),this.trackingCore=n,this.rumConfig=t}return aa(e,[{key:"startObserving",value:function(){var e,n,t,r,i=this
e=!0===window.__test__resetWebVitalsState,bc&&!e||(e&&(Tc=[]),gc.forEach(Ac),[hc,mc,sc].forEach((function(e){return e(Sc,!0)})),[hc,mc,sc].forEach((function(e){return e(Cc)})),bc=!0),this.observing||(this.observing=!0,this.basePageTreeId=this.trackingCore.host.treeID||"_unknown",this.basePageKey=(null===(n=this.trackingCore.getCurrentContext())||void 0===n?void 0:n.pageKey)||"_unknown",this.startPageInstance=(null===(t=this.trackingCore.getCurrentContext())||void 0===t?void 0:t.pageInstance)||ka("unknown"),gc.forEach((function(e){var n
i.fpmReportingState[e]=!1,-2===(null===(n=_c[e])||void 0===n?void 0:n.value)&&i.reportMetric(e)})),r=this.onMetricUpdate.bind(this),Tc.push(r),this.removeOnHiddenListener=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=function t(r){"hidden"===document.visibilityState&&(e(r),n&&removeEventListener("visibilitychange",t,!0))}
return addEventListener("visibilitychange",t,!0),function(){removeEventListener("visibilitychange",t,!0)}}(this.reportAllRemainingWithFpm.bind(this)))}},{key:"stopObserving",value:function(){this.observing=!1,this.removeOnHiddenListener()}},{key:"onMetricUpdate",value:function(e,n,t){var r
this.observing&&(t?this.reportMetric(e.name):this.appContextMap.set(n,{time:n,url:location.href,pageKey:null===(r=this.trackingCore.getCurrentContext())||void 0===r?void 0:r.pageKey}))}},{key:"reportMetric",value:function(e){this.reportViaFpmEvent(e),this.reportViaClientPerfEvent(e)}},{key:"reportViaClientPerfEvent",value:function(e){var n=_c[e],t={name:vc[e]||e}
"CLS"===e?t.doubleValue=n.value:t.longValue=Math.round(n.value)
var r=_c[e]
if(r){var i=function(e,n,t,r,i){var a={basePageTreeId:e,basePageKey:n},o=null
switch(t.name){case"LCP":o=function(e,n){var t
if(0===e.updateHistory.length)return null
var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,a=i[i.length-1],o={pageKey:(null===(t=n.get(r.time))||void 0===t?void 0:t.pageKey)||"_unknown",element:Us(a.element),renderTime:Math.round(a.renderTime),loadTime:Math.round(a.loadTime),size:Math.round(a.size)}
return a.url&&(o.url=a.url),o}(t,r)
break
case"FID":o=function(e,n){var t
if(0===e.updateHistory.length)return null
var r=e.updateHistory[e.updateHistory.length-1],i=r.data.entries,a=i[i.length-1]
return{pageKey:(null===(t=n.get(r.time))||void 0===t?void 0:t.pageKey)||"_unknown",processingStart:Math.round(a.processingStart),processingEnd:Math.round(a.processingEnd),target:Us(a.target)}}(t,r)
break
case"CLS":o=function(e,n){if(0===e.updateHistory.length)return null
var t=e.updateHistory.map((function(e){return e.data.entries})).flat()
if(0===t.length)return null
var r=t.reduce((function(e,n){return e&&e.value>n.value?e:n})),i=e.updateHistory.find((function(e){return e.data.entries.includes(r)})),a=null
r&&r.sources&&r.sources.length&&(a=r.sources.reduce((function(e,n){return e.node&&e.previousRect.width*e.previousRect.height>n.previousRect.width*n.previousRect.height?e:n})))
var o,s=n.get(i.time)
return a&&s?{shiftCount:t.length,"largestShift.value":r.value,"largestShift.hadRecentInput":r.hadRecentInput,"largestShift.largestSource.node":Us(null===(o=a)||void 0===o?void 0:o.node),"largestShift.pageKey":s.pageKey||"_unknown","largestShift.url":s.url,"largestShift.startTime":Math.round(r.startTime)}:null}(t,r)}if(o){var s={}
return i(s,a,o),s}return a}(this.basePageTreeId,this.basePageKey,r,this.appContextMap,this.trackingCore.host.api.assign)
t.metadata=function(e){var n={}
return Object.keys(e).forEach((function(t){var r=e[t]
n[t]="string"==typeof r?r:JSON.stringify(r)})),n}(i)}var a={scope:{scopeType:"APPLICATION_INSTANCE",scopeKey:this.basePageTreeId},metrics:[t]}
this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"ClientPerfMetricsEvent"},a)}},{key:"reportViaFpmEvent",value:function(e){if(!1===this.fpmReportingState[e]){var n=_c[e],t={basePageTreeId:this.basePageTreeId,name:e,startTime:Ds(this.trackingCore.host.api.performance),duration:this.formatValue(n.value,e),startPageInstance:this.startPageInstance,marks:[],spans:[]}
this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"FeaturePerformanceMeasurementEvent"},t)}this.fpmReportingState[e]=!0}},{key:"reportAllRemainingWithFpm",value:function(){var e=this
gc.forEach((function(n){n in _c&&e.reportViaFpmEvent(n)})),this.trackingCore.forceFlush()}},{key:"formatValue",value:function(e,n){var t=e
return-1===e||-2===e?t:("CLS"===n&&(t*=1e5),Math.round(t))}}]),e}(),Ic=function(){function e(n,t,r){ra(this,e),oa(this,"featureName",void 0),oa(this,"trackingCore",void 0),oa(this,"rumConfig",void 0),oa(this,"observing",!1),oa(this,"basePageTreeId",void 0),oa(this,"startPageInstance",void 0),oa(this,"startMemory",void 0),oa(this,"reportTimeouts",[]),this.featureName=n,this.trackingCore=t,this.rumConfig=r}return aa(e,[{key:"startObserving",value:function(){var n,t=this,r=this.getMemory()
r&&!this.observing&&(this.basePageTreeId=this.trackingCore.host.treeID||"",this.startPageInstance=(null===(n=this.trackingCore.getCurrentContext())||void 0===n?void 0:n.pageInstance)||ka("unknown"),this.startMemory=r,this.reportTimeouts=e.checkpoints.map((function(e){return setTimeout((function(){return t.reportMemory(e)}),60*e*1e3)})))}},{key:"stopObserving",value:function(){this.reportTimeouts.forEach((function(e){return clearTimeout(e)})),this.observing=!1}},{key:"reportMemory",value:function(e){var n={name:this.featureName,basePageTreeId:this.basePageTreeId,startTime:Ds(this.trackingCore.host.api.performance),duration:0,startPageInstance:this.startPageInstance,marks:this.createMemoryMarks("-".concat(e,"min")),spans:[]}
this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"FeaturePerformanceMeasurementEvent"},n)}},{key:"createMemoryMarks",value:function(e){var n=this.getMemory(),t=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"].map((function(t){return{name:t+e,startTime:n[t]}})),r=n.usedJSHeapSize-this.startMemory.usedJSHeapSize
return t.push({name:(r<0?"usedJSHeapSizeDecrease":"usedJSHeapSizeIncrease")+e,startTime:Math.abs(r)},{name:"utilization"+e,startTime:Math.round(n.usedJSHeapSize/n.totalJSHeapSize*100)}),t}},{key:"getMemory",value:function(){return this.trackingCore.host.api.performance.memory}}]),e}()
oa(Ic,"checkpoints",[1,3,10,30,90,180,300]),aa((function e(n,t,r){var i,a
ra(this,e),oa(this,"core",void 0),oa(this,"config",void 0),oa(this,"perfTimeWM",new WeakMap),oa(this,"collector",void 0),oa(this,"boomerangStart",-1),oa(this,"webVitalsObserver",void 0),oa(this,"appMemoryObserver",void 0),oa(this,"pageMemoryObserver",void 0),this.core=r,this.config=function(e,n){for(var t in e)void 0!==n[t]&&(e[t]=n[t])
return e}(r.host.api.assign({},Ys),t)
var o="enabled"===(null===(i=(a=this.core.host).__getLixTreatment)||void 0===i?void 0:i.call(a,"pemberly.tracking.time-origin-epoch-time"))
this.collector=new qs(r.host.api,new zs(n,this.config,r.host),this.config,o),this.collector.startObserving()}),[{key:"pingCDN",value:function(){}},{key:"recordTreeId",value:function(e,n){e&&this.collector.recordTreeId(e,n)}},{key:"recordRenderStart",value:function(e,n){this.collector.recordRenderStart(e,n||e)}},{key:"recordRenderEnd",value:function(e){this.collector.recordRenderEnd(e)}},{key:"start",value:function(){var e,n,t,r
this.collector.collectAndClearTimer(!1)
var i,a=Object.create(null),o="enabled"===(null===(e=(n=this.core.host).__getLixTreatment)||void 0===e?void 0:e.call(n,"pemberly.tracking.time-origin-epoch-time"))
return this.perfTimeWM.set(a,Ps(this.core.host.api.performance,o)),(this.config["enable-memory-measurement"]||"enabled"===(null===(t=(r=this.core.host).__getLixTreatment)||void 0===t?void 0:t.call(r,"pemberly.tracking.rum-memory-measurement")))&&(null===(i=this.pageMemoryObserver)||void 0===i||i.stopObserving(),this.pageMemoryObserver=new Ic("page-memory",this.core,this.config),this.pageMemoryObserver.startObserving(),void 0===this.appMemoryObserver&&(this.appMemoryObserver=new Ic("application-memory",this.core,this.config),this.appMemoryObserver.startObserving())),a}},{key:"observeWebVitals",value:function(){void 0===this.webVitalsObserver&&(this.webVitalsObserver=new kc(this.core,this.config),this.webVitalsObserver.startObserving())}},{key:"end",value:function(e){var n,t,r=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2?arguments[2]:void 0,o=this.core.host.api,s=o.performance,c=o.assign,d=this.perfTimeWM.get(e)
if(void 0===d)throw new Error("The rum token passed in is invalid")
this.perfTimeWM.delete(e)
var u=Ps(s,"enabled"===(null===(n=(t=this.core.host).__getLixTreatment)||void 0===n?void 0:n.call(t,"pemberly.tracking.time-origin-epoch-time"))),l=this.config["app-version"]
this.collector.collect((function(e){var n=r.boomerangStart=e.navigationStart||r.boomerangStart,t=e.navigationStart||d,o=u-t
r.core.fireEvent({appId:r.config["app-id"],eventName:"RealUserMonitoringEvent"},(function(r){return c({pageKey:a||r.pageKey,isImpactedByHiddenWindow:i,appVersion:l,timeDone:o,navigationStart:t,boomerangStart:n,renderCompleteTime:u},e)}))}))}},{key:"destroy",value:function(){var e,n,t
this.collector.stopObserving(),null===(e=this.webVitalsObserver)||void 0===e||e.stopObserving(),null===(n=this.appMemoryObserver)||void 0===n||n.stopObserving(),null===(t=this.pageMemoryObserver)||void 0===t||t.stopObserving(),this.core.destroy()}}])
var Rc="undefined"!=typeof window&&"undefined"!=typeof performance,xc="undefined"!=typeof location&&-1!==location.search.indexOf("_LI_MEASURE_DEBUG")
aa((function e(n,t){ra(this,e),oa(this,"featureKey",void 0),oa(this,"productName",void 0),oa(this,"endPageInstance",void 0),oa(this,"startPageInstance",void 0),oa(this,"isCanceled",!1),oa(this,"featureIdentifier",void 0),oa(this,"name",void 0),oa(this,"startTime",void 0),oa(this,"duration",void 0),oa(this,"marks",[]),oa(this,"spanStarts",new Map),oa(this,"spans",[]),oa(this,"isSpanContainer",!1),oa(this,"basePageTreeId",void 0),oa(this,"isClosed",!1),this.featureKey=n,this.productName=t
var r=t?"::".concat(t):""
this.featureIdentifier="".concat(n).concat(r),this.name=n}),[{key:"start",value:function(e){this.startPageInstance=e,Rc&&(this.startTime=Ds(),xc&&performance.mark("LI:".concat(this.featureIdentifier,"-start")))}},{key:"mark",value:function(e){Rc&&(this.marks.push({name:e,startTime:Ds()}),xc&&(performance.mark("LI:".concat(this.featureIdentifier,"-mark-").concat(e)),performance.measure("LI:".concat(this.featureIdentifier,"-mark-").concat(e),"LI:".concat(this.featureIdentifier,"-start"),"LI:".concat(this.featureIdentifier,"-mark-").concat(e))))}},{key:"spanStart",value:function(e){Rc&&(this.spanStarts.set(e,Ds()),xc&&performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start")))}},{key:"spanEnd",value:function(e,n){if(Rc&&this.spanStarts.has(e)){var t=this.spanStarts.get(e)
this.spans.push({name:n||e,startTime:t,duration:Ds()-t}),xc&&(performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end")),performance.measure("LI:".concat(this.featureIdentifier,"-span-").concat(n||e),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start"),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end")))}}},{key:"end",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1]
if(!this.isClosed){if(this.isSpanContainer=n,this.isClosed=!0,this.isCanceled)throw new Error('[rum measurement] cannot end a canceled measurement "'.concat(this.featureIdentifier,'"'))
this.endPageInstance=e,Rc&&(this.duration=Ds()-this.startTime,xc&&!this.isSpanContainer&&(performance.mark("LI:".concat(this.featureIdentifier,"-end")),performance.measure("LI:".concat(this.featureIdentifier),"LI:".concat(this.featureIdentifier,"-start"),"LI:".concat(this.featureIdentifier,"-end"))),this.cleanUp())}}},{key:"cancel",value:function(){this.isCanceled||(this.isCanceled=!0)}},{key:"setBasePageTreeId",value:function(e){this.basePageTreeId=e}},{key:"toEventBody",value:function(){if(Rc){var e={name:this.featureKey,startTime:this.startTime,duration:this.isSpanContainer?-1:this.duration,basePageTreeId:this.basePageTreeId,startPageInstance:this.startPageInstance||ka("unknown"),marks:this.marks,spans:this.spans}
return this.productName&&(e.productName=this.productName),e}}},{key:"check",value:function(){if(Rc){if(this.isCanceled)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" has been canceled'))
if(!this.isClosed)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" is still open'))
if(this.isSpanContainer&&0===this.spans.length)throw new Error("The span container should have at least one span")
for(var e=0,n=["startTime","duration","basePageTreeId"];e<n.length;e++){var t=n[e]
if(void 0===this[t])throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" is missing "').concat(t,'"'))}}}},{key:"cleanUp",value:function(){this.spanStarts.clear()}}])
var wc=function(e){var n="TEXT_ONLY"
return e.optionalSendData.renderContent.forEach((function(e){e.file&&(n="ATTACHMENT"),e.externalMedia&&(n="GIF"),e.forwardedMessageContent&&(n="FORWARD"),e.vectorImage&&(n="IMAGE")})),n},Oc=function(e,n){var t="ONE_ON_ONE"
return n&&(t="GROUP_CHAT"),e.optionalSendData.renderContent.length&&e.optionalSendData.renderContent.forEach((function(e){e.hostUrnData&&e.hostUrnData.type.includes("INMAIL")&&(t="INMAIL")})),t},Mc=function(e){var n=e.code,t=e.message
return window&&window.navigator&&!window.navigator.onLine?"NO_NETWORK":t&&t.includes("Failed to fetch")?"NETWORK_ERROR":n&&/^[4-5][0-9][0-9]$/.test(n.toString())?"SERVER_ERROR":n&&999===n?"OTHER_NON_FATAL_ERROR":null},Nc=function(e,n,t,r,i){if(i){var a={syncedMessagingMessageUrns:e.filter((function(e){return!!e})),messagingThreadUrn:n,isBootstrap:!!r}
t&&(a.consumedTime=t),i("MessagesSyncConsumedEvent",a)}},Pc=function(e,n,t){t&&t("ConversationsSyncConsumedEvent",{syncedMessagingThreadUrns:e,isBootstrap:n})},Dc=function(e,n,t,r,i){var a={trackingId:Aa(),syncType:n,messagingThreadUrns:r?r.forEach((function(e){return e.backendUrn})):[],failureReason:Mc(e),failureDetail:e.message,responseCode:e.code,retryCount:t,failureTime:Date.now()}
i&&i("MessagingSyncClientFailureEvent",a)},Uc=function(e,n,t){var r={sentTime:n,messageUrn:e.backendUrn,publisherTrackingId:""}
t&&t("MessagingClientSendEvent",r)},Lc=function(e){return Ea(Array.from(Ca(e)))},Fc=function(e){return e.headers()["Csrf-Token"]||e.headers()["csrf-token"]},jc=function(e,n,t,r,a,o,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"FIRST",d=t.messages.getByIdentifier(r)
if(!d)return Promise.reject(Xe.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
var u=Lc(r),l=i(i({},s),{},{trackingId:u}),p=-1
return a(qi({status:"Sending"},r,t.entityUrn)),new ea(r).try((function(i){return p=qe().serverClockTime,Fr(e,n,t.entityUrn,d.content,r,l,d.optionalSendData,1!==i||"RETRY"===c?"DEDUPE":"NOT_DEDUPE").then(td(o,i,c)).catch(nd(o,i,c,t,d,l))})).timeoutAfter(o.options.sendRetryTimeoutInSecond).retryIf(gn(o,t.clientId)).cancelIf(Jc).start().then((function(e){return function(e,n,t){if(n.originToken&&n.originToken!==t)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{cause:new Error("Invalid originToken ".concat(n.originToken," - expected ").concat(t)),msg:"messagePostToState: MessagePostResponse originToken does not match with the clientId"})
return{clientId:t,content:(r=n,s=(null!==(a=r.body.attributes)&&void 0!==a?a:[]).filter(E),c=s.find((function(e){return e.attributeKindUnion})),i(i({},r.body),{},c?{attributes:s.map((function(e){return{start:e.start,length:e.length,attributeKind:e.attributeKindUnion}}))}:{attributes:null!==(o=r.body.attributes)&&void 0!==o?o:[]})),entityUrn:n.entityUrn,backendConversationUrn:n.backendConversationUrn,backendUrn:n.backendUrn,lastActivityAt:new Date(n.deliveredAt),deliveredAt:new Date(n.deliveredAt),senderUrn:e,status:"Sent",subject:n.subject}
var r,a,o,s,c}(d.senderUrn,e,r)})).then((function(e){var n,i
return p&&a(qi({lastAttemptAt:new Date(p)},r,t.entityUrn)),na(t,e,l,null===(n=o.options.trackingOptions)||void 0===n?void 0:n.trackingFireEvent),Uc(e,p,null===(i=o.options.trackingOptions)||void 0===i?void 0:i.trackingFireEvent),e})).then((function(e){return a(qi(i(i({},e),{},{status:"Sent"}),r,t.entityUrn)),t.clientId})).catch((function(e){return a(qi({status:"Failed"},r,t.entityUrn)),Promise.reject(e)}))},Bc=function(e,n,t,r,a,o,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"FIRST",d=t.messages.getByIdentifier(r)
if(!d)return Promise.reject(Xe.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
var u=t.clientId,l=t.recipients,p=Lc(r),f=i(i({},s),{},{trackingId:p}),m=-1
return a(qi({status:"Sending"},r,u)),new ea(r).try((function(t){return m=qe().serverClockTime,jr(e,n,d.content,r,l,f,d.optionalSendData,1!==t||"RETRY"===c?"DEDUPE":"NOT_DEDUPE").then(td(o,t,c)).catch(nd(o,t,c,void 0,d,f,l))})).timeoutAfter(o.options.sendRetryTimeoutInSecond).retryIf(gn(o,u)).cancelIf(Jc).start().then((function(t){return hi(e,n,t.conversationUrn,u,f)})).then((function(e){m&&a(qi({lastAttemptAt:new Date(m)},r,u))
var n,t,i=e.conversationState.messages.last()
return i&&(na(e.conversationState,i,f,null===(n=o.options.trackingOptions)||void 0===n?void 0:n.trackingFireEvent),Uc(i,m,null===(t=o.options.trackingOptions)||void 0===t?void 0:t.trackingFireEvent)),e})).then((function(e){var n=e.conversationState,t=e.participants,i=e.requestId
return a(ki(t,i)),a(function(e,n,t){return{type:"CONVERT_DRAFT_CONVERSATION",payload:{conversationId:e,conversation:n},requestId:t}}(u,n,i)),a(qi({status:"Sent"},r,n.entityUrn)),n.entityUrn})).catch((function(e){return a(qi({status:"Failed"},r,u)),Promise.reject(e)}))},qc=function(e,n){if(Ze[e])return!1
var t=function(e,n){return{entityUrn:e,lastActivityAt:new Date,conversations:Cn.fromConversationArray(),participants:{},draftConversations:Ti(),connected:{api:n.connected,realtime:n.connected},additionalData:null,status:i(i({},Je),{},{loading:n.loading}),unreadCounts:{}}}(e,n),r=vr(Ci,t)
return Ze[e]={store:r,observers:[]},r.subscribe((function(){!function(e){var n=Ze[e]
n&&(n.observers.forEach((function(e){return e.next(n.store.getState())})),n.observers.length)}(e)})),!0},Vc=function(e,n,t,r){return Or(e,n,r).then((a=t,function(e){var n,t,r,o
ci(e,"messengerConversationsBySyncToken")
var s=null===(n=e.data)||void 0===n?void 0:n.messengerConversationsBySyncToken
if(!s)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"allConversationsToState: messengerConversationsBySyncToken response is missing"})
var c=e.requestId,u=d({},a.hostIdentityUrn,a),l=null!==(t=null===(r=s.metadata)||void 0===r?void 0:r.newSyncToken)&&void 0!==t?t:null
return{conversations:(null!==(o=s.elements.filter(Zr))&&void 0!==o?o:[]).map((function(e){var n=h(Qr(e,Wr(a.entityUrn)),2),t=n[0]
return n[1].forEach((function(e){u[e.hostIdentityUrn]?u[e.hostIdentityUrn]=i(i({},u[e.hostIdentityUrn]),e):u[e.hostIdentityUrn]=e})),t})).filter(E),newSyncToken:l,participants:u,requestId:c}})).then((function(e){return(t=n,function(e){var n=new Date,r=e.conversations,a=e.participants,o=e.newSyncToken,s=e.requestId
return{additionalData:null,connected:{api:!1,realtime:!1},conversations:Cn.fromConversationArray(r),draftConversations:new Map,entityUrn:t,lastActivityAt:n,participants:a,status:i(i({},Je),{},{syncToken:o,lastRequestId:s}),unreadCounts:{}}})(e)
var t}))
var a},$c=function(e,n,t,r,i){var a=pi(e)
return a&&dn(a.data)?Promise.resolve(a):function(e,n,t){return function(e,n,t,r,i){var a,o,s=(a=r.triggerChainSync,o=null==i?void 0:i.getPageInstance,kn((function(){(new Date).toLocaleTimeString(),a({pageInstance:null==o?void 0:o()})}),6e4))
return(e.connected?Promise.resolve():e.connect("RETRY")).then((function(){var a=new Map
e.addEventListener("error",(function(t,i){"common-time - error event ".concat(e.connected?"💚":"💔"),(new Date).toLocaleTimeString(),r.dispatch(xi(e.connected)),function(e){return void 0!==e.status}(i)&&600===i.status&&bi(n)(Xe.buildCommonTimeError(i))})),e.addEventListener("heartbeat",(function(n,t){e.sessionId," - heartbeat detected ".concat(e.connected?"💚":"💔"),new Date(t).toLocaleTimeString()})),e.addEventListener("connect",(function(){"common-time - connect event ".concat(e.connected?"💚":"💔"),(new Date).toLocaleTimeString(),r.dispatch(xi(e.connected))})),e.addEventListener("reconnecting",(function(){"common-time - reconnecting event ".concat(e.connected?"💚":"💔"),(new Date).toLocaleTimeString()})),e.addEventListener("close",(function(){"common-time - close event ".concat(e.connected?"💚":"💔"),(new Date).toLocaleTimeString(),r.dispatch(xi(e.connected))})),e.addEventListener("poorRealtimeConnectionDetected",(function(){"common-time - Poor Connection event ".concat(e.connected?"💛":"💔"),(new Date).toLocaleTimeString(),r.dispatch(xi(e.connected))})),e.addEventListener("reconnected",(function(n,t){e.connected,s(),r.dispatch(xi(e.connected))})),e.addEventListener("topic",(function(o,s){return Qi(n,s,a,t,r,e.serverClockTime,i)}))})).catch((function(e){var t=He.CANNOT_CONNECT
return gi(n)(new Xe("realtime",t.code,t.message,e))}))}(n.realtimeHost?qe({domain:n.realtimeHost,mpInfo:{name:n.mpName,id:n.mpName,version:n.mpVersion},sessionHeartbeat:n.sessionHeartbeatInSecond?1e3*n.sessionHeartbeatInSecond:void 0,reconnectGapThreshold:void 0!==n.realtimeMaxDisconnectInSecond?1e3*n.realtimeMaxDisconnectInSecond:void 0,connectHeaders:Xi({mpName:n.mpName,csrfToken:Fc(n),xLiTrack:n.headers()["X-LI-Track"]}),tracking:n.trackingOptions&&n.trackingOptions.trackingFireEvent?{fireEventCallback:n.trackingOptions.trackingFireEvent}:void 0}):qe(),e,n.typingIndicatorDelayInSecond,t,n.trackingOptions).catch((function(){return Promise.resolve()}))}(e,n,r).then((function(){return Vc(Wc(n),e,t,i).then((function(n){return{urn:e,data:n}})).catch((function(e){var t,r,i
throw null===(t=n.trackingOptions)||void 0===t||null===(r=t.incrementMetricCounterHandler)||void 0===r||r.call(t,{groupName:"messengerData",metricName:"conversation-list-sync-fail"}),Dc(e,"CONVERSATIONS",1,void 0,null===(i=n.trackingOptions)||void 0===i?void 0:i.trackingFireEvent),e}))}))},Kc=function(e){var n
return e.data&&void 0!==e.data.messengerConversationsByCategory?{data:e.data.messengerConversationsByCategory,requestId:e.requestId}:null!==(n=e.data)&&void 0!==n&&n.messengerConversationsBySearchCriteria&&function(e){return void 0!==e.messengerConversationsBySearchCriteria}(e.data)?{data:e.data.messengerConversationsBySearchCriteria,requestId:e.requestId}:{data:{elements:[],metadata:{nextCursor:null}}}},Hc=function(e,n){return d({},e.entityUrn,{status:{sending:n}})},Gc=function(e,n,t,r){e(n?r?Wi(r,new Set,!0):Mi([],!0):r?Wi(r,new Set(t.filter((function(e){return e.message})).map((function(e){return e.message.entityUrn})))):Mi(t.filter((function(e){return e.conversation})).map((function(e){return e.conversation.entityUrn}))))},Wc=function(e){return{messengerResource:e.messengerResource,queryFormat:e.queryFormat,mpName:e.mpName,track:Er(e)}},Yc=function(e,n,t){n.length&&function(e,n,t){var r="acknowledgeMessagesReceived",i=JSON.stringify({messageUrns:n,clientId:e.mpName,deliveryMechanism:t,clientConsumedAt:Date.now()}),a=function(e){return Ln("restli",e.messengerResource,"messengerMessageDeliveryAcknowledgements",{action:"sendDeliveryAcknowledgement"})}(e),o=Rr(r)
return zn(a,i).catch(Cr(r)).then(o)}(Wc(e.options),n,t).catch(bi(e.id))},zc=function(e,n,t,r){if(n(function(e,n,t){return{type:"ADD_NEW_MESSAGE_BY_CONVO_URN",payload:{message:e,conversationUrn:n},requestId:void 0}}(r,t)),r.entityUrn){Yc(e,[r.entityUrn],"REALTIME")
var i,a,o,s=e.state.conversations.getByIdentifier(t)
s&&Nc([r.backendUrn],s.backendUrn,null===(i=pi(e.id))||void 0===i||null===(a=i.realtime)||void 0===a?void 0:a.serverClockTime,s.metadata.shouldClearCache,null===(o=e.options.trackingOptions)||void 0===o?void 0:o.trackingFireEvent)}e.clientSensorTrackers.triggerRecipientMetric("realtime-message-received")},Xc=function(e,n){return function(t,r,a,o,s){var c=e.state.conversations.getByIdentifier(t,"FullMailboxState")
if(c){var d=c.messages.first()
return d&&d.deliveredAt.getTime()>a.deliveredAt.getTime()?Promise.resolve():(r.lastActivityAt>c.lastActivityAt&&n(Pi(r,t)),zc(e,n,t,a),o&&c.messages.getByIdentifier(o.entityUrn)?Promise.resolve():(e.clientSensorTrackers.triggerRecipientMetric("realtime-message-gap-detected"),e.syncConversationMessages(t,"FullMailboxState",s)))}var u=function(e,n,t){var r,a,o
return i(i({},n),{},{clientId:qt(),entityUrn:e,draftMessage:t,matchingSearches:[],messages:new qr,typingUrns:new Set,additionalData:null,status:{fullyLoaded:null!==(r=n.status.fullyLoaded)&&void 0!==r&&r,loading:null!==(a=n.status.loading)&&void 0!==a&&a,sending:null!==(o=n.status.sending)&&void 0!==o?o:"Ready"}})}(t,r,Wr(e.participant.hostIdentityUrn))
return n(Ni(u,[])),zc(e,n,t,a),Promise.resolve()}},Qc=function(e,n,t,r){return function(i){var a,o,s
if(!i)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"chainSync > handleSingleResponseBatchSync: messengerMessagesBySyncTokensInBatch response for a single conversation is missing"})
var c=ri(i,t),d=c.messages,u=c.newSyncToken,l=c.shouldClearCache,p=c.deletedUrns,f=c.participants,m=c.requestId
e(ki(f,m))
var y=null===(a=(null!==(s=i.elements)&&void 0!==s?s:[])[0])||void 0===a||null===(o=a.conversation)||void 0===o?void 0:o.entityUrn
if(y){Gc(e,l,p,y),void 0===r.state.conversations.getByIdentifier(y)&&e(Ni(n[y],[])),e(Bi(g(d),y,u,l,m)),Yc(r,d.map((function(e){return e.entityUrn})),"SYNC")
var h,v,_,b=r.state.conversations.getByIdentifier(y,"FullMailboxState")
b&&Nc(d.map((function(e){return e.backendUrn})),b.backendUrn,null===(h=pi(r.id))||void 0===h||null===(v=h.realtime)||void 0===v?void 0:v.serverClockTime,l,null===(_=r.options.trackingOptions)||void 0===_?void 0:_.trackingFireEvent)}r._updateLocalParticipant()}},Jc=function(e){if(We(e)){var n=e.code
return void 0!==n&&n>399&&n<500&&422!==n&&429!==n}return!1},Zc=function(e){if(We(e)){var n=e.code
return void 0!==n&&n>399&&n<500}return!1},ed=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now()
return e.reduce((function(e,n){return n.lastActivityAt.getTime()<e?n.lastActivityAt.getTime():e}),n)}
function nd(e,n,t,r,i,a,o){return function(s){var c,d
return 1===n?e.clientSensorTrackers.triggerSenderMetric("FIRST"===t?"message-send-fail":"message-manual-retry-fail"):e.clientSensorTrackers.triggerSenderMetric("message-auto-retry-fail"),na(r,i,a,null===(c=e.options.trackingOptions)||void 0===c?void 0:c.trackingFireEvent),function(e,n,t,r,i,a,o){var s=Mc(e),c=e.message,d="failure message: ".concat(c),u=!1
if(a&&(u=a.length>1),t&&(u=null==t?void 0:t.groupChat),i&&r){var l={isAutoRetry:n>1,clientFailureType:s,clientFailureDetail:d,conversationType:Oc(r,u),messageContentType:wc(r),messagingThreadUrn:t?t.backendUrn:null,sourceType:i.sourceType,trackingId:i.trackingId,messageComposeFlowTrackingId:i.messageComposeFlowTrackingId,messageSendAttemptedAt:Date.now()}
o&&o("MessageSendClientFailureEvent",l)}}(s,n,r,i,a,o,null===(d=e.options.trackingOptions)||void 0===d?void 0:d.trackingFireEvent),Promise.reject(s)}}function td(e,n,t){return function(r){return 1===n?e.clientSensorTrackers.triggerSenderMetric("FIRST"===t?"message-send-success":"message-manual-retry-success"):e.clientSensorTrackers.triggerSenderMetric("message-auto-retry-success"),r}}var rd,id=function(){function e(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]
o(this,e),d(this,"_queue",void 0),d(this,"_continueOnFailure",void 0),this._queue=[],this._continueOnFailure=n}return c(e,[{key:"length",get:function(){return this._queue.length}},{key:"enqueue",value:function(e,n,t){var r=this
return new Promise((function(i,a){r._queue.push({requestGenerator:e,resolve:i,reject:a,messageId:n}),1===r._queue.length&&r._flush(t)}))}},{key:"start",value:function(e){return this._flush(e)}},{key:"_flush",value:function(e){var n=this
if(this._queue.length){var t=this._queue[0]
if(!e||e&&t.messageId&&e(t.messageId))return t.requestGenerator().then((function(r){return t.resolve(r),n._queue.shift(),n._queue.length>0?n._flush(e).then((function(e){return e+1})):1})).catch((function(r){return t.reject(r),n._continueOnFailure&&(n._queue.shift(),n._queue.length>0)?n._flush(e):Promise.resolve(0)}))
if(this._queue.shift(),this._queue.length>0)return this._flush(e)}return Promise.resolve(0)}}]),e}(),ad="function"==typeof Symbol&&Symbol.observable||"@@observable",od=function(e){return{triggerSenderMetric:function(n){null==e||e({groupName:"messengerData",metricName:n})},triggerRecipientMetric:function(n){null==e||e({groupName:"messengerData",metricName:n})},triggerOtherMetric:function(n){null==e||e({groupName:"messengerData",metricName:n})}}}
rd=Symbol.observable
var sd=function(){function e(n,t,r){var a,s=this,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:di,u=arguments.length>4?arguments[4]:void 0
o(this,e),d(this,"_stateSubscribers",[]),d(this,"_pendingErrors",[]),d(this,"_id",void 0),d(this,"_options",void 0),d(this,"_throttledTypingFns",{}),d(this,"_filter",void 0),d(this,"_oldestConversationTime",0),d(this,"_cursor",null),d(this,"_fullyLoaded",!1),d(this,"_isLoadingConversations",!1),d(this,"_localParticipant",void 0),d(this,"_dispatch",void 0),d(this,"_clientSensorTrackers",void 0),d(this,"trackingData",{}),d(this,"_sendFullMessageInDraftConversation",(function(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"FIRST"
if(e.messages.length>0)return gi(s.id)(Xe.fromClientErrorMemo("CANNOT_ADD_MESSAGES_IN_CONVERSATION"))
var a=Kr({senderUrn:s.participant.hostIdentityUrn,content:n,optionalSendData:t})
s._dispatch(Ui(a,e.clientId))
var o=s.state.draftConversations.get(e.clientId)
return o?("Failed"!==o.sending&&s._dispatch(Hi(o.clientId,"InProgress")),s._getRequestQueue("messageSend",o.clientId).enqueue((function(){return Bc(s.networkConfig,s.participant.hostIdentityUrn,o,a.clientId,s._dispatch.bind(s),s,r,i).then((function(e){var n
return(null===(n=s.state.conversations.getByIdentifier(e,"FullMailboxState"))||void 0===n?void 0:n.clientId)||o.clientId})).catch((function(e){return s.options.continueOnFailure||s._dispatch(Hi(o.clientId,"Failed")),gi(s.id)(Xe.fromClientErrorMemo("MESSAGE_SEND_FAILED",e))}))}),a.clientId,gn(s,o.clientId)).finally((function(){0===s._getRequestQueue("messageSend",o.clientId).length&&s._dispatch(Hi(o.clientId,"Ready"))}))):gi(s.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))})),this._id=n,this._options=i({},t),this._filter=c,this._dispatch=u,this._clientSensorTrackers=od(null===(a=t.trackingOptions)||void 0===a?void 0:a.incrementMetricCounterHandler),this._localParticipant={kind:"MEMBER",clientId:r,entityUrn:"urn:li:msg_messagingParticipant:".concat(this.id),hostIdentityUrn:this.id,backendUrn:null,firstName:"",lastName:"",headline:"",additionalData:null,pronoun:{customPronoun:"",standardizedPronoun:""},profile:{}},mi(n,{next:function(e){return T(s._stateSubscribers,li(e,c,s._oldestConversationTime,s._cursor,s._fullyLoaded))},error:function(e){return s._notifyErrorSubscribers(e)}})}return c(e,[{key:rd,value:function(){return this}},{key:ad,value:function(){return this}},{key:"observable",get:function(){return this}},{key:"subscribe",value:function(e){var n=this
if(this._options.enableParameterTypeChecks&&!Y(e)&&!W(e))throw Xe.fromInvalidType("subscribe","subscriber"," Subscriber | NextFunction")
var t=e
return W(e)&&(t={next:e}),this._stateSubscribers.push(t),this._pendingErrors.length>0&&this._pendingErrors.forEach((function(e){return n._notifyErrorSubscribers(e)})),setTimeout((function(){return t.next(n.state)}),0),{unsubscribe:function(){n._stateSubscribers=n._stateSubscribers.filter((function(e){return e!==t}))}}}},{key:"filter",get:function(){return this._filter}},{key:"subscribersCount",get:function(){return this._stateSubscribers.length}},{key:"state",get:function(){var e=ui(this._id)
return li(e,this._filter,this._oldestConversationTime,this._cursor,this._fullyLoaded)}},{key:"participant",get:function(){return this._localParticipant}},{key:"id",get:function(){return this._id}},{key:"options",get:function(){return this._options}},{key:"clientSensorTrackers",get:function(){return this._clientSensorTrackers}},{key:"getPageInstanceFn",get:function(){var e,n
return null!==(e=this._options.trackingOptions)&&void 0!==e&&e.getPageInstance?null===(n=this._options.trackingOptions)||void 0===n?void 0:n.getPageInstance:function(){}}},{key:"getPageKeyFn",get:function(){var e
return null===(e=this._options.trackingOptions)||void 0===e?void 0:e.getPageKey}},{key:"isLoadingConversations",get:function(){return this._isLoadingConversations}},{key:"getConversations",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0
if(this._options.enableParameterTypeChecks){var a="getConversations"
if(!Array.isArray(e))return gi(this.id)(Xe.fromInvalidType(a,"conversationIdentifiers"," URN | UUIDV4[]"))
if(!L(t))return gi(this.id)(Xe.fromInvalidType(a,"count"," number"))
if(!A(r)&&!ae(r))return gi(this.id)(Xe.fromInvalidType(a,"trackingData","TrackingData | undefined"))
if(!j(e,K))return gi(this.id)(Xe.fromInvalidType(a,"conversationIdentifiers[x]"," URN or UUIDV4"))}var o=[],s=[]
return e.forEach((function(e){var t=n.state.conversations.getByIdentifier(e,"FullMailboxState")
t?o.push(t):$(e)&&s.push(e)})),s.length?function(e,n,t,r){var i="getConversationsByIds",a=It(e,{conversationIds:n,count:t}),o=Ir(i)
return Ar(e,a,i,r)().catch(Cr(i)).then(o)}(this.networkConfig,s,t,r).then((function(e){return function(e,n){var t,r=null===(t=e.data)||void 0===t?void 0:t.messengerConversationsByIds
if(!r)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"getConversationsToState: messengerConversationsByIds response is missing"})
return i(i({},ti(r,n)),{},{requestId:e.requestId})}(e,n.createNewDraftMessage())})).then((function(e){var t=e.conversations,r=e.participants,i=e.requestId
return n._dispatch(Di(t,O(r),null,i)),n._updateLocalParticipant(),ln([].concat(o,g(t)))})).catch(gi(this.id)):Promise.resolve(o)}},{key:"syncConversationMessages",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FullMailboxState",r=arguments.length>2?arguments[2]:void 0
if(this._options.enableParameterTypeChecks){var i="syncConversationMessages"
if(!$(e))return gi(this.id)(Xe.fromInvalidType(i,"conversationUrn","URN"))
if(!re(t))return gi(this.id)(Xe.fromInvalidType(i,"selectOption","SelectorFilterOption"))
if(!A(r)&&!ae(r))return gi(this.id)(Xe.fromInvalidType(i,"trackingData","TrackingData | undefined"))}var a=this.state.conversations.getByIdentifier(e,t)
return a?(this._dispatch(Li(a.clientId,!0)),new ea(void 0,1.25).try((function(t){return wr(n.networkConfig,e,a.metadata.syncToken,r).catch((function(e){var r
throw n.clientSensorTrackers.triggerRecipientMetric("message-list-sync-fail"),Dc(e,"MESSAGES",t,[a],null===(r=n.options.trackingOptions)||void 0===r?void 0:r.trackingFireEvent),e}))})).timeoutAfter(this.options.syncRetryTimeoutInSecond).cancelIf(Zc).start().then((function(e){return function(e){var n
ci(e,"messengerMessagesBySyncToken")
var t=null===(n=e.data)||void 0===n?void 0:n.messengerMessagesBySyncToken
if(!t)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"syncMessagesToMessageStates: messengerMessagesBySyncToken response is missing"})
return ri(t,e.requestId)}(e)})).then((function(t){var r,i,o,s=t.messages,c=t.newSyncToken,d=t.shouldClearCache,u=t.deletedUrns,l=t.participants,p=t.requestId
return n._dispatch(ki(l,p)),Gc(n._dispatch.bind(n),d,u,e),n._dispatch(Bi(g(s),a.entityUrn,c,d,p)),Yc(n,s.map((function(e){return e.entityUrn})),"SYNC"),Nc(s.map((function(e){return e.backendUrn})),a.backendUrn,null===(r=pi(n.id))||void 0===r||null===(i=r.realtime)||void 0===i?void 0:i.serverClockTime,d,null===(o=n.options.trackingOptions)||void 0===o?void 0:o.trackingFireEvent),n._updateLocalParticipant(),n._getSeenReceipts(e).catch(bi(n.id)),n._getQuickReplies(e).catch(gi(n.id)),n.clientSensorTrackers.triggerRecipientMetric("message-list-sync-success"),Promise.resolve()})).catch((function(e){return n._dispatch(Li(a.clientId,!1)),gi(n.id)(Xe.fromClientErrorMemo("MESSAGE_LIST_SYNC_FAILED",e))}))):gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"syncConversations",value:function(e){var n=this
if(this._options.enableParameterTypeChecks&&!A(e)&&!ae(e))return gi(this.id)(Xe.fromInvalidType("syncConversations","trackingData","TrackingData | undefined"))
var t=this.state.status.syncToken
return this.state.status.loading?Promise.resolve(0):t?(this._dispatch(Fi(!0)),new ea(void 0,1.25).try((function(r){return function(e,n,t,r,a,o,s){return function(e,n,t,r){var i="syncConversations",a={mailboxUrn:n}
t&&(a.syncToken=t)
var o=Ot(e,a),s=Ir(i)
return Ar(e,o,i,r)().then(s)}(e,n,r,s).then((function(e){return function(e,n){var t,r,a,o,s,c,d
ci(e,"messengerConversationsBySyncToken")
var u=null===(t=e.data)||void 0===t?void 0:t.messengerConversationsBySyncToken
if(!u)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"syncConversationsToState: messengerConversationsBySyncToken response is missing"})
var l=e.requestId,p={},f=null!==(r=null===(a=u.metadata)||void 0===a?void 0:a.newSyncToken)&&void 0!==r?r:null,m=null!==(o=null===(s=u.metadata)||void 0===s?void 0:s.shouldClearCache)&&void 0!==o&&o,y=null!==(c=null===(d=u.metadata)||void 0===d?void 0:d.deletedUrns)&&void 0!==c?c:[]
return{conversations:u.elements.filter(Zr).map((function(e){var t=h(Qr(e,Wr(n)),2),r=t[0]
return t[1].forEach((function(e){p[e.hostIdentityUrn]?p[e.hostIdentityUrn]=i(i({},p[e.hostIdentityUrn]),e):p[e.hostIdentityUrn]=e})),r})).filter(E),newSyncToken:f,shouldClearCache:m,deletedUrns:y,participants:p,requestId:l}}(e,n)})).then((function(e){var n
return Pc(e.conversations.map((function(e){return e.backendUrn})),!!e.shouldClearCache,null===(n=a.options.trackingOptions)||void 0===n?void 0:n.trackingFireEvent),a.clientSensorTrackers.triggerRecipientMetric("conversation-list-sync-success"),e})).catch((function(e){var n
throw a.clientSensorTrackers.triggerRecipientMetric("conversation-list-sync-fail"),Dc(e,"CONVERSATIONS",o,void 0,null===(n=a.options.trackingOptions)||void 0===n?void 0:n.trackingFireEvent),e})).then((function(n){var r=n.conversations.map((function(e){var n,t,r=null===(n=a.state.conversations.getByIdentifier(e.entityUrn))||void 0===n||null===(t=n.metadata)||void 0===t?void 0:t.syncToken
return r?{conversationUrn:e.entityUrn,syncToken:r}:{conversationUrn:e.entityUrn}}))
return function(e,n,t){var r="getSyncMessagesByConversationIdInBatch",i=Nt(e,{criteria:n}),a=Ir(r)
return Ar(e,i,r,t)().catch(Cr(r)).then(a)}(e,r,s).then((function(e){var r
ci(e,"messengerMessagesBySyncTokensInBatch")
var i=null===(r=e.data)||void 0===r?void 0:r.messengerMessagesBySyncTokensInBatch
if(!i)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"chainSync: messengerMessagesBySyncTokensInBatch response is missing"})
var o=C(n.conversations.map((function(e){return[e.entityUrn,e]})))
return i.forEach(Qc(t,o,e.requestId,a)),a.clientSensorTrackers.triggerRecipientMetric("message-list-sync-success"),n})).catch((function(e){var t
throw a.clientSensorTrackers.triggerRecipientMetric("message-list-sync-fail"),Dc(e,"MESSAGES",1,n.conversations,null===(t=a.options.trackingOptions)||void 0===t?void 0:t.trackingFireEvent),e}))}))}(n.networkConfig,n.id,n._dispatch.bind(n),t,n,r,e)})).timeoutAfter(this.options.syncRetryTimeoutInSecond).cancelIf(Zc).start().then((function(e){var t=e.conversations,r=e.newSyncToken,i=e.shouldClearCache,a=e.deletedUrns,o=e.participants,s=e.requestId
return Gc(n._dispatch.bind(n),null!=i&&i,null!=a?a:[]),n._dispatch(Di(t,O(o),r,s)),n._updateLocalParticipant(),t.length})).catch((function(e){return n._dispatch(Fi(!1)),gi(n.id)(Xe.fromClientErrorMemo("CHAIN_SYNC_FAILED",e))}))):gi(this.id)(Xe.fromClientErrorMemo("CHAIN_SYNC_CANNOT_START"))}},{key:"composeByRecipients",value:function(e){var n,t,r=this
if(this._options.enableParameterTypeChecks){if(!Array.isArray(e))return gi(this.id)(Xe.fromInvalidType("composeByRecipients","recipientUrns","URN[]"))
if(!j(e,$))return gi(this.id)(Xe.fromInvalidType("composeByRecipients","recipientUrns[x]","URN"))}return Nr(this.networkConfig,this.id,e,{pageInstance:null===(n=this.options.trackingOptions)||void 0===n||null===(t=n.getPageInstance)||void 0===t?void 0:t.call(n)}).then((function(n){var t,i=null===(t=n.data)||void 0===t?void 0:t.messengerConversationsByRecipients.elements.filter(Zr),a=n.requestId
if(null!=i&&i.length){var o=i[0],s=r.state.conversations.getByIdentifier(o.entityUrn,"FullMailboxState")
if(s)return Promise.resolve(s)
var c=ei(n,r.createNewDraftMessage()),d=c.conversations,u=c.participants,l=d.filter((function(e){return!r.state.conversations.getByIdentifier(e.clientId)}))
r._dispatch(Di(l,O(u),null,a))
var p=r.state.conversations.getByIdentifier(d[0].clientId,"FullMailboxState")
return p?Promise.resolve(p):gi(r.id)(Xe.fromClientErrorMemo("COMPOSE_BY_RECIPIENTS_FAILED"))}return r.createDraftConversation(e)}))}},{key:"getConversationsByRecipients",value:function(e){var n,t,r=this
if(this._options.enableParameterTypeChecks){var i="getConversationsByRecipients"
if(!Array.isArray(e))return gi(this.id)(Xe.fromInvalidType(i,"recipientUrns","URN[]"))
if(!j(e,$))return gi(this.id)(Xe.fromInvalidType(i,"recipientUrns[x]","URN"))}return Nr(this.networkConfig,this.id,e,{pageInstance:null===(n=this.options.trackingOptions)||void 0===n||null===(t=n.getPageInstance)||void 0===t?void 0:t.call(n)}).then((function(e){var n=ei(e,r.createNewDraftMessage()),t=n.conversations,i=n.participants
return r._dispatch(Di(t,O(i),null,e.requestId)),Promise.resolve(t)}))}},{key:"createDraftConversation",value:function(e){if(this._options.enableParameterTypeChecks){var n="createDraftConversation"
if(!Array.isArray(e))return gi(this.id)(Xe.fromInvalidType(n,"recipientUrns","URN[]"))
if(!j(e,$))return gi(this.id)(Xe.fromInvalidType(n,"recipientUrns[x]","URN"))}var t,r,i=(t=this.participant.entityUrn,r=e,{clientId:qt(),draftMessage:Wr(t),messages:new qr,recipients:r,sending:"Ready"})
return this._dispatch({type:"ADD_DRAFT_CONVERSATION",payload:{conversation:i}}),Promise.resolve(i)}},{key:"deleteDraftConversation",value:function(e){return this._options.enableParameterTypeChecks&&!K(e)?gi(this.id)(Xe.fromInvalidType("deleteDraftConversation","draftConversationClientId","URN")):this.state.draftConversations.has(e)?(this._dispatch({type:"REMOVE_DRAFT_CONVERSATION",payload:{conversationId:e}}),Promise.resolve(e)):gi(this.id)(Xe.fromClientErrorMemo("DRAFT_CONVERSATION_NOT_FOUND"))}},{key:"updateDraftConversation",value:function(e,n){if(this._options.enableParameterTypeChecks){var t="deleteDraftConversation"
if(!q(e))return gi(this.id)(Xe.fromInvalidType(t,"conversationId","UUIDV4"))
if(!Array.isArray(n))return gi(this.id)(Xe.fromInvalidType(t,"newRecipientUrns","URN[]"))
if(!j(n,$))return gi(this.id)(Xe.fromInvalidType(t,"newRecipientUrns[x]","URN"))}return this.state.draftConversations.get(e)?(this._dispatch(function(e,n){return{type:"UPDATE_DRAFT_CONVERSATION",payload:{conversationId:e,recipientUrns:n}}}(e,n)),Promise.resolve(this.state.draftConversations.get(e))):gi(this.id)(Xe.fromClientErrorMemo("DRAFT_CONVERSATION_NOT_FOUND"))}},{key:"setConversationAsActive",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{markConvoReadTypes:"NO_CHANGE",setConvoActiveSyncOption:"FALLBACK_SYNC"},t=arguments.length>2?arguments[2]:void 0
if(this._options.enableParameterTypeChecks){var r="setConversationAsActive"
if(!K(e))return gi(this.id)(Xe.fromInvalidType(r,"convoIdentifier","URN | UUIDV4"))
if(!X(n))return gi(this.id)(Xe.fromInvalidType(r,"convoActivationOption","ConvoActivationOption"))
if(t&&!ae(t))return gi(this.id)(Xe.fromInvalidType(r,"trackingData","TrackingData"))}var i=this._getConversationByIdentifier(e,"FullMailboxState"),a=this.state.connected.realtime
return i?B(i)?("MARK_READ"!==n.markConvoReadTypes&&"MARK_UNREAD"!==n.markConvoReadTypes||this.updateConversationsReadStatus(d({},i.entityUrn,"MARK_READ"===n.markConvoReadTypes)).then((function(){return Promise.resolve()})).catch(gi(this.id)),"ALWAYS_SYNC"!==n.setConvoActiveSyncOption&&i.metadata.syncToken&&a?Promise.resolve():this.syncConversationMessages(i.entityUrn,"FullMailboxState",t)):Promise.resolve():gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"updateConversation",value:function(e,n){if(this._options.enableParameterTypeChecks){if(!$(e))return gi(this.id)(Xe.fromInvalidType("updateConversation","conversationUrn","URN"))
if(!U(n))return gi(this.id)(Xe.fromInvalidType("updateConversation","status","ConversationUpdate<C, M>"))}var t=d({},e,n)
return this._dispatch(wi(t)),Ur(this.networkConfig,e,n).then((function(){return Promise.resolve()})).catch(gi(this.id))}},{key:"updateConversationsReadStatus",value:function(e){if(this._options.enableParameterTypeChecks&&!J(e))return gi(this.id)(Xe.fromInvalidType("updateConversationsReadStatus","readStatusUpdateMap","UrnUpdateMap"))
var n=C(w(e).map((function(n){return[n,{read:e[n]}]})))
return this._dispatch(wi(n)),function(e,n){var t="updateConversations",r=w(n),i={}
r.forEach((function(e){i[e]={patch:{$set:n[e]}}}))
var a=JSON.stringify({entities:i}),o=Rr(t),s=function(e,n){var t=$n(n),r="messengerConversations?ids=List(".concat(t,")")
return Ln("restli",e.messengerResource,r)}(e,r)
return zn(s,a).catch(Cr(t)).then(o)}(this.networkConfig,n).then((function(){return Promise.resolve()})).catch(gi(this.id))}},{key:"addCategoryToConversations",value:function(e,n){if(this._options.enableParameterTypeChecks){var t="addCategoryToConversations"
if(!Array.isArray(e))return gi(this.id)(Xe.fromInvalidType(t,"conversationUrns","URN[]"))
if(!j(e,$))return gi(this.id)(Xe.fromInvalidType(t,"conversationUrns[x]","URN"))
if(!te(n))return gi(this.id)(Xe.fromInvalidType(t,"category","ConversationCategory"))}return this._dispatchCategoryUpdate(e,n,"ADD"),function(e,n,t){var r="addCategoryToConversationsAPI",i=JSON.stringify({conversationUrns:n,category:t}),a=Rr(r),o=function(e){return Ln("restli",e.messengerResource,"messengerConversations",{action:"addCategory"})}(e)
return zn(o,i).catch(Cr(r)).then(a)}(this.networkConfig,e,n).then((function(){return Promise.resolve()})).catch(gi(this.id))}},{key:"removeCategoryFromConversations",value:function(e,n){if(this._options.enableParameterTypeChecks){var t="removeCategoryFromConversations"
if(!Array.isArray(e))return gi(this.id)(Xe.fromInvalidType(t,"conversationUrns","URN[]"))
if(!j(e,$))return gi(this.id)(Xe.fromInvalidType(t,"conversationUrns[x]","URN"))
if(!te(n))return gi(this.id)(Xe.fromInvalidType(t,"category","ConversationCategory"))}return this._dispatchCategoryUpdate(e,n,"REMOVE"),function(e,n,t){var r="removeCategoryFromConversationsAPI",i=JSON.stringify({conversationUrns:n,category:t}),a=Rr(r),o=function(e){return Ln("restli",e.messengerResource,"messengerConversations",{action:"removeCategory"})}(e)
return zn(o,i).catch(Cr(r)).then(a)}(this.networkConfig,e,n).then((function(){return Promise.resolve()})).catch(gi(this.id))}},{key:"updateConversationTitle",value:function(e,n){if(this._options.enableParameterTypeChecks){var t="updateConversationTitle"
if(!$(e))return gi(this.id)(Xe.fromInvalidType(t,"conversationUrn","URN"))
if(!F(n))return gi(this.id)(Xe.fromInvalidType(t,"title","string"))}var r=d({},e,{title:n})
return this._dispatch(wi(r)),function(e,n,t){var r=JSON.stringify({patch:{$set:{title:t}}})
return Dr(e,n,r)}(this.networkConfig,e,n).then((function(){return Promise.resolve()})).catch(gi(this.id))}},{key:"deleteConversation",value:function(e){var n=this
return this._options.enableParameterTypeChecks&&!$(e)?gi(this.id)(Xe.fromInvalidType("deleteConversation","conversationUrn","URN")):function(e,n){var t="deleteConversation",r="messengerConversations/".concat(encodeURIComponent(n)),i=Rr(t)
return Xn(e,r).catch(Cr(t)).then(i)}(this.networkConfig,e).then((function(){n._dispatch(Oi(e))})).catch(gi(this.id))}},{key:"deleteConversations",value:function(e){var n=this
if(this._options.enableParameterTypeChecks){if(!Array.isArray(e))return gi(this.id)(Xe.fromInvalidType("deleteConversations","conversationUrns","URN[]"))
if(!j(e,$))return gi(this.id)(Xe.fromInvalidType("deleteConversations","conversationUrns[x]","URN"))}return function(e,n){var t="bulkDeleteConversations",r=$n(n),i="messengerConversations?ids=List(".concat(r,")"),a=Rr(t)
return Xn(e,i).catch(Cr(t)).then(a)}(this.networkConfig,e).then((function(){n._dispatch(Mi(e))})).catch(gi(this.id))}},{key:"loadOlderConversations",value:function(){var e=this
if(this._isLoadingConversations)return Promise.resolve(0)
if("search"!==this.filter.kind&&this.state.status.fullyLoaded)return Promise.resolve(0)
this._isLoadingConversations=!0
var n=this.state.conversations.last()
this._dispatch(Fi(!0))
var t=n?n.lastActivityAt.getTime():null,r=this._cursor
return function(e,n,t,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null
switch(t.kind){case"category":var o,s,c,d,u={category:t.category,count:r.convCount}
return a?function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mr,i=arguments.length>4?arguments[4]:void 0,a="findConversationsByCursor",o=r.count,s=r.category,c=St(e,{category:s,count:o,mailboxUrn:n,nextCursor:t}),d=Ir(a)
return Ar(e,c,a,i)().catch(Cr(a)).then(d)}(e,n,a,u,{pageInstance:null===(o=r.trackingOptions)||void 0===o||null===(s=o.getPageInstance)||void 0===s?void 0:s.call(o)}):function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Mr,i=arguments.length>4?arguments[4]:void 0,a="findConversationsByTimestamp",o=r.count,s={category:r.category,count:o,mailboxUrn:n}
null!==t&&(s.lastUpdatedBefore=t)
var c=St(e,s),d=Ir(a)
return Ar(e,c,a,i)().catch(Cr(a)).then(d)}(e,n,i,u,{pageInstance:null===(c=r.trackingOptions)||void 0===c||null===(d=c.getPageInstance)||void 0===d?void 0:d.call(c)})
case"search":var l,p,f=t.categories,m=t.keywords,y=t.read,h=t.firstDegreeConnections
return Pr(e,n,f,null!=m?m:null,h,y,a,{pageInstance:null===(l=r.trackingOptions)||void 0===l||null===(p=l.getPageInstance)||void 0===p?void 0:p.call(l)})}}(this.networkConfig,this.id,this.filter,this.options,t,r).then(Kc).then((function(n){var t=n.data,i=n.requestId,a=function(e,n){var t,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{kind:"category",category:"INBOX"}
if(!e||!e.elements)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"conversationsResponseDataToState: data or its elements is missing"})
var a={}
return{conversations:e.elements.filter(Zr).map((function(e){var t=h(Qr(e,n,ai(i)?i.id:void 0),2),r=t[0]
return t[1].forEach((function(e){H(e)&&e.hostIdentityUrn.includes(e.firstName)?e.entityUrn:a[e.hostIdentityUrn]=e})),r})),participants:a,nextCursor:null!==(t=null===(r=e.metadata)||void 0===r?void 0:r.nextCursor)&&void 0!==t?t:null}}(t,e.createNewDraftMessage(),e.filter),o=a.conversations,s=a.participants,c=a.nextCursor
e._cursor=c,e._fullyLoaded=null===c||c===r,e._oldestConversationTime=ed(o,e._oldestConversationTime)
var d="search"!==e.filter.kind
return e._dispatch(function(e,n){return{type:"ADD_OLDER_CONVERSATIONS",payload:{nextCursor:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,conversations:e,participants:n,fullyLoaded:arguments.length>3?arguments[3]:void 0,writeCategories:arguments.length>4?arguments[4]:void 0},requestId:arguments.length>5?arguments[5]:void 0}}(o,O(s),e._cursor,e._fullyLoaded,d,i)),e.clientSensorTrackers.triggerRecipientMetric("conversation-list-load-more-success"),o.length})).catch((function(n){return e.clientSensorTrackers.triggerRecipientMetric("conversation-list-load-more-fail"),e._dispatch(Fi(!1)),gi(e.id)(n)})).finally((function(){e._isLoadingConversations=!1}))}},{key:"sendMessage",value:function(e,n,t,r){if(this._options.enableParameterTypeChecks){var i="sendMessage"
if(!K(e))return gi(this.id)(Xe.fromInvalidType(i,"convoIdentifier","URN | UUIDV4"))
if(!ee(n))return gi(this.id)(Xe.fromInvalidType(i,"content","TextFragment"))
if(!A(t)&&!ie(t))return gi(this.id)(Xe.fromInvalidType(i,"optionalSendData","OptionalSendData"))
if(!A(r)&&!ae(r))return gi(this.id)(Xe.fromInvalidType(i,"trackingData","TrackingData | undefined"))}var a=this._getConversationByIdentifier(e)
return a?B(a)?this._sendMessageInExistingConvo(a,n,t,r):this._sendFullMessageInDraftConversation(a,n,t,r):gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"sendPendingMessages",value:function(e){var n=this
if(this._options.enableParameterTypeChecks&&!K(e))return gi(this.id)(Xe.fromInvalidType("sendPendingMessages","conversationId","URN | UUIDV4"))
var t=this._getConversationByIdentifier(e)
if(!t)return gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))
if(B(t)){var r
if("InProgress"===(null===(r=t.status)||void 0===r?void 0:r.sending))return gi(this.id)(Xe.fromClientErrorMemo("SENDING_QUEUE_IN_PROGRESS"))
this._dispatch(wi(Hc(t,"InProgress")))}else{if("InProgress"===t.sending)return gi(this.id)(Xe.fromClientErrorMemo("SENDING_QUEUE_IN_PROGRESS"))
this._dispatch(Hi(t.clientId,"InProgress"))}return this._getRequestQueue("messageSend",t.clientId).start(gn(this,t.clientId)).then((function(){return t.clientId})).finally((function(){0===n._getRequestQueue("messageSend",t.clientId).length&&(B(t)?n._dispatch(wi(Hc(t,"Ready"))):n._dispatch(Hi(t.clientId,"Ready")))}))}},{key:"retrySendMessage",value:function(e,n,t){if(this._options.enableParameterTypeChecks){var r="retrySendMessage"
if(!K(e))return gi(this.id)(Xe.fromInvalidType(r,"convoIdentifier","URN | UUIDV4"))
if(!q(n))return gi(this.id)(Xe.fromInvalidType(r,"messageId","UUIDV4"))
if(!A(t)&&!ae(t))return gi(this.id)(Xe.fromInvalidType(r,"trackingData","TrackingData | undefined"))}var i=this._getConversationByIdentifier(e)
if(!i)return gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))
var a=i.messages.getByIdentifier(n)
if(!a)return gi(this.id)(Xe.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
this._dispatch(Gi(i.clientId,n))
var o=this._getConversationByIdentifier(e)
return o?B(o)?this._sendMessageInExistingConvo(o,a.content,a.optionalSendData,t,"RETRY"):this._sendFullMessageInDraftConversation(o,a.content,a.optionalSendData,t,"RETRY"):gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"editMessage",value:function(e,n,t){var r,i,a=this
if(this._options.enableParameterTypeChecks){if(!$(e))return gi(this.id)(Xe.fromInvalidType("editMessage","conversationUrn","URN"))
if(!$(n))return gi(this.id)(Xe.fromInvalidType("editMessage","messageUrn","URN"))
if(!ee(t))return gi(this.id)(Xe.fromInvalidType("editMessage","editedMessage","TextFragment"))}return(null===(r=this.state.conversations.getByIdentifier(e))||void 0===r||null===(i=r.messages)||void 0===i?void 0:i.getByIdentifier(n))?function(e,n,t){var r="editConversationMessage",i=JSON.stringify({patch:{$set:{body:t}}}),a=function(e,n){var t="messengerMessages/".concat(encodeURIComponent(n))
return Ln("restli",e.messengerResource,t)}(e,n),o=Rr(r)
return zn(a,i).catch(Cr(r)).then(o)}(this.networkConfig,n,t).then((function(){a._dispatch(Vi(d({},n,{content:t,messageBodyRenderFormat:"EDITED"}),e))})).catch((function(e){return gi(a.id)(Xe.fromClientErrorMemo("MESSAGE_EDIT_FAILED",e))})):gi(this.id)(Xe.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))}},{key:"deleteMessage",value:function(e,n){var t=this
if(this._options.enableParameterTypeChecks){if(!K(e))return gi(this.id)(Xe.fromInvalidType("deleteMessage","conversationId","URN | UUIDV4"))
if(!K(n))return gi(this.id)(Xe.fromInvalidType("deleteMessage","messageId","UUIDV4 | UUIDV4"))}var r=this._getConversationByIdentifier(e)
if(!r)return gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))
var i=r.messages.getByIdentifier(n)
if(!i)return gi(this.id)(Xe.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
if(i.entityUrn&&B(r)){var a=i.entityUrn
return function(e,n){var t="deleteConversationMessage",r=JSON.stringify({messageUrn:n}),i=function(e){return Ln("restli",e.messengerResource,"messengerMessages",{action:"recall"})}(e),a=Rr(t)
return zn(i,r).catch(Cr(t)).then(a)}(this.networkConfig,a).then((function(){t._dispatch(Vi(d({},a,{messageBodyRenderFormat:"RECALLED"}),r.entityUrn))})).catch((function(e){return gi(t.id)(Xe.fromClientErrorMemo("MESSAGE_DELETE_FAILED",e))}))}return this._dispatch(Gi(r.clientId,i.clientId)),this.options.continueOnFailure||this.sendPendingMessages(e),Promise.resolve()}},{key:"react",value:function(e,n){var t=this
if(this._options.enableParameterTypeChecks){if(!$(e))return gi(this.id)(Xe.fromInvalidType("react","messageUrn","URN"))
if(!F(n))return gi(this.id)(Xe.fromInvalidType("react","emoji","string"))}var r=this.state.conversations.findMessage(e)
if(!r)return gi(this.id)(Xe.fromClientErrorMemo("MESSAGE_DOES_NOT_EXIST"))
var i=G(this.state.conversations,e)
return this._reactAttemptWouldExceedCap(r,n)?gi(this.id)(Xe.fromClientErrorMemo("REACTION_LIMIT_REACHED")):(this._dispatch($i(e,{emoji:n,viewerReacted:!0})),this._getRequestQueue("reactions",i.clientId).enqueue((function(){return function(e,n,t){var r="reactWithEmojiAPI",i=JSON.stringify({messageUrn:n,emoji:t}),a=function(e){return Ln("restli",e.messengerResource,"messengerMessages",{action:"reactWithEmoji"})}(e),o=Rr(r)
return zn(a,i).catch(Cr(r)).then(o)}(t.networkConfig,e,n).then((function(){return Promise.resolve(i.clientId)})).catch((function(){return t._dispatch($i(e,{emoji:n,viewerReacted:!1})),Promise.resolve(i.clientId)}))})))}},{key:"unreact",value:function(e,n){var t=this
if(this._options.enableParameterTypeChecks){if(!$(e))return gi(this.id)(Xe.fromInvalidType("unreact","messageUrn","URN"))
if(!F(n))return gi(this.id)(Xe.fromInvalidType("unreact","emoji","string"))}var r=G(this.state.conversations,e)
return this._dispatch($i(e,{emoji:n,viewerReacted:!1})),this._getRequestQueue("reactions",r.clientId).enqueue((function(){return function(e,n,t){var r="unreactWithEmojiAPI",i=JSON.stringify({messageUrn:n,emoji:t}),a=function(e){return Ln("restli",e.messengerResource,"messengerMessages",{action:"unreactWithEmoji"})}(e),o=Rr(r)
return zn(a,i).catch(Cr(r)).then(o)}(t.networkConfig,e,n).then((function(){return Promise.resolve(r.clientId)})).catch((function(){return t._dispatch($i(e,{emoji:n,viewerReacted:!0})),Promise.resolve(r.clientId)}))}))}},{key:"getReactors",value:function(e,n){var t=this
if(this._options.enableParameterTypeChecks){if(!$(e))return gi(this.id)(Xe.fromInvalidType("getReactors","messageUrn","URN"))
if(!F(n))return gi(this.id)(Xe.fromInvalidType("getReactors","emoji","string"))}return function(e,n,t){var r="getReactorsByMessageAndEmojiAPI",i=Dt(e,{messageUrn:n,emoji:t}),a=Ir(r)
return Yn(i).catch(Cr(r)).then(a)}(this.networkConfig,e,n).then((function(r){var i=function(e){if(!e.data||!e.data.messengerMessagingParticipantsByMessageAndEmoji||!e.data.messengerMessagingParticipantsByMessageAndEmoji.elements)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"reactorsResponseToReactorsState: messengerMessagingParticipantsByMessageAndEmoji response is missing"})
var n=e.requestId
return{reactors:e.data.messengerMessagingParticipantsByMessageAndEmoji.elements.reduce((function(e,n){return n&&n.hostIdentityUrn&&e.push(n.hostIdentityUrn),e}),[]),requestId:n}}(r),a=i.reactors,o=i.requestId
return t._dispatch($i(e,{emoji:n,reactors:a},o)),Promise.resolve({reactors:a})})).catch((function(e){return gi(t.id)(Xe.fromClientErrorMemo("GET_REACTORS_FAILED",e))}))}},{key:"updateDraftMessage",value:function(e,n,t){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ADD"
if(this._options.enableParameterTypeChecks){var a="updateDraftMessage"
if(!K(e))throw vi(this.id)(Xe.fromInvalidType(a,"conversationIdentifier","URN | UUIDV4"))
if(!A(n)&&!ee(n))throw vi(this.id)(Xe.fromInvalidType(a,"content","TextFragment | undefined"))
if(!A(t)&&!ie(t))throw vi(this.id)(Xe.fromInvalidType(a,"optionalSendData","OptionalSendData | undefined"))
if(!Q(i))throw vi(this.id)(Xe.fromInvalidType(a,"optionalSendData","ContentUpdateMode"))}var o=this._getConversationByIdentifier(e)
if(o)if(!B(o)&&o.messages.length>0)gi(this.id)(Xe.fromClientErrorMemo("CANNOT_ADD_MESSAGES_IN_CONVERSATION"))
else{var s=sn(o.draftMessage.optionalSendData,null!=t?t:{renderContent:[]},i),c=Wr(this.participant.hostIdentityUrn,n,s)
if(this.options.typingIndicatorDelayInSecond>=0&&B(o)){var d=o.entityUrn
d in this._throttledTypingFns||(this._throttledTypingFns[d]=kn((function(){Lr(r.networkConfig,d).catch(bi(r.id))}),1e3*this.options.typingIndicatorDelayInSecond)),this._throttledTypingFns[d]()}this._dispatch({type:"UPDATE_DRAFT_MESSAGE",payload:{conversationId:o.clientId,messageUpdate:c}})}else gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"sendDraftMessage",value:function(e,n){var t,r=this
if(this._options.enableParameterTypeChecks){if(!K(e))return gi(this.id)(Xe.fromInvalidType("updateConversation","conversationId","URN | UUIDV4"))
if(!A(n)&&!ae(n))return gi(this.id)(Xe.fromInvalidType("updateConversation","trackingData","TrackingData | undefined"))}var i=this._getConversationByIdentifier(e)
if(!i)return gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))
if(!B(i)&&i.messages.length>0)return gi(this.id)(Xe.fromClientErrorMemo("CANNOT_ADD_MESSAGES_IN_CONVERSATION"))
var a=i.draftMessage.content,o=null===(t=i.draftMessage.optionalSendData)||void 0===t?void 0:t.renderContent,s=function(e){switch(e.kind){case"MEMBER":return"".concat(e.firstName," ").concat(e.lastName)
case"ORGANIZATION":case"CUSTOM":return"".concat(e.name.text)
default:return""}}(this.participant),c=i.draftMessage.clientId
if(""==a.text&&(!o||0===o.length))return gi(this.id)(Xe.fromClientErrorMemo("DRAFT_MESSAGE_IS_EMPTY"))
this._dispatch(function(e,n,t){return{type:"DRAFT_MESSAGE_READY_TO_SEND",payload:{clientId:e,senderName:n},requestId:void 0}}(i.clientId,s))
var d,u=this._getConversationByIdentifier(e)
return u?B(u)?("Failed"!==(null===(d=u.status)||void 0===d?void 0:d.sending)&&this._dispatch(wi(Hc(u,"InProgress"))),this._getRequestQueue("messageSend",u.clientId).enqueue((function(){return jc(r.networkConfig,r.id,u,c,r._dispatch.bind(r),r,n).catch((function(e){return r.options.continueOnFailure||r._dispatch(wi(Hc(u,"Failed"))),gi(r.id)(Xe.fromClientErrorMemo("MESSAGE_SEND_FAILED",e))}))}),c,gn(this,u.clientId)).finally((function(){0===r._getRequestQueue("messageSend",u.clientId).length&&r._dispatch(wi(Hc(u,"Ready")))}))):("Failed"!==u.sending&&this._dispatch(Hi(u.clientId,"InProgress")),this._getRequestQueue("messageSend",u.clientId).enqueue((function(){return Bc(r.networkConfig,r.participant.hostIdentityUrn,u,c,r._dispatch.bind(r),r,n).then((function(e){var n
return(null===(n=r.state.conversations.getByIdentifier(e))||void 0===n?void 0:n.clientId)||i.clientId})).catch((function(e){return r.options.continueOnFailure||r._dispatch(Hi(u.clientId,"Failed")),gi(r.id)(Xe.fromClientErrorMemo("MESSAGE_SEND_FAILED",e))}))}),c,gn(this,u.clientId)).finally((function(){0===r._getRequestQueue("messageSend",u.clientId).length&&r._dispatch(Hi(u.clientId,"Ready"))}))):gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"loadOlderMessages",value:function(e,n){if(this._options.enableParameterTypeChecks){if(!$(e))return gi(this.id)(Xe.fromInvalidType("loadOlderMessages","convoUrn","URN"))
if(!L(n))return gi(this.id)(Xe.fromInvalidType("loadOlderMessages","count","number"))}var t=this.state.conversations.getByIdentifier(e,"FullMailboxState")
if(!t)return gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))
if(t.status.fullyLoaded||t.status.loading)return Promise.resolve(0)
var r=t.metadata.prevCursor
return r?this._getOlderMessagesByCursor(e,t,n,r):this._getOlderMessagesByTimestamp(e,t,n)}},{key:"dismissInlineWarning",value:function(e){var n=this
return this._options.enableParameterTypeChecks&&!$(e)?gi(this.id)(Xe.fromInvalidType("dismissInlineWarning","messageUrn","URN")):function(e,n){var t="dismissInlineWarningAPI",r=JSON.stringify({messageUrn:n}),i=function(e){return Ln("restli",e.messengerResource,"messengerMessages",{action:"dismissInlineWarning"})}(e),a=Rr(t)
return zn(i,r).catch(Cr(t)).then(a)}(this.networkConfig,e).then((function(){return Promise.resolve()})).catch((function(e){return gi(n.id)(Xe.fromClientErrorMemo("CANNOT_DISMISS_INLINE_WARNING",e))}))}},{key:"addParticipantsToConversation",value:function(e,n){var t,r,i,a,o,s,c,d=this
if(this._options.enableParameterTypeChecks){var u="addParticipantsToConversation"
if(!$(e))return gi(this.id)(Xe.fromInvalidType(u,"convoUrn","URN"))
if(!Array.isArray(n))return gi(this.id)(Xe.fromInvalidType(u,"participantUrns","URN[]"))
if(!j(n,$))return gi(this.id)(Xe.fromInvalidType(u,"participantUrns[x]","URN"))}return this._getConversationByIdentifier(e)?(t=this.networkConfig,r=n,i=e,a="addParticipantsToConversation",o=JSON.stringify({participants:r,conversationUrn:i}),s=Ln("restli",t.messengerResource,"messengerConversations",{action:"addParticipants"}),c=Rr(a),zn(s,o).catch(Cr(a)).then(c)).then((function(){return Promise.resolve()})).catch((function(e){return gi(d.id)(Xe.fromClientErrorMemo("CANNOT_ADD_PARTICIPANTS_IN_CONVERSATION",e))})):gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"removeParticipantsFromConversation",value:function(e,n){var t,r,i,a,o,s,c,d=this,u="removeParticipantsFromConversation"
return $(e)?Array.isArray(n)?j(n,$)?this._getConversationByIdentifier(e)?(t=this.networkConfig,r=n,i=e,a="removeParticipantsFromConversation",o=JSON.stringify({participants:r,conversationUrn:i}),s=Ln("restli",t.messengerResource,"messengerConversations",{action:"removeParticipants"}),c=Rr(a),zn(s,o).catch(Cr(a)).then(c)).then((function(){return Promise.resolve()})).catch((function(e){return gi(d.id)(Xe.fromClientErrorMemo("CANNOT_REMOVE_PARTICIPANTS_FROM_CONVERSATION",e))})):gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST")):gi(this.id)(Xe.fromInvalidType(u,"participantUrns[x]","URN")):gi(this.id)(Xe.fromInvalidType(u,"participantUrns","URN[]")):gi(this.id)(Xe.fromInvalidType(u,"convoUrn","URN"))}},{key:"markAllConversationsAsRead",value:function(e){var n=this
if(this._options.enableParameterTypeChecks){var t="markAllConversationsAsRead"
if(!Array.isArray(e))return gi(this.id)(Xe.fromInvalidType(t,"categories","ConversationCategory[]"))
if(!j(e,te))return gi(this.id)(Xe.fromInvalidType(t,"categories[x]","ConversationCategory"))}var r=e.map((function(e){return e.toUpperCase()}))
return function(e,n,t){var r="markAllConversationsAsReadAPI",i=Pt(e,{mailboxUrn:n,categories:t}),a=Ir(r)
return Yn(i).catch(Cr(r)).then(a)}(this.networkConfig,this.id,e).then((function(e){var t=function(e){var n,t
if(void 0===(null===(n=e.data)||void 0===n||null===(t=n.doMarkAllConversationsAsReadMessengerConversations)||void 0===t?void 0:t.result))throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"markAllConversationsAsReadResponseToState: doMarkAllConversationsAsReadMessengerConversations is missing"})
return{allSynchronouslyProcessed:e.data.doMarkAllConversationsAsReadMessengerConversations.result.allSynchronouslyProcessed,requestId:e.requestId}}(e),i=t.allSynchronouslyProcessed,a=t.requestId
return i&&n._dispatch(function(e,n,t){return{type:"UPDATE_ALL_CONVERSATIONS_IN_CATEGORIES",payload:{categories:e,convoPartialState:{read:!0}},requestId:t}}(r,0,a)),Promise.resolve()}))}},{key:"conversationAccept",value:function(e,n,t){if(this._options.enableParameterTypeChecks){var r="conversationAccept"
if(!$(e))return gi(this.id)(Xe.fromInvalidType(r,"convoUrn","URN"))
if("boolean"!=typeof n)return gi(this.id)(Xe.fromInvalidType(r,"state","boolean"))
if(!A(t)&&!ee(t))return gi(this.id)(Xe.fromInvalidType(r,"message","TextFragment | undefined"))}var i=this._getConversationByIdentifier(e)
return i&&B(i)?t?this.sendMessage(e,t,{renderContent:[],conversationState:n?"ACCEPTED":"DECLINED"}):this.updateConversation(e,{state:n?"ACCEPTED":"DECLINED"}):gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"_getSeenReceipts",value:function(e){var n,t,r,i,a,o=this
return(n=this.networkConfig,t=e,r="getSeenReceiptsByConversation",i=wt(n,{conversationUrn:t}),a=Ir(r),Yn(i).catch(Cr(r)).then(a)).then((function(n){var t=function(e){if(!e.data||!e.data.messengerSeenReceiptsByConversation||!e.data.messengerSeenReceiptsByConversation.elements)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"seenReceiptsResponseToSeenReceiptsState: messengerSeenReceiptsByConversation response is missing"})
var n=e.data.messengerSeenReceiptsByConversation.elements,t=e.requestId,r={}
return n.forEach((function(e){var n={participantUrn:e.seenByParticipant.hostIdentityUrn,seenAt:e.seenAt},t=e.message.entityUrn
r[t]?r[t].push(n):r[t]=[n]})),{seenReceiptsMap:r,requestId:t}}(n),r=t.seenReceiptsMap,i=t.requestId
return o._dispatch(wi(d({},e,{seenReceiptsMap:r}),i)),Promise.resolve(r)}))}},{key:"_getQuickReplies",value:function(e){var n,t,r,i,a,o=this
return(n=this.networkConfig,t=e,r="getQuickRepliesByConversationAPI",i=Ut(n,{conversationUrn:t}),a=Ir(r),Yn(i).catch(Cr(r)).then(a)).then((function(n){var t=function(e){if(!e.data||!e.data.messengerQuickRepliesByConversation||!e.data.messengerQuickRepliesByConversation.elements)throw Xe.fromApiErrorMemo("MISSING_DATA_FROM_RESPONSE",{msg:"quickRepliesResponseToQuickRepliesState: messengerQuickRepliesByConversation response is missing"})
return{quickReplies:e.data.messengerQuickRepliesByConversation.elements,requestId:e.requestId}}(n),r=t.quickReplies,i=t.requestId,a=o._getConversationByIdentifier(e)
if(!a||!B(a))return Promise.resolve(void 0)
var s=vn(a,r)
return o._dispatch(function(e,n,t){return{type:"UPDATE_CONVERSATION_QUICK_REPLIES",payload:{conversationUrn:e,quickReplies:n},requestId:t}}(e,s,i)),Promise.resolve(r)}))}},{key:"createNewDraftMessage",value:function(){return Wr(this.participant.hostIdentityUrn)}},{key:"_getConversationByIdentifier",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FullMailboxState"
return q(e)&&this.state.draftConversations.has(e)?this.state.draftConversations.get(e):this.state.conversations.getByIdentifier(e,n)}},{key:"networkConfig",get:function(){return Wc(this.options)}},{key:"_notifyErrorSubscribers",value:function(e){this._stateSubscribers.length>0?this._stateSubscribers.forEach((function(n){var t
return null===(t=n.error)||void 0===t?void 0:t.call(n,e)})):this._pendingErrors.push(e)}},{key:"_getOlderMessagesByTimestamp",value:function(e,n,t,r){var i=this
this._dispatch(Li(n.clientId,!0))
var a=n.messages.length>0?n.messages.at(0).deliveredAt.getTime():Date.now()
return function(e,n,t,r,i,a){var o="getConversationMessagesByTimestamp",s=xt(e,{deliveredAt:t,conversationUrn:n,countBefore:r,countAfter:0}),c=Ir(o)
return Ar(e,s,o,a)().catch(Cr(o)).then(c)}(this.networkConfig,e,a,t,0,r).then((function(e){var t,r,a,o,s,c,d=null===(t=e.data)||void 0===t||null===(r=t.messengerMessagesByAnchorTimestamp)||void 0===r||null===(a=r.metadata)||void 0===a?void 0:a.prevCursor,u=null!==(o=null===(s=e.data)||void 0===s||null===(c=s.messengerMessagesByAnchorTimestamp)||void 0===c?void 0:c.elements)&&void 0!==o?o:[],l=ii(u),p=l.messages,f=l.participants,m=null===d
return i._dispatch(Li(n.clientId,!1)),i._dispatch(ki(f,e.requestId)),i._dispatch(ji(p,n.entityUrn,m,d,e.requestId)),i.clientSensorTrackers.triggerRecipientMetric("message-list-load-more-success"),p.length})).catch((function(e){return i._dispatch(Li(n.clientId,!1)),i.clientSensorTrackers.triggerRecipientMetric("message-list-load-more-fail"),gi(i.id)(Xe.fromClientErrorMemo("LOAD_OLDER_MESSAGES_FAILED",e))}))}},{key:"_getOlderMessagesByCursor",value:function(e,n,t,r,i){var a=this
return this._dispatch(Li(n.clientId,!0)),function(e,n,t,r,i){var a="getConversationMessagesByConversation",o={conversationUrn:n,count:t}
r&&(o.prevCursor=r)
var s=Rt(e,o),c=Ir(a)
return Ar(e,s,a,i)().catch(Cr(a)).then(c)}(this.networkConfig,e,t,r,i).then((function(e){var t,i,o,s,c,d,u=null===(t=e.data)||void 0===t||null===(i=t.messengerMessagesByConversation)||void 0===i||null===(o=i.metadata)||void 0===o?void 0:o.prevCursor,l=null!==(s=null===(c=e.data)||void 0===c||null===(d=c.messengerMessagesByConversation)||void 0===d?void 0:d.elements)&&void 0!==s?s:[],p=ii(l),f=p.messages,m=p.participants,y=null===u||r===u
return a._dispatch(Li(n.clientId,!1)),a._dispatch(ki(m,e.requestId)),a._dispatch(ji(f,n.entityUrn,y,u,e.requestId)),a.clientSensorTrackers.triggerRecipientMetric("message-list-load-more-success"),f.length})).catch((function(e){return a._dispatch(Li(n.clientId,!1)),a.clientSensorTrackers.triggerRecipientMetric("message-list-load-more-fail"),gi(a.id)(Xe.fromClientErrorMemo("LOAD_OLDER_MESSAGES_FAILED",e))}))}},{key:"_getRequestQueue",value:function(n,t){return e._queues[n][t]||(e._queues[n][t]=new id(this.options.continueOnFailure)),e._queues[n][t]}},{key:"_sendMessageInExistingConvo",value:function(e,n,t,r){var i,a=this,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"FIRST",s=Kr({senderUrn:this.participant.hostIdentityUrn,content:n,optionalSendData:t})
this._dispatch(Ui(s,e.clientId))
var c=this.state.conversations.getByIdentifier(e.entityUrn,"FullMailboxState")
return c?("Failed"!==(null===(i=c.status)||void 0===i?void 0:i.sending)&&this._dispatch(wi(Hc(c,"InProgress"))),this._getRequestQueue("messageSend",c.clientId).enqueue((function(){return jc(a.networkConfig,a.id,c,s.clientId,a._dispatch.bind(a),a,r,o).catch((function(e){return a.options.continueOnFailure||a._dispatch(wi(Hc(c,"Failed"))),gi(a.id)(Xe.fromClientErrorMemo("MESSAGE_SEND_FAILED",e))}))}),s.clientId,gn(this,c.clientId)).finally((function(){0===a._getRequestQueue("messageSend",c.clientId).length&&a._dispatch(wi(Hc(c,"Ready")))}))):gi(this.id)(Xe.fromClientErrorMemo("CONVERSATION_DOES_NOT_EXIST"))}},{key:"_updateLocalParticipant",value:function(){var e,n=this
this._localParticipant=null!==(e=O(ui(this._id).participants).find((function(e){return e.entityUrn===n._localParticipant.entityUrn})))&&void 0!==e?e:this._localParticipant}},{key:"_dispatchCategoryUpdate",value:function(e,n,t){var r=this,a=e.reduce((function(e,a){var o,s,c=null!==(o=null===(s=r.state.conversations.getByIdentifier(a))||void 0===s?void 0:s.categories)&&void 0!==o?o:[]
return i(i({},e),{},d({},a,"ADD"===t?{categories:[].concat(g(c.filter((function(e){return e!==n}))),[n])}:{categories:c.filter((function(e){return e!==n}))}))}),{})
this._dispatch(wi(a))}},{key:"_reactAttemptWouldExceedCap",value:function(e,n){return 20===e.reactions.length&&!e.reactions.find((function(e){return e.emoji===n}))}}]),e}()
d(sd,"_queues",{messageSend:{},reactions:{}})
var cd=function(){function e(n,t){o(this,e),d(this,"_participantClientId",qt()),d(this,"_id",void 0),d(this,"_options",void 0),this._id=n,this._options=t}return c(e,[{key:"id",get:function(){return this._id}},{key:"networkConfig",get:function(){return Wc(this._options)}},{key:"_dispatch",value:function(e){var n,t=this,r=this._options.decorators,i=r.mailboxDecorator,a=r.messagesDecorator,o=r.participantsDecorator,s=fi(this._id)
if(function(e,n){if(null!=e)return!0
throw new Error(n||"Assertion failed")}(s,"Could not link to the Redux store for this MailBox for id: ".concat(this._id))){var c=ui(this._id),d=c.status.lastRequestId
switch(e.requestId&&d>e.requestId&&"Invalid requestId: the store was updated since the request was made. Store lastRequestId: ".concat(d,", action requestId: ").concat(e.requestId),s.dispatch(e),c=ui(this._id),e.type){case"CONNECT":if(i)try{i(c).then((function(e){e&&s.dispatch(function(e){return{type:"DECORATE_MAILBOX",payload:e}}(e))})).catch(_i(this._id,"MAILBOX_DECORATE_FAILED"))}catch(e){_i(this._id,"MAILBOX_DECORATE_FAILED")(e)}break
case"ADD_MAILBOX_PARTICIPANTS":var u=e.payload.participants
u.length>0&&o&&this._invokeParticipantsDecorator(o,u,s)
break
case"ADD_CONVERSATION":var l=e.payload,p=l.conversation,f=l.participants,m=pn([p])
this._invokeDecorators([p],f,m)
break
case"ADD_OLDER_CONVERSATIONS":case"ADD_CONVERSATIONS":var y=e.payload,g=y.conversations,v=y.participants,_=pn(g)
this._invokeDecorators(g,v,_)
break
case"ADD_NEW_MESSAGE_BY_CONVO_URN":var b=e.payload,T=b.message,E=b.conversationUrn
a&&this._invokeMessageDecorator(a,E,[T],s)
break
case"ADD_NEW_MESSAGES":case"ADD_OLDER_MESSAGES":var A=e.payload,S=A.messages,C=A.conversationUrn
S.length&&a&&this._invokeMessageDecorator(a,C,S,s)
break
case"UPDATE_MESSAGES":if(a){var k=e.payload.conversationUrn,I=e.payload.messageUpdateMap
if(!k){var R=w(I),x=c.conversations.find((function(e){return void 0!==e.messages.getByIdentifier(R[0])}))
if(!x)return
k=x.entityUrn}(n=I,Object.entries(n)).forEach((function(e){var n=h(e,2),r=n[0],i=n[1]
if(k)try{a([i]).then(function(e,n,t){return function(r){e.dispatch(function(e,n,t){return{type:"DECORATE_MESSAGE",payload:{messageUrn:n,conversationUrn:t,data:e}}}(r,t,n))}}(s,k,r)).catch(_i(t._id,"MESSAGE_DECORATE_FAILED"))}catch(e){_i(t._id,"MESSAGE_DECORATE_FAILED")(e)}}))}}}}},{key:"_invokeParticipantsDecorator",value:function(e,n,t){try{e(n).then(function(e,n){return function(t){e.dispatch({type:"DECORATE_PARTICIPANTS",payload:{data:C(n.map((function(e,n){return[e.entityUrn,t[n]]})))}})}}(t,n)).catch(_i(this._id,"PARTICIPANTS_DECORATE_FAILED"))}catch(e){var r=Xe.fromUnknown(e,"PARTICIPANTS_DECORATE_FAILED")
bi(this._id)(r)}}},{key:"_invokeAllMessageDecorator",value:function(e,n,t){try{e(n).then(function(e,n){return function(t){t.length>0&&e.dispatch({type:"DECORATE_ALL_MESSAGES",payload:{data:C(n.map((function(e,n){return[e.clientId,t[n]]})))}})}}(t,n)).catch(_i(this._id,"MESSAGE_DECORATE_FAILED"))}catch(e){var r=Xe.fromUnknown(e,"MESSAGE_DECORATE_FAILED")
bi(this._id)(r)}}},{key:"_invokeMessageDecorator",value:function(e,n,t,r){try{e(t).then(function(e,n,t){return function(r){r.length>0&&e.dispatch(function(e,n){return{type:"DECORATE_MESSAGES",payload:{data:n,conversationUrn:e}}}(n,C(t.map((function(e,n){return[e.clientId,r[n]]})))))}}(r,n,t)).catch(_i(this._id,"MESSAGE_DECORATE_FAILED"))}catch(e){var i=Xe.fromUnknown(e,"MESSAGE_DECORATE_FAILED")
bi(this._id)(i)}}},{key:"_invokeDecorators",value:function(e,n,t){var r=this._options.decorators,i=r.messagesDecorator,a=r.conversationsDecorator,o=r.participantsDecorator,s=fi(this._id)
s&&(e.length>0&&a&&this._invokeConversationsDecorator(a,e,s),n.length>0&&o&&this._invokeParticipantsDecorator(o,n,s),t.length>0&&i&&this._invokeAllMessageDecorator(i,t,s))}},{key:"_invokeConversationsDecorator",value:function(e,n,t){try{var r=Cn.fromConversationArray(n)
e(r).then(function(e,n){return function(t){t.length>0&&e.dispatch({type:"DECORATE_CONVERSATIONS",payload:{data:C(n.map((function(e,n){return[e.clientId,t[n]]})))}})}}(t,r)).catch(_i(this._id,"CONVERSATION_DECORATE_FAILED"))}catch(e){var i=Xe.fromUnknown(e,"CONVERSATION_DECORATE_FAILED")
bi(this._id)(i)}}},{key:"getMailbox",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:di,t=arguments.length>1?arguments[1]:void 0
if(this._options.enableParameterTypeChecks){if(!se(n))return gi(this.id)(Xe.fromInvalidType("getMailbox","filter","InputMailboxFilter"))
if(t&&!ae(t))return gi(this.id)(Xe.fromInvalidType("getMailbox","trackingData","TrackingData"))}var r=ai(n)?i(i({},n),{},{id:qt()}):n,a=new sd(this._id,this._options,this._participantClientId,r,this._dispatch.bind(this)),o=ui(this._id)
return o&&!dn(o)?$c(this._id,this._options,a.participant,{dispatch:this._dispatch.bind(this),handleRealtimeNewMessage:Xc(a,this._dispatch.bind(this)),triggerChainSync:a.syncConversations.bind(a),triggerMessagesSync:function(e,n){return a.syncConversationMessages(e,"FullMailboxState",n)}},t).then((function(n){var t,r,i,o,s,c,d=n.data,u=d.conversations,l=d.participants,p=d.status,f=u.filter(B)
return a._oldestConversationTime=ed(g(u)),e._dispatch({type:"CONNECT"}),e._dispatch(Di(f,O(l),p.syncToken,p.lastRequestId)),a._updateLocalParticipant(),Pc(u.map((function(e){return e.backendUrn})),!0,null===(t=a.options.trackingOptions)||void 0===t?void 0:t.trackingFireEvent),a.clientSensorTrackers.triggerRecipientMetric("conversation-list-sync-success"),p.syncToken||yi(e.id,Xe.fromApiErrorMemo("ERRORS_IN_RESPONSE",{msg:"SyncToken is null on initial Mailbox bootstrap"})),(r=e.networkConfig,i=e._id,o="getMailboxUnreadCounts",s=At(r,{mailboxUrn:i}),c=Ir(o),Yn(s).catch(Cr(o)).then(c)).then((function(e){return oi(e)})).then((function(n){e._dispatch({type:"UPDATE_MAILBOX_UNREAD_COUNT",payload:n.counters,requestId:n.requestId})})).catch(gi(e._id)),a})):(a.state.conversations.length<20&&a.loadOlderConversations(),Promise.resolve(a))}}],[{key:"create",value:function(n,t){var r,i
t.headers&&(r=t.headers,Fn=r),t.graphQlQueryIds&&(i=t.graphQlQueryIds,Object.keys(i).forEach((function(e){Zn.set(e,i[e])}))),qc(n,{connected:!1,loading:!0})
var a=new e(n,t)
return Promise.resolve(a)}}]),e}()
function dd(e,n){if(A(e)||!$(e))return Promise.reject(Xe.fromInvalidType("connectToMailbox","mailboxUrn","URN"))
if(!U(n))return Promise.reject(Xe.fromInvalidType("connectToMailbox","options","Partial<MailboxOptions>"))
var t=i(i({},Vr),n)
return cd.create(e,t)}},3173:(e,n)=>{"use strict"
function t(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}Object.defineProperty(n,"__esModule",{value:!0})
var r,i="function"==typeof Symbol&&Symbol.observable||"@@observable"
r=Symbol.observable
var a=function(){function e(n){(function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")})(this,e),t(this,"_subscribers",new Set),t(this,"_lastState",void 0),t(this,"_complete",!1),this._lastState=null!=n?n:null}return function(e,n,t){n&&function(e,n){for(var t=0;t<n.length;t++){var r=n[t]
r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"subscribe",value:function(e){var n=this,t="function"==typeof e?{next:e}:e
return this._subscribers.add(t),null!==this._lastState&&t.next(this._lastState),{unsubscribe:function(){return n._subscribers.delete(t)}}}},{key:"subscribersCount",get:function(){return this._subscribers.size}},{key:"state",get:function(){return this._lastState}},{key:"observable",get:function(){return this}},{key:r,value:function(){return this}},{key:i,value:function(){return this}},{key:"emit",value:function(e){this._complete||(this._lastState=e,this._subscribers.forEach((function(n){return n.next(e)})))}},{key:"error",value:function(e){this._complete||this._subscribers.forEach((function(n){var t
return null===(t=n.error)||void 0===t?void 0:t.call(n,e)}))}},{key:"complete",value:function(){this._complete||(this._complete=!0,this._subscribers.forEach((function(e){var n
return null===(n=e.complete)||void 0===n?void 0:n.call(e)})))}}]),e}(),o=function(e){return function(n){var t=n.state?new a(e(n.state)):new a
return n.subscribe({next:function(n){t.emit(e(n))},error:function(e){return t.error(e)},complete:function(){return t.complete()}}),t}},s=function(){return function(e){var n,t=e.state,r=new a(null!==(n=t)&&void 0!==n?n:void 0)
return e.subscribe({next:function(e){e!==t&&(r.emit(e),t=e)},error:function(e){return r.error(e)},complete:function(){return r.complete()}}),r}},c=function(e){return function(n){var t=new a
return n.subscribe({next:function(n){return e(n)&&t.emit(n)},error:function(e){return t.error(e)},complete:function(){return t.complete()}}),t}}
function d(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t]
return function(e){return n.reduce((function(e,n){return n(e)}),e)}}var u=new Map,l=function(e,n){return c((function(t){var r,i=null!==(r=u.get(e))&&void 0!==r?r:new Set
if(t&&t.entityUrn){var a=!i.has(t.entityUrn)&&function(e,n){var t=Date.now()
return e.deliveredAt.getTime()>t-n}(t,n)
return i.add(t.entityUrn),u.set(e,i),a}return!1}))},p=function(e){return c((function(n){return void 0!==n&&n.senderUrn!==e}))}
n.Subject=a,n.conversationDraftMessageObservable=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState"
return d(o((function(e){return e.conversations.getByIdentifier(n,t)})),o((function(e){return null==e?void 0:e.draftMessage})),s())(e)},n.conversationMessagesObservable=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState"
return d(o((function(e){return e.conversations.getByIdentifier(n,t)})),o((function(e){return null==e?void 0:e.messages})),s())(e)},n.conversationObservable=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"FilteredMailboxState"
return d(o((function(e){return e.conversations.getByIdentifier(n,t)})),s())(e)},n.distinct=s,n.filter=c,n.map=o,n.newMessageFromMailboxObservable=function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10
return d(o((function(e){var n
return null===(n=e.conversations.first())||void 0===n?void 0:n.messages.last()})),p(t),l(n,1e3*r))(e)},n.pipe=d,n.resetAlertedMessages=function(){u.clear()},n.tap=function(e){return function(n){var t=new a
return n.subscribe({next:function(n){e(n),t.emit(n)},error:function(e){return t.error(e)},complete:function(){return t.complete()}}),t}}},6367:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{ChooserFormatter:()=>Rr,CurrencyFormatter:()=>sr,DEFAULT_DATE_PATTERN:()=>Lt,DEFAULT_NAME_STYLE:()=>jt,DEFAULT_TIME_PATTERN:()=>Er,DateFormatter:()=>Nt,NAME_STYLES:()=>Bt,NameFormatter:()=>rr,NumberFormatter:()=>cr,PluralFormatter:()=>vr,PossessiveFormatter:()=>ar,Rtl:()=>xr,TimeFormatter:()=>_r,TruncationFormatter:()=>Or,default:()=>Zr,formatCurrency:()=>hr,formatDate:()=>Ft,formatInteger:()=>yr,formatName:()=>ir,formatNumber:()=>mr,formatPercent:()=>gr,formatTime:()=>Ar,fromString:()=>ei,getOutputFilter:()=>ii,getRules:()=>_t,getSantizeUrl:()=>re,getUserDataFilter:()=>ai,makeInterpolator:()=>ci,render:()=>si,setOutputFilter:()=>ri,setSanitizeUrl:()=>ie,setUserDataFilter:()=>oi,toAst:()=>ni})
var r=t(6835),i=t.n(r)
class a{constructor(e){this.value=o(e)}toString(){switch(typeof this.value){case"object":case"function":break
default:return String(this.value)}return""}}function o(e){return e instanceof a?e.value:e}function s(e){return e instanceof a?e:new a(e)}function c(e,n){const{parameters:t}=e
return Object.prototype.hasOwnProperty.call(t,n)}function d(e,n){return-1!==e.indexOf(n,e.length-n.length)}function u(e,n){return 0===e.indexOf(n)}function l(e,n,t){let r=""
if(e.parameters){const i=e.parameters
for(const e in i)if(i.hasOwnProperty(e)&&!n.test(e)){r=`Invalid style "${e}"`,t&&(r+=` ${t}`)
break}}return r}function p(e,n,t){let r
const i=`Placeholder must have exactly ${n} style(s)`,a=`Placeholder must have at least ${n} style(s)`
let o,s=0
if(e.parameters){for(o in e.parameters)e.parameters.hasOwnProperty(o)&&s++
"eq"===t&&s!==n?r=i:"gte"===t&&s<n&&(r=a)}else n>0&&(r="Placeholder must have styles")
return r}function f(e,n){return p(e,n,"eq")}function m(e,n,t){let r,i,a,o
if(e.parameters)for(i=0,a=n.length;i<a;++i)r=e.parameters[n[i]],"without"===t?r&&r.value&&(o=`Invalid value for style "${r.key}"`):"with"===t&&r&&(r.value||(o=`Style "${r.key}" must have a value`))
return o}function y(e,n){return m(e,n,"with")}const h="text",g=[h],v=new RegExp(`^(${[h,"title"].join("|")})$`),_=new RegExp("^(true|false)$"),b=/-?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/,T=/^(zero|singular|dual|few|many|plural|other)$/,E=["prefix","suffix"],A=/^(familiar|family|full|given|list|maiden|micro|possessive|salutation|prefix|suffix|compact)$/,S=["prefix","suffix"],C=["name","text"],k=/^(?:familiar|family|full|given|list|maiden|micro|possessive|salutation|prefix|suffix)$/,I="sep",R="nosep",x=[I,R],w=new RegExp(`^(${[I,R].join("|")})$`),O=new RegExp("prefix|possessive|suffix"),M={anchor:function(e){let n=function(e,n){let t,r,i,a,o
if(e.parameters)for(r=e.parameters,a=0,o=n.length;a<o;++a)i=n[a],r.hasOwnProperty(i)||(t=`Missing required style key "${i}"`)
else t="Placeholder must have styles"
return t}(e,g)
return n||(n=l(e,v,'The anchor placeholder only supports "text" and "title" styles.')),n},boolean:function(e){let n=function(e,n){return p(e,1,"gte")}(e)
return n||(n=l(e,_,'The key must be either "true" or "false".')),n},choice:function(e){let n,t,r,i,a,o
const s=e.parameters
let c,d,u=!1
for(d in o=[],s)s.hasOwnProperty(d)&&(c=s[d],o[c.order]=c,T.test(d)&&(u=!0))
for(c=void 0,i=0,a=o.length;i<a;++i)if(c=o[i],b.test(c.key))if(r=parseInt(c.key,10),void 0===t)t=r
else{if(!(t<r)){n=`Invalid number order. Cannot list ${r} after ${t}. Numbers must be ascending.`
break}t=r}else{if(!T.test(c.key)){n=`Invalid category key "${c.key}".`
break}u=!0}return u&&(s.singular?s.plural||(n='Missing required category "plural"'):n='Missing required category "singular"'),n},list:function(e){let n=!1
return""!==e.subtype&&-1===C.indexOf(e.subtype)&&(n=`Invalid list subtype "${e.subtype}"`),n||(n=l(e,k,"Invalid style for list placeholder.")),n||(n=y(e,S)),n},map:function(e){let n
return e.parameters?0===Object.keys(e.parameters).length&&(n="MapPlaceholder must have at least one style argument."):n="MapPlaceholder must have parameters.",n},name:function(e){let n=l(e,A,"Invalid style for name placeholder.")
return n||(n=y(e,E)),n},possessive:function(e){return f(e,0)},suffix:function(e){let n=f(e,1)
return n||(n=l(e,w,"Invalid style for suffix placeholder.")),n||(n=function(e,n){return m(e,n,"without")}(e,x)),n},text:function(e){return l(e,O,"Invalid style for text placeholder.")}}
function N(e){let n,t,r
if("string"!=typeof e){if(r=function(e){return e?e.index?void 0:"Placeholder must have an index.":"Placeholder is invalid."}(e),r||M.hasOwnProperty(e.type)&&(r=M[e.type](e)),r)throw new Error(r)
if(e&&e.parameters instanceof Object)for(n in e.parameters)e.parameters.hasOwnProperty(n)&&(t=e.parameters[n],t.value&&t.value instanceof Array&&t.value.forEach(N))}}class P{constructor(e){this.source=e,this.index=0,this.cursor=e.charCodeAt(0),this.previousCharCode=0,0===e.length&&(this.cursor=0)}get isEscaped(){return 92===this.previousCharCode}get hasNext(){return 0!==this.cursor}get currentChar(){return this.index<this.source.length?this.source.charAt(this.index):""}get currentCharCode(){return this.cursor}next(){this.previousCharCode=this.cursor,this.index++,this.index<this.source.length?this.cursor=this.source.charCodeAt(this.index):this.cursor=0}toString(){return`index ${this.index} in string "${this.source}"`}}const D="",U=/[a-zA-Z]/,L=/[1-9]/,F=/[0-9]/,j=/[a-zA-Z0-9]/,B=/[a-zA-Z0-9_\-~.|\[\]\/]/,q=/[#]/,V={},$={choice:/[#+<]/,plural:/[#+<]/},K={number:-1,keyword:D},H="simple"
function G(e,n){throw new SyntaxError(`XMessage parsing error: ${e} at ${n.toString()}`)}function W(e,n,t){const{unprocessedStyles:r,parsedStyles:i}=function(e){const n=[],t=[],r=[]
for(;e.hasNext;)123===e.currentCharCode?n.push(e.currentChar):125===e.currentCharCode&&n.pop(),0===n.length&&124===e.currentCharCode?(0===r.length&&G('Unexpected "|" in style list.',e),t.push(r.join(D)),r.length=0,e.next()):(r.push(e.currentChar),e.next())
return r.length>0&&(t.push(r.join(D)),r.length=0),{parsedStyles:{},unprocessedStyles:t}}(e)
return r.map((e=>function(e,n){const t=$[n]||q,r=[]
let i="",a="",o=null
for(;e.hasNext;)t.test(e.currentChar)&&(0===r.length?G(`Error parsing style key/value. Found delimiter "${e.currentChar}" but expected key.`,e):""===a&&(a=r.join(D),r.length=0,i=e.currentChar,e.next())),r.push(e.currentChar),e.next()
if(""===i)a=r.join(D),r.length=0
else{if(r.length>0){const e=r.join(D)
void 0!==e&&(o=X(e))}r.length=0}return(u(a," ")||d(a," "))&&G("leading/trailing spaces not allowed in keys",e),"map"===n&&""!==a&&null===o&&G(`missing style value for "${a}"`,e),{key:a,value:o,delimiter:i}}(new P(e),n))).forEach(((n,r)=>{n.order=r+t,i.hasOwnProperty(n.key)?G(`Found duplicate style key "${n.key}". Styles must have unique names.`,e):i[n.key]=n})),i}function Y(e){const n={}
for(;e.hasNext;){const t=[]
for(;e.hasNext&&124!==e.currentCharCode;)t.push(e.currentChar),e.next()
const r=t.join(D);(u(r," ")||d(r," "))&&G("leading/trailing spaces not allowed in keys",e),n[r]={key:r,value:null,delimiter:"",order:0},e.hasNext&&e.next()}return n}function z(e){return"string"==typeof e?e:(n=e.text,function(e){let n=K,t=H,r=D,i={}
return e.hasNext?(n=function(e){const n=[],t=[]
let r=-1,i=D,a=!1
if(48===e.currentCharCode&&(n.push(e.currentChar),e.next(),a=!0),a&&e.hasNext&&44!==e.currentCharCode&&58!==e.currentCharCode&&G(`Could not parse index; expected ":" or end of identifier but found "${e.currentChar}"`,e),L.test(e.currentChar))for(;e.currentChar&&F.test(e.currentChar);)n.push(e.currentChar),e.next()
if(58===e.currentCharCode)for(e.next(),e.currentChar&&j.test(e.currentChar)?(t.push(e.currentChar),e.next()):G(`Expected letter (a-zA-Z) or number (0-9) but found "${e.currentChar}"`,e);e.currentChar&&B.test(e.currentChar);)t.push(e.currentChar),e.next()
else 0===n.length&&e.hasNext&&G(`Unexpected character; expected ":" but found "${e.currentChar}"`,e)
return 44===e.currentCharCode||0===e.currentCharCode?(r=parseInt(n.join(D),10),isNaN(r)&&(r=-1),i=t.join(D)):G(`Unexpected character; expected "," or end of identifier but found "${e.currentChar}"`,e),{number:r,keyword:i}}(e),44===e.currentCharCode?(e.next(),t=function(e){const n=[]
if(0===e.currentCharCode)G('Unable to parse type. Expected letter (a-zA-Z) but found end of identifier after ","',e)
else for(;e.currentChar&&U.test(e.currentChar);)n.push(e.currentChar),e.next()
return n.join(D)}(e),44===e.currentCharCode&&(e.next(),r=function(e,n){let t=D
if("list"===n){const n=[]
for(;e.hasNext&&44!==e.currentCharCode;)n.push(e.currentChar),e.next()
t=n.join(D)}return t}(e,t),44!==e.currentCharCode&&124!==e.currentCharCode||e.next(),e.currentCharCode&&(i=function(e,n){return V[n]?V[n](e,n):W(e,n,0)}(e,t)))):t=H):G("Error parsing placeholder. Unexpected end of input.",e),e.currentCharCode&&G(`Unexpected character "${e.currentChar}".`,e),{index:n,type:t,subtype:r,parameters:i}}(new P(n)))
var n}function X(e){if(-1===e.indexOf("{")&&-1===e.indexOf("'"))return[e]
const n=function(e){const n=[],t=[],r=[],i=new P(e)
let a=!1
for(;i.hasNext;)if(92!==i.currentCharCode||i.isEscaped)if(i.isEscaped)r.push(i.currentChar),i.next()
else{if(0===t.length&&39===i.currentCharCode){if(i.next(),39===i.currentCharCode){r.push("'"),i.next()
continue}a=!a,r.length>0&&(n.push(r.join(D)),r.length=0)}a?(i.hasNext&&r.push(i.currentChar),i.next()):125!==i.currentCharCode||i.isEscaped||0!==t.length?123===i.currentCharCode?(0===t.length?r.length>0&&(n.push(r.join(D)),r.length=0):r.push(i.currentChar),t.push(i.currentChar),i.next()):125===i.currentCharCode?(t.pop(),0===t.length?r.length>0?(n.push({text:r.join(D)}),r.length=0):G("Unexpected end of placeholder (found no content)",i):r.push(i.currentChar),i.next()):(i.hasNext&&r.push(i.currentChar),i.next()):G('Unexpected "}"',i)}else i.next()
return 0!==t.length&&G('Unexpected end of placeholder (unmatched "{")',i),r.length>0&&(n.push(r.join(D)),r.length=0),n}(e),t=[]
for(let e=0;e<n.length;++e)t[e]=z(n[e])
return t}V.choice=function(e,n){return W(e,n,0)},V.date=function(e){return Y(e)},V.number=function(e){return Y(e)}
const Q=/{(\d+)}/g
let J
function Z(){return J}function ee(e){J=function(n){if(n instanceof a)return n
const t=e(n)
return new a(t)}}function ne(e){return i().htmlEncode(e)}ee(ne)
let te=function(e){return i().sanitizeUrl(e)}
function re(){return te}function ie(e){te=e}function ae(e){console.warn(e)}function oe(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
return e.replace(Q,(function(e,t){return void 0!==n[t]?n[t]:e}))}function se(e,n){const{length:t}=e
for(let r=0;r<t;++r){const t=e[r]
if(n.hasOwnProperty(t))return n[t]}return null}let ce=function(){return""}
function de(e,n){const t=e.parameters[n]
if(t)return t.value}function ue(e,n){const t=e.parameters
if(t){const e=Object.keys(t)
for(let r=0;r<e.length;r++){const i=e[r]
if(t[i].order===n)return t[i]}}}function le(e,n,t,r,i){const a=de(e,n),c=Z()
if(""===a)return a
if(void 0!==a){let e=""
for(let n=0;n<a.length;++n){const s=a[n]
e+="string"==typeof s?s:o(c(ce(s,t,r,i)))}return s(e)}return""}function pe(e,n,t,r){return ce(e,n,t,r)}const fe=/['"<>]/
function me(e){if(null==e)return""
const n=String(o(e))
return fe.test(n)?ne(n):n}const ye="true",he="false",ge={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},ve={month:"long"},_e={year:"numeric",month:"long",day:"numeric"},be={year:"numeric",month:"long"},Te={month:"long",day:"numeric"},Ee={year:"numeric",month:"short"},Ae={month:"short",day:"numeric"},Se={year:"2-digit"},Ce={month:"short"},ke={month:"numeric"},Ie={weekday:"long"},Re={year:"numeric"},xe={year:"numeric",month:"short",day:"numeric"},we={weekday:"short"},Oe={day:"numeric"},Me={weekday:"narrow"},Ne={year:"numeric",month:"numeric",day:"numeric"},Pe=Ce,De={month:"long"},Ue=Ie,Le=we,Fe=Oe,je=Re,Be={...ve,...Fe},qe={...Pe,...Fe},Ve={...ve,...Fe,...je},$e={...Pe,...Fe,...je},Ke={...De,...Fe,...je},He={...ve,...je},Ge={...Pe,...je},We={mdy:Ve,"mdy.long":Ve,"mdy.medium":$e,"mdy.short":Ke,my:He,"my.long":He,"my.medium":Ge,"my.short":Ge,md:Be,"md.long":Be,"md.medium":qe,"md.short":qe,m:ve,"m.long":ve,"m.medium":Pe,"m.short":ke,d:Ue,"d.long":Ue,"d.medium":Le,"d.short":Fe,y:je,"y.long":je,"y.medium":je,"y.short":je}
var Ye={postFormatting:function(e,n,t){const r=e.split(".")[0]
return t=t.replace(/\u200F0/g,"‏").replace(",","،").replace("الإثنين","الاثنين"),t="mdy.short"===e?t.replace(/\u200F/g,"").replace(/^0/,"").replace(/\/0/,"/").replace(/\//g,"‏/"):t.replace(/\u200F|\u200E/g,"").replace(" 0"," "),"time.short"===e?t=t.replace(/\//g,"‏/"):"mdy"===e||"mdy.medium"===e||"mdy.long"===e||"time.medium"===e||"time.long"===e?t=t.replace(/([^\u060C])(\s\d{4}\s?)/,"$1،$2"):"my"===r&&(t=t.replace("،","")),"d"!==r&&"m"!==r&&"y"!==r?0!==t.indexOf("‏")&&(t=`‏${t}`):t=t.replace(/^\u200F/,""),t},narrowDayNames:["حد","اث","ثل","أر","خم","جم","سب"],intlOptions:Object.assign({},We,{time:ge,"time.long":ge,"time.medium":ge,"time.short":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},"mdy.short":{...We["mdy.short"],month:"numeric"}})}
const ze={year:"numeric",month:"numeric"},Xe={month:"numeric",day:"numeric"},Qe={month:"numeric"}
var Je={postFormatting:function(e,n,t){const r=e.split(".")[0]
return"d.short"!==e&&"m.medium"!==e&&"m.short"!==e||(t=(t+=".").replace("..",".")),t=t.replace(/\./g,". ").replace(/\u0020\u0020/g," ").replace(/(\u0020)+$/g,""),"md"===r?(t=`${(t=t.replace(/\./g,"").split(" "))[0].replace(/^0/,"")}. ${t[1]}`,"md.long"!==e&&(t+=".")):"my.medium"!==e&&"my.short"!==e||(t=t.replace(" ","/")),t},narrowDayNames:["Ne","Po","Út","St","Čt","Pá","So"],intlOptions:{time:ge,"time.long":ge,"time.medium":ge,"time.short":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":{year:"numeric",month:"numeric",day:"numeric"},"mdy.short":Ne,my:be,"my.long":be,"my.medium":ze,"my.short":ze,md:Te,"md.long":Te,"md.medium":Xe,"md.short":Xe,m:De,"m.long":De,"m.medium":Qe,"m.short":Qe,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}}
const Ze={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"numeric"},en={year:"numeric",month:"long",day:"numeric"},nn={year:"numeric",month:"long"},tn={year:"numeric",month:"short"},rn={month:"long",day:"numeric"},an={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"numeric"},on={year:"numeric",month:"long",day:"numeric"},sn={year:"numeric",month:"long"},cn={year:"numeric",month:"short"},dn={month:"long",day:"numeric"},un={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},ln={year:"numeric",month:"long",day:"numeric"},pn={year:"numeric",month:"long"},fn={year:"numeric",month:"short"},mn={month:"long",day:"numeric"},yn={postFormatting:function(e,n,t){const r=e.split(".")[0],i=t.replace(/\s0/," ")
if("my"===r)return i.replace(/,/g,"")
if("time"===r){const e=i.split(" ")
return 5!==e.length||/,$/.test(e[2])?3!==e.length||/,$/.test(e[0])||(e[0]+=","):e[2]+=",",e.join(" ")}return i},narrowDayNames:["S","M","T","W","T","F","S"],intlOptions:{time:un,"time.long":un,"time.medium":un,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},mdy:ln,"mdy.long":ln,"mdy.medium":xe,"mdy.short":Ne,my:pn,"my.long":pn,"my.medium":fn,"my.short":fn,md:mn,"md.long":mn,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Se}}
var hn={postFormatting:function(e,n,t){const r=e.split(".")[0]
return/^(d|m|my)$/.test(r)?t=t.toLocaleLowerCase():"md"!==r||/\sde\s/.test(t)?"mdy.medium"!==e||/\sde\s/.test(t)||((t=t.split(" ")).splice(1,0,"de"),t.splice(3,0,"de"),t=t.join(" ")):t=t.replace(/\s/," de "),"my.medium"!==e&&"my.short"!==e||/\.\sde/.test(t)||(t=t.replace(/\.\s/,". de ")),/((d|m|md)\.medium)|md\.short/.test(e)&&!/\.$/.test(t)&&(t+="."),"y.short"!==e&&(t=t.replace(/^0/,"").replace(/\/0/g,"/")),t.replace("sep.","sept.")},narrowDayNames:["D","L","M","X","J","V","S"],intlOptions:{time:ge,"time.long":ge,"time.medium":ge,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Se}}
const gn={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"numeric"}
var vn={postFormatting:function(e,n,t){const r=e.split(".")[0]
return"m"!==r&&"my"!==r||(t=t.toLocaleLowerCase()),t.indexOf(" à ")>-1&&(t=t.replace(" à "," ")),t.replace(/^0/,"").replace(/\/0/,"/")},intlOptions:{time:gn,"time.long":gn,"time.medium":gn,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"2-digit",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}}
const _n={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"numeric"},bn={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"numeric"}
var Tn={postFormatting:function(e,n,t){const r=e.split(".")[0]
return"time"===r?t=t.replace(/,/g,""):/^(d|m|my)$/.test(r)?t=t.toLocaleLowerCase():"mdy.medium"===e&&(t=t.replace(/\//g," ")),/mdy\.medium|md\.(long|medium|short)/.test(e)&&(t=t.replace(/^0/,"")),t},narrowDayNames:["D","L","M","M","G","V","S"],intlOptions:{time:bn,"time.long":bn,"time.medium":bn,"time.short":{year:"2-digit",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":{year:"numeric",month:"2-digit",day:"2-digit"},my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Se}}
const En={weekday:"narrow"},An={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0},Sn={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"numeric"}
var Cn={postFormatting:function(e,n,t){let r=t
const i=e.split(".")[0]
return/^(m|d|my)$/.test(i)&&(r=r.toLocaleLowerCase()),"m.medium"===e?r=r.replace(".",""):/^md\.(medium|short)/.test(e)&&!/\.$/.test(r)?r+=".":/^my\.(medium|short)/.test(e)&&!/\./.test(r)?r=r.replace(/\s/,". "):"mdy.medium"!==e||/\d\s[a-z]+/.test(r)||(r=r.replace(/\./g,". ").replace(/\./,"")),r.replace(/^0/,"").replace(/mei\./,"mei")},narrowDayNames:["Z","M","D","W","D","V","Z"],intlOptions:{time:Sn,"time.long":Sn,"time.medium":Sn,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"2-digit",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}}
const kn={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"numeric"},In={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"numeric"},Rn={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"numeric"},xn={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"numeric"}
var wn={postFormatting:function(e,n,t){const r=e.split(".")[0]
return/(^(m|my|(d(\.long)?$)))/.test(e)?t=t.toLocaleLowerCase():"d.medium"===e?t=t.replace(/^D$|^dum\.?$/,"Dum").replace(/^L$|^lun\.?$/,"Lun").replace(/^Ma$|^mar\.?$/,"Mar").replace(/^Mi$|^mie\.?$/,"Mie").replace(/^J$|^joi\.?$/,"Joi").replace(/^V$|^vin\.?$/,"Vin").replace(/^S$|^sâm\.?$/,"Sâm"):"time"!==r||/,/.test(t)||(4===(t=t.split(" ")).length?t[2]+=",":2===t.length&&(t[0]+=","),t=t.join(" ")),t.replace(/mar\u0163i/,"marți").replace(/sep\./,"sept.").replace(/mai\./,"mai")},intlOptions:{time:xn,"time.long":xn,"time.medium":xn,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"2-digit",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}},On={postFormatting:function(e,n,t){const r=e.split(".")[0],i={"янв":"янв.","фев":"февр.","мар":"март","апр":"апр.","июн":"июнь","июл":"июль","авг":"авг.","сен":"сент.","окт":"окт.","ноя":"нояб.","дек":"дек."},a={"март":"марта","май":"мая","июнь":"июня","июль":"июля","мар.":"марта","июн.":"июня","июл.":"июля"}
let o
for(o in"m"===r||"d"===r||"my"===r?t=t.toLocaleLowerCase():"y"===r?t=t.replace(/\s\u0433\.$/,""):"md"!==r||/^[0-9]+/.test(t)?"time.short"!==e||/,/.test(t)?/time\.(long|medium)/.test(e)&&!/,/.test(t)&&(t=t.replace("г.","г.,")):t=t.replace(" ",", "):t=2===(t=t.split(" ")).length?`${t[1].replace(/^0/,"")} ${t[0]}`:t.join(" "),"my"===r&&t.indexOf(" г.")===t.length-3&&(t=t.substring(0,t.length-3)),i)if(new RegExp(`${o}( |$)`).test(t)){t=t.replace(new RegExp(o),i[o])
break}if(/^(md|mdy)\./.test(e))for(o in a)if(new RegExp(`${o}( |$)`).test(t)){t=t.replace(new RegExp(o),a[o])
break}return t},narrowDayNames:["вс","пн","вт","ср","чт","пт","сб"],intlOptions:{time:ge,"time.long":ge,"time.medium":ge,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,y:Re,"y.long":Re,"y.medium":Re,"y.short":Se}}
const Mn={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"numeric"}
var Nn={postFormatting:function(e,n,t){const r=e.split(".")[0],i=e.split(".")[1]
if(/^(d|m|my|md|mdy)/.test(e)&&(t=t.replace(".","").toLocaleLowerCase()),"d.medium"===e){const e={"sö":"sön","må":"mån",ti:"tis",on:"ons",to:"tors",tor:"tors",fr:"fre","lö":"lör"}
for(const n in e)if(t===n){t=e[n]
break}}return"short"!==i&&"medium"!==i||"time"===r||(t=t.replace("juni","jun").replace("juli","jul").replace("mars","mar")),t=t.replace("den ",""),"md.long"===e&&t.indexOf(":e")>=0&&(t=t.replace(":e","")),t},narrowDayNames:["S","M","T","O","T","F","L"],intlOptions:{time:Mn,"time.long":Mn,"time.medium":Mn,"time.short":{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}}
const Pn={year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}
var Dn={postFormatting:function(e,n,t){let r=t
const i=e.split(".")[0]
if(("my.long"===e||"mdy.long"===e)&&t.indexOf(" ค.ศ. ")>0)r=r.replace(" ค.ศ. "," ")
else if("y"===i){const e=r.split(" ")
e.length>1?[,r]=e:[r]=e}else if("d"===i){const e={"อาทิตย์":"วันอาทิตย์","จันทร์":"วันจันทร์","อังคาร":"วันอังคาร","พุธ":"วันพุธ","พฤหัสบดี":"วันพฤหัสบดี","ศุกร์":"วันศุกร์","เสาร์":"วันเสาร์"},n=Object.keys(e)
for(let t=0;t<n.length;t++)if(r===n[t]){r=e[n[t]]
break}}return r.replace(/^0/,"")},calendar:"gregory",intlOptions:{time:Pn,"time.long":Pn,"time.medium":Pn,"time.short":{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}},Un={postFormatting:function(e,n,t){const r=e.split(".")[0]
if("d"===r){const e={Mierkoles:"Miyerkules",Huebes:"Huwebes",Biernes:"Biyernes",Mier:"Miy",Hueb:"Huw",Bier:"Biy",Saba:"Sab"}
for(const n in e)if(t===n){t=e[n]
break}}else"my"===r?t=t.replace(/,/,""):"time"===r&&(5!==(t=t.split(" ")).length||/,$/.test(t[2])?3!==t.length||/,$/.test(t[0])||(t[0]+=","):t[2]+=",",t=t.join(" "))
if(/^(m|md|my|mdy)\.(medium|short)/.test(e)){const e={Mayo:"May",Agos:"Ago",En:"Ene",Sept:"Set"}
for(const n in e)if(new RegExp(`${n}( |$)`).test(t)){t=t.replace(n,e[n])
break}}return"y"!==r&&(t=t.replace(/^0/,"").replace(/\s0/," ")),t.replace("Septyembre","Setyembre")},narrowDayNames:["L","L","M","M","H","B","S"],intlOptions:{time:ge,"time.long":ge,"time.medium":ge,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Se}}
const Ln={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"numeric"},Fn={month:"short",day:"numeric"},jn={year:"numeric",month:"narrow",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0},Bn={year:"numeric",month:"narrow",day:"numeric"},qn={year:"numeric",month:"narrow"},Vn={month:"narrow",day:"numeric"}
var $n={postFormatting:function(e,n,t){const r=["月","日","年"],i=e.split(".")[0],a=e.split(".")[1]
if("d"!==i||"short"===a)for(let e=0;e<r.length;e++)t=t.replace(r[e],` ${r[e]} `)
return"m"===i?t=`${t.split("月")[0]}月`:"time.short"!==e&&"mdy.short"!==e||(t=t.replace(/\s(\u6708|\u5E74)\s/g,"/").replace(/\s\u65E5\s/g,"")),t.replace("  "," ").replace("月 月","月 ").replace(/(^\s+|\s+$)/g,"").replace(/\u5348\s/,"午")},intlOptions:{time:jn,"time.long":jn,"time.medium":jn,"time.short":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0},mdy:Bn,"mdy.long":Bn,"mdy.medium":xe,"mdy.short":Ne,my:qn,"my.long":qn,"my.medium":Ee,"my.short":Ee,md:Vn,"md.long":Vn,"md.medium":Ae,"md.short":Ae,m:Ae,"m.long":Ae,"m.medium":Ae,"m.short":Ae,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}}
const Kn={year:"numeric",month:"narrow",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0},Hn={year:"numeric",month:"narrow",day:"numeric"},Gn={year:"numeric",month:"narrow"},Wn={month:"narrow",day:"numeric"}
var Yn={postFormatting:function(e,n,t){const r=["月","日","年"],i=e.split(".")[0],a=e.split(".")[1]
if("d"!==i||"short"===a)for(let e=0;e<r.length;e++)t=t.replace(r[e],` ${r[e]} `)
return"d.medium"===e&&-1===t.indexOf("周")&&(t=`周${t}`),"m"===i?t=`${t.split("月")[0]}月`:"time.short"!==e&&"mdy.short"!==e||(t=t.replace(/\s(\u6708|\u5E74)\s/g,"/").replace(/\s\u65E5\s/g,"")),t.replace("  "," ").replace("月 月","月 ").replace(/(^\s+|\s+$)/g,"").replace(/\u5348\s/,"午")},intlOptions:{time:Kn,"time.long":Kn,"time.medium":Kn,"time.short":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0},mdy:Hn,"mdy.long":Hn,"mdy.medium":xe,"mdy.short":Ne,my:Gn,"my.long":Gn,"my.medium":Ee,"my.short":Ee,md:Wn,"md.long":Wn,"md.medium":Ae,"md.short":Ae,m:Ae,"m.long":Ae,"m.medium":Ae,"m.short":Ae,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}},zn={ar_AE:{intlLocale:"ar-AE-u-nu-arab",legacyIntlLocale:"ar",chooser:{equals:{0:5,1:0,2:2,3:3,4:3,5:3,6:3,7:3,8:3,9:3,10:3},endsWith:{"00":1,"01":1,"02":1,"03":3,"04":3,"05":3,"06":3,"07":3,"08":3,"09":3,10:3,0:4,1:4,2:4,3:4,4:4,5:4,6:4,7:4,8:4,9:4}},currency:{postFormatting:function(e,n,t){return t=t.replace(/\s/g," "),n<0&&(0!==t.indexOf("‎")&&(t=`‎${t}`),t=t.replace(/[\u002D\u2212]/g,"").replace(" "," -")),"CNY"===e&&(t=t.replace(/CNY|\uFFE5/,"CN¥")),t}},date:Ye,number:{percent:"{0}%",postFormatting:function(e,n){return e<0&&(n=`-${n.replace("-","")}`),n.replace("‎","")}},time:{postFormatting:function(e,n,t){return t.replace(/^0/,"")}},list:{start:"{0}، {1}",middle:"{0}، {1}",end:"{0}، و {1}",2:"{0} و {1}"}},cs_CZ:{intlLocale:"cs",chooser:{equals:{0:1,1:0,2:2,3:2,4:2},endsWith:{0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1}},date:Je,currency:{postFormatting:function(e,n,t){return"CNY"===e&&(t=t.replace(/CNY|\uFFE5/,"CN¥")),t}},number:{percent:"{0}%",maximumFractionDigits:2},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} a {1}",2:"{0} a {1}"}},da_DK:{intlLocale:"da",currency:{postFormatting:function(e,n,t){return"CNY"===e&&(t=t.replace(/CNY|\uFFE5/,"CN¥")),t}},date:{postFormatting:function(e,n,t){return"my.medium"===e||"my.short"===e||"mdy.medium"===e?t=t.replace(/\./g,"").replace(/\s/g,". "):/^(m|md)\.medium|^(d|md)\.short/.test(e)&&!/\.$/.test(t)?t+=".":"d.medium"===e&&(t=t.replace(/s\u00F8$/,"søn.").replace(/ma$/,"man.").replace(/ti$/,"tir.").replace(/on$/,"ons.").replace(/to$/,"tor.").replace(/fr$/,"fre.").replace(/l\u00F8$/,"lør."),/\.$/.test(t)||(t+=".")),t.replace("maj.","maj").replace(/-/g,"/").replace(":",".").replace(/^0/,"").replace(/\/0/,"/")},intlOptions:{time:Ze,"time.long":Ze,"time.medium":Ze,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"2-digit",minute:"numeric"},mdy:en,"mdy.long":en,"mdy.medium":xe,"mdy.short":Ne,my:nn,"my.long":nn,"my.medium":tn,"my.short":tn,md:rn,"md.long":rn,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}},possessive:{fallback:"s",rules:{".*[SsXxZz]$":"’",".*[A-RT-WYÅÆØ]$":"S",".*[a-rt-wyåæø]$":"s"}},time:{postFormatting:function(e,n,t){return/^\d\./.test(t)&&(t=`0${t}`),t.replace(/:/g,".")}},number:{percent:"{0}%"},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} og {1}",2:"{0} og {1}"}},de_DE:{intlLocale:"de",currency:{postFormatting:function(e,n,t){return"CNY"===e&&(t=t.replace(/CNY|\uFFE5/,"CN¥")),t}},date:{postFormatting:function(e,n,t){return"md"!==e.split(".")[0]||/\.\s/.test(t)?"mdy.medium"!==e&&"my.medium"!==e&&"my.short"!==e||(t=t.replace(/\./g,"").replace(/\s/g,". ")):t=t.replace(/\s/g,". "),/^(d|m|md)\.medium|^md\.short/.test(e)&&!/\.$/.test(t)&&(t+="."),t.replace(/^0/,"").replace(/\.0/g,".").replace(/Mrz\.|M\u00E4r(z)?\./g,"März").replace(/Mai\./,"Mai").replace(/Jun(i)?\./,"Juni").replace(/Jul(i)?\./,"Juli").replace(",","")},narrowDayNames:["So","Mo","Di","Mi","Do","Fr","Sa"],intlOptions:{time:an,"time.long":an,"time.medium":an,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"2-digit",minute:"numeric"},mdy:on,"mdy.long":on,"mdy.medium":xe,"mdy.short":Ne,my:sn,"my.long":sn,"my.medium":cn,"my.short":cn,md:dn,"md.long":dn,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}},possessive:{fallback:"s",rules:{".*[SsXxZzß]$":"’",".*[A-RT-WYÄÖÜ]$":"S",".*[a-rt-wyäöü]$":"s"}},time:{postFormatting:function(e,n,t){return/^\d:/.test(t)&&(t=`0${t}`),t}},number:{percent:"{0}%"},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} und {1}",2:"{0} und {1}"}},en_US:{intlLocale:"en",currency:{postFormatting:function(e,n,t){const r={AUD:"A$",CAD:"CA$",HKD:"HK$",NZD:"NZ$"}
return void 0!==r[e]?t=t.replace(/^(\(|-)?\$/,r[e]):"INR"===e&&(t=t.replace(/Rs\./,"₹")),n<0&&t.indexOf(")")>=0&&(t=`-${t.replace(/[\(\)]/g,"")}`),t.replace(/\s/,"")},getCurrencyDisplay:function(e){return/^(DKK|NOK|SGD|ZAR|SEK|CHF)$/.test(e)?"code":"symbol"}},date:yn,possessive:{fallback:"’s",rules:{".*[Ss]$":"’",".*[A-RT-Z]$":"’S",".*[a-rt-z]$":"’s"}},number:{percent:"{0}%"},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0}, and {1}",2:"{0} and {1}"}},es_ES:{intlLocale:"es",currency:{postFormatting:function(e,n,t){return t.replace(/\s/g,".").replace(/\.(?=[^\.]*$)/," ")},getCurrencyDisplay:function(e){return"EUR"===e?"symbol":"code"}},date:hn,number:{postFormatting:function(e,n){return n.replace(/\s/g,".")},percent:"{0}%"},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} y {1}",2:"{0} y {1}"}},fr_FR:{intlLocale:"fr",date:vn,chooser:{equals:{0:0,1:0},endsWith:{0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1}},time:{postFormatting:function(e,n,t){return/^\d:/.test(t)&&(t=`0${t}`),t}},number:{percent:"{0} %"},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} et {1}",2:"{0} et {1}"}},hi_IN:{intlLocale:"hi",chooser:{equals:{0:0,1:0},endsWith:{0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1}},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0}, और {1}",2:"{0} और {1}"}},in_ID:{intlLocale:"id",date:{postFormatting:function(e,n,t){return"time"===e.split(".")[0]?t=t.replace(/\./g,":"):"d.medium"===e&&(t=t.replace("Minggu","Min").replace("Rabu","Rab").replace("Kamis","Kam").replace("Jumat","Jum").replace("Sabtu","Sab")),/((m|my|md|mdy)\.medium)|((md|my)\.short)/.test(e)&&(t=t.replace("Agust","Agt")),"time.short"!==e&&"mdy.short"!==e&&(t=t.replace(/^0/,"")),t.replace("Nop","Nov")},intlOptions:{time:_n,"time.long":_n,"time.medium":_n,"time.short":{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":{year:"numeric",month:"2-digit",day:"2-digit"},my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}},currency:{postFormatting:function(e,n,t){return n<0&&t.indexOf(")")>=0&&(t=`-${t.replace(/[()]/g,"")}`),"CNY"===e&&(t=t.replace(/CNY|\uFFE5/,"CN¥")),t.replace(/\s/,"")}},time:{postFormatting:function(e,n,t){return t=t.replace(/:/g,"."),/^\d\./.test(t)&&(t=`0${t}`),t}},number:{percent:"{0}%"},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0}, {1}",2:"{0}, {1}"}},it_IT:{intlLocale:"it",date:Tn,currency:{postFormatting:function(e,n,t){return"CNY"===e&&(t=t.replace(/CNY|\uFFE5/,"CN¥")),t}},time:{postFormatting:function(e,n,t){return/^\d:/.test(t)&&(t=`0${t}`),t}},number:{percent:"{0}%"},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} e {1}",2:"{0} e {1}"}},ja_JP:{intlLocale:"ja",date:{postFormatting:function(e,n,t){return/^m\.(short|medium)/.test(e)&&!/\u6708/.test(t)?t+="月":/^(mdy|time)\.short/.test(e)&&(t=t.replace(/(\u5E74|\u6708)/g,"/").replace(/\u65E5/,"")),t.replace("月月","月")},intlOptions:{time:ge,"time.long":ge,"time.medium":ge,"time.short":{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:En,"d.long":En,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":{year:"numeric"}}},currency:{postFormatting:function(e,n,t){const r=/^(-)?\$/,i={AUD:"AU$",CAD:"CA$",HKD:"HK$",NZD:"NZ$"}
return void 0!==i[e]&&r.test(t)&&(t=t.replace(r,i[e])),"AUD"===e&&t.indexOf("A$")>-1&&(t=t.replace("A$","AU$")),n<0&&!/^-/.test(t)&&(t=`-${t.replace(/(-|(|))/g,"")}`),t.replace(/\s/g,"").replace(/\u00A5/g,"￥")},getCurrencyDisplay:function(e){return/^(INR|DKK|NOK|SGD|ZAR|SEK|CHF)$/.test(e)?"code":"symbol"}},number:{percent:"{0}%"},list:{start:"{0}、{1}",middle:"{0}、{1}",end:"{0}、{1}",2:"{0}、{1}"}},ko_KR:{intlLocale:"ko",date:{postFormatting:function(e,n,t){return/^m\.(short|medium)/.test(e)&&!/\uC6D4/.test(t)?t+="월":/^(mdy|time)\.short/.test(e)&&(t=t.replace(/(\uB144|\uC6D4|\uC77C)/g,".")),t.replace("월월","월")},intlOptions:{time:ge,"time.long":ge,"time.medium":ge,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}},currency:{postFormatting:function(e,n,t){const r={AUD:"AU$",CAD:"CA$",HKD:"HK$",NZD:"NZ$",USD:"US$"}
return void 0!==r[e]?t=t.replace(/^(\(|-)?\$/,r[e]):"INR"===e&&(t=t.replace(/Rs\./,"₹")),"JPY"!==e||/JP\u00A5/.test(t)||(t=t.replace(/\u00A5/g,"JP¥")),n<0&&!/^-/.test(t)&&(t=`-${t.replace(/[-\(\)]/g,"")}`),t.replace(/\s/,"")},getCurrencyDisplay:function(e){return/^(DKK|NOK|SGD|ZAR|SEK|CHF)$/.test(e)?"code":"symbol"}},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} 및 {1}",2:"{0} 및 {1}"},number:{percent:"{0}%"}},ms_MY:{intlLocale:"ms",date:{postFormatting:function(e,n,t){let r,i
return t.indexOf("Ogos")<0&&(t=t.replace(/Ogo/,"Ogos")),"d.medium"===e?t=t.replace(/Ahad/,"Ahd").replace("Isnin","Isn").replace("Rabu","Rab").replace("Khamis","Kha").replace("Jumaat","Jum").replace("Sabtu","Sab"):"my.long"===e?(r=t.match(/^([0-9]+)\s/),null!==r&&(i=r[1],t=`${t.replace(r[0],"")} ${i}`)):/^(m|md|my|mdy)\.(medium|short)/.test(e)?t=t.replace("Sept","Sep"):/^time\.(medium|long|short)$/.test(e)?t=t.replace(",",""):/^time\./.test(e)&&(/\s\.$/.test(t)?t=t.replace(/\.$/,"PTG"):/\s$/.test(t)&&(t+="PG")),t.replace(/^0/,"").replace(/\/0/,"/")},intlOptions:{time:An,"time.long":An,"time.medium":An,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Re}},time:{postFormatting:function(e,n,t){return/\s\.$/.test(t)?t=t.replace(/\.$/,"PTG"):/\s$/.test(t)&&(t+="PG"),t.replace("PTG","PM").replace("PG","AM")},intlOptions:{hm:{hour:"numeric",minute:"numeric",hour12:!0},hms:{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}}},currency:{postFormatting:function(e,n,t){return n<0&&!/^-/.test(t)&&(t=`-${t.replace(/[-\(\)]/g,"")}`),"CNY"===e&&(t=t.replace(/CNY|\uFFE5/,"CN¥")),t.replace(/\s/,"")}},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0}, {1}",2:"{0}, {1}"},number:{percent:"{0}%"}},nl_NL:{intlLocale:"nl",date:Cn,currency:{postFormatting:function(e,n,t){return 0!==t.indexOf(e)&&(t=`${e} ${t.replace(e,"").replace(/\s$/,"")}`),n<0&&(t=t.replace(/[\u002D\u2212]/g,"").replace(" "," -")),"CNY"===e&&(t=t.replace(/CNY|\uFFE5/,"CN¥")),t}},time:{postFormatting:function(e,n,t){return/^\d:/.test(t)&&(t=`0${t}`),t}},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} en {1}",2:"{0} en {1}"},number:{percent:"{0}%"}},no_NO:{intlLocale:"nb",date:{postFormatting:function(e,n,t){return t=t.replace(/^s\u00F8(\.)?$/,"søn").replace(/^ma(\.)?$/,"man").replace(/^ti(\.)?$/,"tir").replace(/^on(\.)?$/,"ons").replace(/^to(\.)?$/,"tor").replace(/^fr(\.)?$/,"fre").replace(/^l\u00F8(\.)?$/,"lør").replace(/:/,"."),/^(d|md|m)\.short|^(d|md)\.medium/.test(e)&&!/\.$/.test(t)?t+=".":"mdy.medium"!==e||/\s/.test(t)?/my\.(medium|short)/.test(e)&&!/\.\s/.test(t)?t=t.replace(/\s/,". "):/^time\./.test(e)&&!/,/.test(t)&&((t=t.split(" ")).length>=2&&(t[t.length-2]+=","),t=t.join(" ")):t=t.replace(/\./g,". "),"y.short"!==e&&(t=t.replace(/^0/,""),/\.0[1-9]\./.test(t)&&(t=t.replace(/\.0/,"."))),t.replace("mai.","mai")},intlOptions:{time:kn,"time.long":kn,"time.medium":kn,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"2-digit",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Se}},possessive:{fallback:"s",rules:{".*[SsXxZz]$":"’",".*[A-RT-WY]$":"S",".*[a-rt-wy]$":"s"}},number:{percent:"{0}%",postFormatting:function(e,n){return e<0&&(n=n.replace("−","-")),n}},time:{postFormatting:function(e,n,t){return t=t.replace(/:/g,"."),/^\d\./.test(t)&&(t=`0${t}`),t}},currency:{postFormatting:function(e,n,t){return n<0&&!/^\u2212/.test(t)&&(t=`−${t.replace(/\u002D|-|\(|\)/g,"")}`),t}},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0}, {1}",2:"{0}, {1}"}},pl_PL:{intlLocale:"pl",date:{postFormatting:function(e,n,t){if("d.medium"===e)t=t.replace(/^P(n|t)$/,"P").replace(/^Wt$/,"W").replace(/^\u015Ar$/,"Ś").replace(/^Cz$/,"C").replace(/^So$/,"S")
else if("mdy.short"===e&&/[0-9]{4}\-[0-9]{2}\-[0-9]{2}/.test(t)){const e=t.split("-")
t=`${e[2]}.${e[1]}.${e[0]}`}else if(/^time\./.test(e)&&!/,/.test(t)){const e=t.split(" ")
e.length>=2&&(e[e.length-2]+=","),t=e.join(" ")}if("time.short"===e&&/[0-9]{2}\-[0-9]{2}\-[0-9]{2},\s[0-9:]+$/.test(t)){const e=t.split(","),n=e[0].split("-")
t=`${n[2]}.${n[1]}.${n[0]},${e[1]}`}return t.replace(/^0/,"")},legacyOverrides:{"d.medium":Me,"y.short":Re},intlOptions:{time:In,"time.long":In,"time.medium":In,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"2-digit",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Se}},chooser:{equals:{0:1,1:0,12:1,13:1,14:1},endsWith:{0:1,1:1,2:2,3:2,4:2,5:1,6:1,7:1,8:1,9:1}},time:{postFormatting:function(e,n,t){return/^\d:/.test(t)&&(t=`0${t}`),t}},number:{percent:"{0}%"},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} i {1}",2:"{0} i {1}"}},pt_BR:{intlLocale:"pt",date:{postFormatting:function(e,n,t){return/^(mdy|m)\.medium|^md\./.test(e)?t.replace(/^0/,"").replace(/\b\.\b/g," de "):t},intlOptions:{time:Rn,"time.long":Rn,"time.medium":Rn,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"2-digit",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Ae,"md.short":Ae,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Se}},time:{postFormatting:function(e,n,t){return/^\d:/.test(t)&&(t=`0${t}`),t}},currency:{postFormatting:function(e,n,t){return n<0&&!/^-/.test(t)&&(t=`-${t.replace(/-/,"")}`),"CNY"===e&&(t=t.replace(/CNY|\uFFE5/,"CN¥")),t.replace(/\s/,"")}},number:{percent:"{0}%"},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} e {1}",2:"{0} e {1}"}},ro_RO:{intlLocale:"ro",date:wn,chooser:{equals:{0:2,1:0,2:2,3:2,4:2,5:2,6:2,7:2,8:2,9:2,10:2,11:2,12:2,13:2,14:2,15:2,16:2,17:2,18:2,19:2},endsWith:{0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1,"01":2,"02":2,"03":2,"04":2,"05":2,"06":2,"07":2,"08":2,"09":2,10:2,11:2,12:2,13:2,14:2,15:2,16:2,17:2,18:2,19:2}},time:{postformatting:function(e,n,t){return/^\d:/.test(t)&&(t=`0${t}`),t}},number:{percent:"{0}%"},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} și {1}",2:"{0} și {1}"}},ru_RU:{intlLocale:"ru",date:On,chooser:{endsWith:{0:1,1:0,2:2,3:2,4:2,5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1}},currency:{postFormatting:function(e,n,t){return"CNY"===e&&(t=t.replace(/CNY|\uFFE5/,"CN¥")),t}},number:{percent:"{0}%"},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} и {1}",2:"{0} и {1}"}},sv_SE:{intlLocale:"sv",possessive:{fallback:"s",rules:{".*[SsXxZz]$":"",".*[A-RT-WYÅÄÖ]$":"S",".*[a-rt-wyåäö]$":"s"}},date:Nn,currency:{postFormatting:function(e,n,t){return n<0&&(t=t.replace("-","−")),(t=t.replace(":",",")).replace(/\./g," ")}},number:{percent:"{0} %",postFormatting:function(e,n){return e<0&&(n=n.replace("−","-")),n}},time:{postFormatting:function(e,n,t){return/^\d:/.test(t)&&(t=`0${t}`),t}},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} och {1}",2:"{0} och {1}"}},th_TH:{intlLocale:"th",date:Dn,currency:{postFormatting:function(e,n,t){const r={AUD:"AU$",CAD:"CA$",HKD:"HK$",NZD:"NZ$",USD:"US$"}
return void 0!==r[e]?t=t.replace(/^(\(|-)?\$/,r[e]):"INR"===e&&(t=t.replace(/Rs\./,"₹")),n<0&&0!==t.indexOf("-")&&(t=`-${t.replace(/[\u002D\(\)]/g,"")}`),t.replace(/\s/,"")},getCurrencyDisplay:function(e){return/^(DKK|NOK|SGD|ZAR|SEK|CHF)$/.test(e)?"code":"symbol"}},time:{postFormatting:function(e,n,t){return/^\d:/.test(t)&&(t=`0${t}`),t.indexOf(" น.")>0&&(t=t.replace(" น.","")),t}},number:{percent:"{0}%"},list:{start:"{0} {1}",middle:"{0} {1}",end:"{0} และ{1}",2:"{0}และ{1}"}},tl_PH:{intlLocale:"fil",date:Un,currency:{postFormatting:function(e,n,t){return n<0&&0!==t.indexOf("-")&&(t=`-${t.replace(/[\u002D\(\)]/g,"")}`),"CNY"===e&&(t=t.replace(/CNY|\uFFE5/,"CN¥")),t.replace(/\s/,"")}},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0}, {1}",2:"{0}, {1}"},number:{percent:"{0}%"}},tr_TR:{intlLocale:"tr",date:{postFormatting:function(e,n,t){return t=t.replace("  "," "),/^(mdy|time)\.long|(time|md)\.medium|md\.short/.test(e)&&(t=t.replace(/^0/,"")),"mdy.medium"!==e&&"md.long"!==e||!/^[1-9][^0-9]/.test(t)?"mdy.long"===e&&"0"===t.charAt(0)?t=t.substring(1):"time.short"===e&&t.indexOf(".")<0&&(t=`${(t=t.split(" "))[0]}.${t[1]}.${t[2]} ${t[3]}`):t=`0${t}`,t},intlOptions:{time:Ln,"time.long":Ln,"time.medium":Ln,"time.short":{year:"2-digit",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"numeric"},mdy:_e,"mdy.long":_e,"mdy.medium":xe,"mdy.short":Ne,my:be,"my.long":be,"my.medium":Ee,"my.short":Ee,md:Te,"md.long":Te,"md.medium":Fn,"md.short":Fn,m:De,"m.long":De,"m.medium":Ce,"m.short":ke,d:Ie,"d.long":Ie,"d.medium":we,"d.short":Oe,"d.narrow":Me,y:Re,"y.long":Re,"y.medium":Re,"y.short":Se}},currency:{postFormatting:function(e,n,t){let r,i,a
return"CNY"===e&&(t=t.replace(/CNY|\uFFE5/,"CN¥")),r=/-?([a-zA-Z\u00A5\s]+?)[0-9]/,i=t.match(r),null!==i&&(a=i[1],t=`${t.replace(a,"")} ${a.trim()}`),t}},time:{postFormatting:function(e,n,t){return/^\d:/.test(t)&&(t=`0${t}`),t}},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} ve {1}",2:"{0} ve {1}"},number:{percent:"% {0}"},suffix:{strategy:"reverseSearchForVowel",hardVowels:"aAıIoOuU",softVowels:"eEiİÖöÜü",separator:"’",bufferChar:"y",defaultBufferChar:"e",hardVowelSuffix:"a",fallbackSuffix:"e",nonVowelToSuffix:{"/[BbCcÇçDdFfGgĞğHhiJjKkLlMmNnPpRrSsŞşTtVvWwYyZz]/":"ye","/[IQq]/":"ya","/[Xx]/":"e"}}},uk_UA:{intlLocale:"uk",chooser:{endsWith:{0:1,1:0,2:2,3:2,4:2,5:1,6:1,7:1,8:1,9:1,11:1,12:1,13:1,14:1}},number:{percent:"{0}%"},list:{start:"{0}, {1}",middle:"{0}, {1}",end:"{0} і {1}",2:"{0} і {1}"}},zh_CN:{intlLocale:"zh",date:$n,currency:{postFormatting:function(e,n,t){const r={AUD:"AU$",CAD:"CA$",HKD:"HK$",NZD:"NZ$",USD:"US$"}
void 0!==r[e]?t=t.replace(/^(\(|-)?\$/,`${r[e]} `):"JPY"!==e||/JP\u00A5/.test(t)?"EUR"!==e||/\u20AC\u00A0/.test(t)?"INR"===e?(t=t.replace(/Rs\./,"₹"),/\u20B9\u00A0/.test(t)||(t=t.replace(/\u20B9/,"₹ "))):"GBP"!==e||/\u00A3\u00A0/.test(t)?/\$\u00A0/.test(t)||(t=t.replace(/\$/,"$ ")):t=t.replace(/\u00A3/,"£ "):t=t.replace(/\u20AC/,"€ "):t=t.replace(/\u00A5/,"JP¥ ")
const i=t.search(/[0-9]/)
return i>0&&(/\s/.test(t.charAt(i-1))||(t=`${t.slice(0,i)} ${t.slice(i)}`)),n<0&&t.indexOf(")")>=0&&(t=`-${t.replace(/[\(\)]/g,"")}`),t},getCurrencyDisplay:function(e){return/^(DKK|NOK|SGD|ZAR|SEK|CHF)$/.test(e)?"code":"symbol"}},time:{postFormatting:function(e,n,t){return t.indexOf("午 ")<0&&(t=t.replace("午","午 ")),t.indexOf("12:")>=0&&(t=t.replace("上午","午夜").replace("下午","中午")),t},intlOptions:{hm:{hour:"numeric",minute:"numeric",hour12:!0},hms:{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}}},list:{start:"{0}、{1}",middle:"{0}、{1}",end:"{0}和{1}",2:"{0}和{1}"},number:{percent:"{0}%"}},zh_TW:{intlLocale:"zh",time:{postFormatting:function(e,n,t){return t.indexOf("午 ")<0&&(t=t.replace("午","午 ")),t.indexOf("12:")>=0&&(t=t.replace("上午","午夜").replace("下午","中午")),t},intlOptions:{hm:{hour:"numeric",minute:"numeric",hour12:!0},hms:{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}}},date:Yn,currency:{postFormatting:function(e,n,t){const r={AUD:"AU$",CAD:"CA$",HKD:"HK$",NZD:"NZ$",USD:"US$"}
void 0!==r[e]?t=t.replace(/^(\(|-)?\$/,`${r[e]} `):"CNY"===e?t=t.replace(/CNY|\uFFE5/,"CN¥"):"JPY"!==e||/JP\u00A5/.test(t)?"EUR"!==e||/\u20AC\u00A0/.test(t)?"INR"===e?(t=t.replace(/Rs\./,"₹"),/\u20B9\u00A0/.test(t)||(t=t.replace(/\u20B9/,"₹ "))):"GBP"!==e||/\u00A3\u00A0/.test(t)?/\$\u00A0/.test(t)||(t=t.replace(/\$/,"$ ")):t=t.replace(/\u00A3/,"£ "):t=t.replace(/\u20AC/,"€ "):t=t.replace(/\u00A5/,"JP¥ ")
const i=t.search(/[0-9]/)
return i>0&&(/\s/.test(t.charAt(i-1))||(t=`${t.slice(0,i)} ${t.slice(i)}`)),n<0&&t.indexOf(")")>=0&&(t=`-${t.replace(/[\(\)]/g,"")}`),t},getCurrencyDisplay:function(e){return/^(DKK|NOK|SGD|ZAR|SEK|CHF)$/.test(e)?"code":"symbol"}},list:{start:"{0}、{1}",middle:"{0}、{1}",end:"{0}和{1}",2:"{0}和{1}"},number:{percent:"{0}%"}}}
function Xn(e){return zn[e]}const Qn={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},Jn={month:"long"},Zn={month:"short"},et={month:"numeric"},nt={weekday:"long"},tt={year:"numeric"},rt={weekday:"short"},it={day:"numeric"},at=Zn,ot={month:"long"},st=nt,ct=rt,dt=it,ut=tt,lt={...Jn,...dt},pt={...at,...dt},ft={...Jn,...dt,...ut},mt={...at,...dt,...ut},yt={...ot,...dt,...ut},ht={...Jn,...ut},gt={...at,...ut},vt={mdy:ft,"mdy.long":ft,"mdy.medium":mt,"mdy.short":yt,my:ht,"my.long":ht,"my.medium":gt,"my.short":gt,md:lt,"md.long":lt,"md.medium":pt,"md.short":pt,m:Jn,"m.long":Jn,"m.medium":at,"m.short":et,d:st,"d.long":st,"d.medium":ct,"d.short":dt,y:ut,"y.long":ut,"y.medium":ut,"y.short":ut}
function _t(e,n){const t=Xn(e)
return n&&t?t[n]:t}function bt(e){return e.legacyIntlLocale||e.intlLocale}function Tt(e){const n=parseInt(e,10)
return isNaN(n)?null:n}class Et{constructor(){this._formatters=new Map}getWithDefault(e,n){return function(e,n,t){if(e.has(n))return e.get(n)
const r=t()
return e.set(n,r),r}(this._formatters,e,n)}}const At=/\u200e/g
function St(e){const n=new Date(e.getTime())
return n.setMinutes(e.getMinutes()-e.getTimezoneOffset()),n}function Ct(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e
const r=e instanceof Date
if(!r){const n=typeof e
"number"===n?t=new Date(e):"string"===n&&(t=new Date(Date.parse(e)))}return n&&(t=St(t)),t}function kt(e,n){const t=e[n]
return t?Object.assign(Object.create(null),t):void 0}const It={intlOptions:{...vt,time:Qn,"time.long":Qn,"time.medium":Qn,"time.short":{year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"}}},Rt={fmt_d:nt,fmt_d_short:it,fmt_d_medium:rt,fmt_d_long:nt,fmt_m:ot,fmt_m_short:et,fmt_m_medium:Zn,fmt_m_long:ot,fmt_y:tt,fmt_y_short:{year:"2-digit"},fmt_md_medium:{month:"short",day:"numeric"},fmt_md_long:{month:"long",day:"numeric"},fmt_my_medium:{year:"numeric",month:"short"},fmt_my_long:{year:"numeric",month:"long"},fmt_mdy_short:{year:"numeric",month:"numeric",day:"numeric"},fmt_mdy_medium:{year:"numeric",month:"short",day:"numeric"},fmt_mdy_long:{year:"numeric",month:"long",day:"numeric"},fmt_mdy_hm_short:{year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},fmt_mdy_hm_long:Qn},xt={hm:{hour:"numeric",minute:"numeric"},hms:{hour:"numeric",minute:"numeric",second:"numeric"}}
function wt(e){return kt(xt,e)}function Ot(e){return e<10?`0${e}`:e}function Mt(e){return`${e.getUTCFullYear()}-${Ot(e.getUTCMonth()+1)}-${Ot(e.getUTCDate())}`}class Nt extends Et{format(e,n,t,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4]
const{intlLocale:a}=Xn(n),o=Xn(n).date||It,{calendar:s}=o
let c=bt(Xn(n))
if(i){if("fmt_mdy_iso"===t)return Mt(Ct(e,r))
const n=kt(Rt,t)
if(!n)throw new Error("[XMessage] Unsupported date format")
return r||(n.timeZone="UTC"),this.getWithDefault(`${a}-${t}-${!!n.timeZone}`,(()=>(s&&(n.calendar=s),new Intl.DateTimeFormat(a,n)))).format(Ct(e))}const d=Ct(e,r)
if("iso"===t)return Mt(d)
if("d.narrow"===t&&o.narrowDayNames)return o.narrowDayNames[d.getDay()]
if("iso"===t)return Mt(d)
const u=o.legacyOverrides&&kt(o.legacyOverrides,t)||kt(o.intlOptions,t)
u.timeZone="UTC","zh"!==c&&(c+="-u-nu-latn-ca-gregory")
let l=this.getWithDefault(`${c}-${t}`,(()=>new Intl.DateTimeFormat(c,u))).format(d)
return l=l.replace(At,""),o&&o.postFormatting&&(l=o.postFormatting(t,e,l)),l}}let Pt
const Dt={fmt_d:"d",fmt_d_short:"d.short",fmt_d_narrow:"d.narrow",fmt_d_medium:"d.medium",fmt_d_long:"d.long",fmt_m:"m",fmt_m_short:"m.short",fmt_m_medium:"m.medium",fmt_m_long:"m.long",fmt_y:"y",fmt_y_short:"y.short",fmt_md_medium:"md.medium",fmt_md_long:"md.long",fmt_my_medium:"my.medium",fmt_my_long:"my.long",fmt_mdy_short:"mdy.short",fmt_mdy_medium:"mdy.medium",fmt_mdy_long:"mdy.long",fmt_mdy_hm_short:"time.short",fmt_mdy_hm_long:"time.long",fmt_mdy_iso:"iso",iso:"iso"},Ut={short:"fmt_mdy_short",medium:"fmt_mdy_medium",long:"fmt_mdy_long",full:"fmt_mdy_long"},Lt="fmt_mdy_medium"
function Ft(e,n,t,r,i){Dt[n]||(Ut[n]?(console.log(`The date pattern "${n}" is deprecated, falling back to "${Ut[n]}".`),n=Ut[n]):(console.log(`Unknown date pattern "${n}", falling back to "${Lt}". Note: custom date patterns are not supported.`),n=Lt))
const a=Dt[n]
if(Pt||(Pt=new Nt),i)return Pt.format(e,t,n,r,!0)
try{return Pt.format(e,t,a,r)}catch(n){if("function"==typeof e.toLocaleDateString)return e.toLocaleDateString()
const i=Tt(e)
return"number"==typeof i?Pt.format(new Date(i),t,a,r):e}}const jt="familiar",Bt=["familiar","family","full","given","list","maiden"]
let qt
const Vt=(e,n)=>`${e} ${n}`,$t=(e,n)=>`${n} ${e}`,Kt=(e,n)=>`${n}${e}`,Ht=(e,n,t)=>(t?` (${t})`:"")+" ",Gt=e=>e?` ${e}`:"",Wt=e=>n=>n?`<span class="${e}">${n}</span>`:"",Yt=Wt("given-name"),zt=Wt("family-name"),Xt=Wt("additional-name"),Qt=(e,n,t)=>`${e}${Gt(t)}${Gt(n)}`,Jt=e=>(n,t,r)=>`${n}${Gt(t)}${r?` ${e} ${r}`:""}`,Zt=/(^\s+|\s+$)/g
function er(e,n){if(!e)return""
let t=e.replace(Zt,"")
var r
return n&&(t=null==(r=t)?null:r.toString().replace(/(.)/g,(e=>"<"===e?"&lt;":">"===e?"&gt;":"&"===e?"&amp;":'"'===e?"&quot;":"'"===e?"&#39;":"\\"===e?"&#92;":"="===e?"&#61;":"\0"===e?"�;":e))),t}const nr=[19968,40895,12448,12543,65377,65439,12352,12447],tr=new class{constructor(){this.templates=[]}preprocess(e,n,t){return[Yt(e),zt(n),Xt(t)]}add(e,n,t){const r=this.templates.indexOf(e);-1===r?this.templates.push(e,[n,t]):this.templates[r+1].push(n,t)}run(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",t=arguments.length>2?arguments[2]:void 0
const r=this.templates.indexOf(e)
if(r>-1){const e=this.templates[r+1]
let i=e.indexOf(n)
return-1===i&&(i=e.indexOf("default")),(0,e[i+1])(t[0],t[1],t[2])}throw new Error(`Could not find template function for ${e} with ${n} locale.`)}}
tr.add(0,"default",(e=>e)),tr.add(0,"de_DE",Vt),tr.add(0,"pl_PL",Vt),tr.add(0,"hi_IN",Vt),tr.add(0,"ro_RO",Vt),tr.add(0,"tr_TR",Vt),tr.add(0,"CJK",Kt),tr.add(0,"CJK-ja_JP",$t),tr.add(1,"default",((e,n,t)=>`${e}${Ht(0,0,t)}${n}`)),tr.add(1,"ar_AE",Qt),tr.add(1,"hi_IN",Qt),tr.add(1,"th_TH",Qt),tr.add(1,"cs_CZ",((e,n,t)=>`${e}${Gt(n)}${t?` (roz. ${t})`:""}`)),tr.add(1,"de_DE",Jt("geb.")),tr.add(1,"CJK-ja_JP",((e,n,t)=>`${n}${Gt(e)}${Ht(0,0,t)}`)),tr.add(1,"CJK",((e,n,t)=>`${Kt(e,n)}${Ht(0,0,t)}`)),tr.add(1,"ms_MY",((e,n,t)=>`${e}${Gt(n)}${Ht(0,0,t)}`)),tr.add(1,"nl_NL",((e,n,t)=>`${e} ${n}${t?`-${t}`:""}`)),tr.add(1,"pl_PL",Jt("z d.")),tr.add(2,"default",((e,n,t)=>`${n?`${n}, `:""}${e}`)),tr.add(2,"CJK",Kt),tr.add(2,"CJK-ja_JP",$t),tr.add(2,"ar_AE",Vt),tr.add(2,"hi_IN",Vt),tr.add(2,"in_ID",Vt),tr.add(2,"ms_MY",Vt),tr.add(2,"th_TH",Vt)
class rr{format(e,n,t){const r=function(e){const n="MICROFORMAT"
if(e){if(Array.isArray(e))return e.indexOf(n)>-1
if("string"==typeof e)return e===n}return!1}(n),i=r||e.lastNameWithHighlight
let a=er(e.firstName,i),o=e.lastNameWithHighlight?er(e.lastNameWithHighlight,!1):er(e.lastName,i),s=er(e.maidenName,i)
const c=function(e,n){return function(e){if(!e)return!1
const n=e.charCodeAt(0)
return n>=44032&&n<=55215}(e.lastName)?"CJK":function(e){if(!e)return!1
const n=e.charCodeAt(0)
for(let e=0;e<nr.length;e+=2){const t=nr[e+1]
if(n>=nr[e]&&n<=t)return!0}return!1}(e.lastName)?"ja_JP"===n?"CJK-ja_JP":"CJK":n}(e,t)
if(r){const e=tr.preprocess(a,o,s);[a,o,s]=e}const d=tr.run(function(e){if(!e)return 0
const n="string"==typeof e?[e]:e
return Array.isArray(n)?n.indexOf("FULL_NAME")>-1?1:n.indexOf("LIST_VIEW")>-1?2:0:0}(n),c,[a,o,s])
return d.replace(Zt,"")}}function ir(e,n,t){let r
if(void 0!==e){const i={firstName:e.givenName||e.firstName,lastName:e.familyName||e.lastName,maidenName:e.maidenName}
let a=n||jt
switch(-1===Bt.indexOf(a)&&(console.log(`Unrecognized name format "${a}", falling back to "${jt}".`),a=jt),a){case"given":r=i.firstName||""
break
case"family":r=i.lastName||""
break
case"maiden":r=i.maidenName||""
break
default:{const e="full"===a||"given"===a||"family"===a||"maiden"===a?"FULL_NAME":"familiar"===a?"FAMILIAR_NAME":"list"===a?"LIST_VIEW":"FULL_NAME"
qt||(qt=new rr),r=qt.format(i,e,t)
break}}}return r}class ar{format(e,n){const t=Xn(n).possessive
let r
if(t){r=t.fallback
const n=Object.keys(t.rules)
for(let i=0;i<n.length;i++){const a=n[i]
if(new RegExp(a).test(e)){r=t.rules[a]
break}}return r}return""}}class or extends Et{formatNumber(e,n,t){const r=Xn(n),i=t?Object.keys(t):[]
if(i.length>0&&!["integer","percent"].includes(i[0]))throw new Error("[XMessage] Unsupported number argument")
const a=i.length>1&&"compact"===i[1]?"compact":void 0,o=i.length>0&&"percent"===i[0]?i[0]:"decimal",s=i.length>0&&"integer"===i[0]?0:void 0
return this.getWithDefault(`${n}-${o}-${a}-${s}`,(()=>{const e={style:o,maximumFractionDigits:s,notation:a}
return new Intl.NumberFormat(r.intlLocale,e)})).format(e)}formatCurrency(e,n,t){const r=t?Object.keys(t.parameters):[],i=r.length>1?r[1]:"symbol",a=Xn(n),o=r.length>2?r[2]:void 0
return this.getWithDefault(`${n}-${e.currencyCode}-${i}-${o}`,(()=>{const n={style:"currency",currency:e.currencyCode,currencyDisplay:i,notation:o}
return new Intl.NumberFormat(a.intlLocale,n)})).format(e.amount)}}class sr extends Et{format(e,n,t){const r=Xn(t),i={style:"currency",currency:n,currencyDisplay:"code",minimumFractionDigits:"JPY"===n?0:2,maximumFractionDigits:"JPY"===n?0:2}
r.currency&&"function"==typeof r.currency.getCurrencyDisplay&&(i.currencyDisplay=r.currency.getCurrencyDisplay(n))
const a=`${bt(r)}-u-nu-latn-ca-gregory`
let o=""
try{o=this.getWithDefault(`${a}-${n}`,(()=>new Intl.NumberFormat(a,i))).format(e)}catch(t){"code"===i.currencyDisplay&&(o=`${e} ${n}`)}return o=o.replace(/\u0020/g," "),r.currency&&r.currency.postFormatting&&(o=r.currency.postFormatting(n,e,o)),o}}class cr extends Et{format(e,n){const t=Xn(n),r={maximumFractionDigits:t.number&&t.number.maximumFractionDigits?t.number.maximumFractionDigits:3},i=`${bt(t)}-u-nu-latn-ca-gregory`
let a=this.getWithDefault(i,(()=>new Intl.NumberFormat(i,r))).format(e)
return t.number&&t.number.postFormatting&&(a=t.number.postFormatting(e,a)),a}}let dr,ur,lr,pr
function fr(e,n,t){return lr||(lr=new or),lr.formatNumber(e,n,t&&t.parameters)}function mr(e,n,t){return t?fr(e,n):(dr||(dr=new cr),dr.format(e,n))}function yr(e,n,t){return t?fr(e,n,{parameters:{integer:{key:"integer",value:null,delimiter:""}}}):(dr||(dr=new cr),dr.format(Math.floor(e),n))}function hr(e,n,t,r){return r?function(e,n,t){return lr||(lr=new or),lr.formatCurrency(e,n,void 0)}({amount:e,currencyCode:n},t):(ur||(ur=new sr),ur.format(e,n,t))}function gr(e,n){const t=Xn(n).number
return t&&t.percent?function(e,n,t){return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]
return e.replace(/{(\d+)}/g,((e,t)=>void 0!==n[t]?n[t]:e))}(e,[mr(parseInt((100*n).toFixed(1),10),t)])}(t.percent,e,n):e}class vr extends Et{format(e,n){const{intlLocale:t}=Xn(n),r={}
return this.getWithDefault(t,(()=>new Intl.PluralRules(t,r))).select(e)}}class _r extends Et{format(e,n,t,r,i){const a=Xn(n),{intlLocale:o}=a
let s=bt(Xn(n))
if(i){const n=wt(t)
return r||(n.timeZone="UTC"),this.getWithDefault(`${o}-${t}-${!!n.timeZone}`,(()=>new Intl.DateTimeFormat(o,n))).format(e)}let c=a.time&&a.time.intlOptions?kt(a.time.intlOptions,t):wt(t)
c||(c=wt("hms")),c.timeZone="UTC","zh"!==s&&(s+="-u-nu-latn-ca-gregory")
let d=this.getWithDefault(`${s}-${t}`,(()=>new Intl.DateTimeFormat(s,c))).format(Ct(e,r)).replace(At,"")
return a.time&&a.time.postFormatting&&(d=a.time.postFormatting(t,e,d)),d}}const br={fmt_hm:"hm",fmt_hms:"hms"},Tr={short:"fmt_hm",medium:"fmt_hms",long:"fmt_hms",full:"fmt_hms"},Er="fmt_hms"
function Ar(e,n,t,r,i){br[n]||(Tr[n]?(console.log(`The time pattern "${n}" is deprecated, falling back to "${Tr[n]}".`),n=Tr[n]):(console.log(`Unknown time pattern "${n}", falling back to "${Er}". Note: custom time patterns are not supported.`),n=Er))
const a=br[n]
if(pr||(pr=new _r),i)return pr.format(e,t,a,r,!0)
try{return pr.format(e,t,a,r)}catch(n){const i=Tt(e)
return"number"==typeof i?pr.format(new Date(i),t,a,r):e}}const Sr={eq:(e,n)=>e===n,gt:(e,n)=>e>n,gte:(e,n)=>e>=n,endsWith:(e,n)=>d(`${e}`,`${n}`)},Cr=[0,1,2,3,4,5],kr=["SINGULAR","PLURAL","DUAL","FEW","MANY","ZERO"],Ir={equals:{1:0},endsWith:{0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1}}
class Rr{format(e,n,t){const r=Xn(t),i=r.chooser?r.chooser:Ir,a=(e=>"number"!=typeof e||isNaN(e)?function(e){try{if(void 0!==e){if(!isNaN(e))return parseInt(`${e}`,10)
const n=e.replace(/[^0-9]/g,""),t=parseInt(n,10)
return isNaN(t)?0:t}}catch(e){}return 0}(e):e)(e)
let o,s
return n.some((e=>!!e.category))?o=function(e,n,t){const r=Math.floor(e),i=function(e,n){let t
return n.forEach((n=>{void 0!==n.arg&&null!==n.arg&&"gte"===n.comparison?(0,Sr.eq)(e,n.arg)&&(!t||n.arg>t.arg)&&(t=n):n.comparison&&(0,Sr[n.comparison])(e,n.arg)&&(!t||n.arg>t.arg)&&(t=n)})),t}(r,n)
if(i)return i
const a=function(e,n){if(e&&null!=n){const t=`${n}`
if(e.equals&&void 0!==e.equals[t])return e.equals[t]
if(e.endsWith)for(let n=Math.min(2,t.length);n>0;n--){const r=t.slice(-1*n)
if(void 0!==e.endsWith[r])return e.endsWith[r]}}}(t,r)
if(void 0!==a){let e
const t=Cr.indexOf(a)
let r;-1!==t&&(e=kr[t].toLowerCase())
for(let t=0;t<n.length;t++){const i=n[t]
if(i.category===e)return i
"plural"===i.category&&(r=i)}if(r)return r}}(a,n,i):n.forEach((n=>{n.comparison&&(0,Sr[n.comparison])(e,n.arg)&&(!o||void 0!==n.arg&&n.arg>o.arg)&&(o=n)})),o&&(s=o.text,"function"==typeof s)?s():s}}function xr(){return{isRtl:wr()}}function wr(){const e=" \n\r\t\f \u2028\u2029".split(""),n="~!@#$%^&*()_+`1234567890-={}|[]\\:\";'<>?,./".split(""),t=e.concat(n),r=function(){const e=["nbsp"," ","lt","<","gt",">","amp","&","quot",'"'],n=/&(?:(lt|gt|amp|quot|nbsp)|#x([\da-f]{1,4})|#(\d{1,5}));/gi
return t=>null==t?null:`${t}`.replace(n,((n,t,r,i)=>t?e[e.indexOf(t)+1]:r||i?String.fromCharCode(parseInt(r||i,r?16:10)||65533):"�"))}(),i=function(e,n,t){return n=>{if(null==n)return-1
let t=0,r="\0"
const i=n.length
for(t=0;t<i&&(r=n.charAt(t),!(e.indexOf(r)<0));t++);return t>=i?-1:r>="֐"&&r<="ۿ"?t:-1}}(t)
return e=>-1!==i(r(e))}class Or{constructor(e){this.ellipsis="...",void 0!==e&&(this.ellipsis=e)}format(e,n){if(!e||"string"!=typeof e)return void 0===e||""===e?"":null
if(void 0===n)return"..."
if(!n||"number"!=typeof n||n>=e.length||n<0)return e
for(var t=e.substr(0,n),r=t.split(""),i=n-1,a=/\s|\?|\!|\.|\,|\;|\:/g;i>=0&&!a.test(r[i]);)i--
return(i>0?t.substr(0,i):t)+this.ellipsis}}const Mr=/-?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?/,Nr=/^(zero|singular|dual|few|many|plural|other)$/
let Pr,Dr,Ur
class Lr{constructor(){this._formatters=new Map}getWithDefault(e,n){return function(e,n,t){if(e.has(n))return e.get(n)
const r=t()
return e.set(n,r),r}(this._formatters,e,n)}}class Fr extends Lr{formatNumber(e,n,t){const r=Xn(n),i=t?Object.keys(t):[]
if(i.length>0&&!["integer","percent"].includes(i[0]))throw new Error("[XMessage] Unsupported number argument")
const a=i.length>1&&"compact"===i[1]?"compact":void 0,o=i.length>0&&"percent"===i[0]?i[0]:"decimal",s=i.length>0&&"integer"===i[0]?0:void 0
return this.getWithDefault(`${n}-${o}-${a}-${s}`,(()=>{const e={style:o,maximumFractionDigits:s,notation:a}
return new Intl.NumberFormat(r.intlLocale,e)})).format(e)}formatCurrency(e,n,t){const r=t?Object.keys(t.parameters):[],i=r.length>1?r[1]:"symbol",a=Xn(n),o=r.length>2?r[2]:void 0
return this.getWithDefault(`${n}-${e.currencyCode}-${i}-${o}`,(()=>{const n={style:"currency",currency:e.currencyCode,currencyDisplay:i,notation:o}
return new Intl.NumberFormat(a.intlLocale,n)})).format(e.amount)}}function jr(e,n,t){return Dr||(Dr=new Fr),Dr.formatNumber(e,n,t&&t.parameters)}const Br={eq:(e,n)=>e===n,gt:(e,n)=>e>n,gte:(e,n)=>e>=n,endsWith:(e,n)=>d(`${e}`,`${n}`)}
function qr(e,n,t){return e?"string"==typeof e?e:pe(e,n,t):""}function Vr(e,n,t){return e?e.map((e=>qr(e,n,t))).join(""):""}const $r="DEFAULT_TEXT"
function Kr(e,n,t,r){return"string"==typeof e?function(e,n){return"string"==typeof e?e:n[e.index.number]}(e,n):pe(e,n,t,r)}function Hr(e,n,t){let r=""
return r=void 0===n?`{${-1!==e.index.number?e.index.number:""}${""!==e.index.keyword?`:${e.index.keyword}`:""}}`:String(n),Z()(r)}function Gr(e,n){const t=n instanceof a
let r=t?o(n):n
if(e){const n=e.prefix,t=e.suffix
n&&(r=n.value+r),t&&(r+=t.value)}return r=t?s(r):r,r}const Wr=new ar,Yr=new ar,zr="list",Xr="start"
function Qr(e,n,t,r){if("name"===e){const e=se(Bt,n)
t=ir(t,null!==e?e.key:jt,r)}return Gr(n,t=Z()(t))}const Jr={anchor:function(e,n,t,r,i){const a=re(),c=Z(),d=n,u=null!==d&&"object"==typeof d,l=me(a(u?d.href:d)),p=me(u?c(d.id):null),f=me(u?c(d.class):null),m=o(le(e,"text",t,r,i)),y=me(le(e,"title",t,r,i)),h={}
u?Object.keys(d).forEach((e=>{"href"!==e&&"title"!==e&&(h[me(c(e))]=me(c(d[e])))})):(f&&(h.class=f),p&&(h.id=p))
let g="<a"
return l&&(g+=` href="${l}"`),Object.keys(h).forEach((e=>{g+=` ${e}="${h[e]}"`})),y&&(g+=` title="${y}"`),g+=`>${m}</a>`,s(g)},boolean:function(e,n,t,r,i){const a=n
let o=""
if(!0===a||a===ye)c(e,ye)&&(o=le(e,ye,t,r,i))
else{if(!1!==a&&a!==he)throw new Error(`Invalid argument for BooleanPlaceholder. Expected boolean or "true" or "false" but found "${a}"`)
c(e,he)&&(o=le(e,he,t,r,i))}return o},choice:function(e,n,t,r,i){const a=n
let o
const s=[],c=e.parameters
let d,u=0
const l=Object.keys(c)
for(let e=0;e<l.length;e++)d=c[l[e]],"number"==typeof d.order&&(s[d.order]=d)
const p=typeof a
let f
"number"!==p||isNaN(a)?"string"===p?Mr.test(a)?u=parseFloat(a):(ae(`Invalid value for 'choice' placeholder. "${a}" is not a number. Defaulting to 0.`),u=0):"object"===p&&(u=Array.isArray(a)?a.length:Object.keys(a).length):u=a
const m=s.map(((e,n)=>{const t={text:n.toString(),comparison:"eq"}
if(Nr.test(e.key))t.text=n.toString(),t.comparison="eq",t.category=e.key
else{switch(t.text=n.toString(),e.delimiter){case"<":t.comparison="gt"
break
case"+":case"#":t.comparison="gte"
break
default:t.comparison="eq"}t.arg=parseFloat(e.key),f||(f=t)}return t}))
Pr||(Pr=new Rr)
const y=Pr.format(u,m,r)
return void 0!==y?(o=s[parseInt(y,10)],le(e,o.key,t,r,i)):f?le(e,f.arg,t,r,i):""},plural:function(e,n,t,r){Ur||(Ur=new vr)
const i=e.parameters[n],a=i&&"#"===i.delimiter?i:e.parameters[Ur.format(n,r)],o=e.parameters,s=[],c=Object.keys(o)
for(let e=0;e<c.length;e++){const n=o[c[e]]
"number"==typeof n.order&&(s[n.order]=n)}const d=s.map(((e,n)=>{const t={text:n.toString(),comparison:"eq",arg:parseFloat(e.key)}
switch(e.delimiter){case"<":t.comparison="gt"
break
case"+":case"#":t.comparison="gte"
break
default:t.comparison="eq"}if(isNaN(t.arg)&&!e.key.match(/zero|one|two|few|many|other/))throw new Error(`Invalid plural key: ${e.key}`)
return t}))
if(a&&a.value){const{number:n}=e.index
return n>-1?qr(a.value[n],t,r):Vr(a.value,t,r)}let u
if(d.forEach((e=>{e.comparison&&(0,Br[e.comparison])(n,e.arg)&&(!u||void 0!==e.arg&&e.arg>u.arg)&&(u=e)})),!u)return Vr(s[d[0].arg&&n<=d[0].arg?0:d.length-1].value,t,r)
const l=s[parseInt(u.text,10)]
if(!l)throw new Error(`No plural style found from ${u.text}`)
return l.value&&"string"!=typeof l.value&&"string"!=typeof l.value[0]?jr(n,r,{parameters:{integer:l}}):Vr(l.value,t,r)},select:function(e,n,t,r,i){const a=e.parameters[n]
if(function(e){const n=Object.keys(e.parameters)
for(let t=0;t<n.length;t++){const r=n[t]
if(n.indexOf(r,t+1)>0)throw new Error(`[XMessage] duplicate ${r} keys in select placeholder`)
if(!e.parameters[r].value)throw new Error(`[XMessage] select key ${r} without a value`)}}(e),a&&a.value){let e=""
for(let n=0;n<a.value.length;n++)e+=Kr(a.value[n],t,r,i)
return e}if(e.parameters.default&&e.parameters.default.value)return Kr(e.parameters.default.value[0],t,r,i)
throw new Error("[XMessage] No value resolved for select placeholder")},date:function(e,n,t,r,i){const a=ue(e,0)
let o=Lt
return a&&(o=a.key),"fmt_d_narrow"===o&&(ae(`The pattern "${o}" is not to be used in XMessage strings. Falling back to "${Lt}".`),o=Lt),Ft(n,o,r,!1,i)},list:function(e,n,t,r){const i=e.subtype||"text"
let a,o,s=""
const c=_t(r,zr)||_t("default",zr)
let d,u,l
if(n&&n instanceof Array&&(a=n.length,o=a-1,a>0))switch(a){case 1:s=Qr(i,e.parameters,n[0],r)
break
case 2:s=oe(c[2],[Qr(i,e.parameters,n[0],r).toString(),Qr(i,e.parameters,n[1],r).toString()])
break
default:u=0,l=1
do{d=0===u?Xr:l<o?"middle":"end",s=oe(c[d],d===Xr?[Qr(i,e.parameters,n[u],r).toString(),Qr(i,e.parameters,n[l],r).toString()]:[s,Qr(i,e.parameters,n[l],r).toString()]),u++,l++}while("end"!==d)}return s},map:function(e,n,t,r,i){let a,o=n,s=""
return void 0!==o?(o=o.toString(),a=de(e,o),s=le(e,a?o:$r,t,r,i)):s=le(e,$r,t,r,i),s},name:function(e,n,t,r){let i,a,o=se(Bt,e.parameters)
return o=o&&o.key,i=ir(n,o,r),e.parameters.possessive&&(i+=Yr.format(i,r)),a=Z()(i),i=Gr(e.parameters,a),i},number:function(e,n,t,r,i){const a=e.parameters
let o
return void 0!==n&&(o=a?i||a.currency&&"number"==typeof n.amount||e.parameters&&e.parameters.compact?a.currency?function(e,n,t){return Dr||(Dr=new Fr),Dr.formatCurrency(e,n,t)}(n,r,e):jr(n,r,e):a.integer?yr(n,r):a.currency?hr(n,"",r):a.percent?gr(n,r):mr(n,r):mr(n,r)),Z()(o)},possessive:function(e,n,t,r){let i=""
const a=new ar
return void 0!==n&&(i=a.format(n,r)),i},simple:Hr,suffix:function(e,n,t,r){let i,a,o,s,c,d,u,l,p,f,m="",y=!1
const h=e.parameters
if(void 0!==n&&(h&&(y=!!h.sep),i=_t(r,"suffix"),i))switch(p=(i.hardVowels||"")+(i.softVowels||""),i.strategy){case"reverseSearchForVowel":if(n.length>0){for(l=n.length-1,u=l;u>=0&&" "!==d&&"\t"!==d;u--)if(d=n.charAt(u),-1!==p.indexOf(d))return f=u===l,c=i.hardVowels&&i.hardVowels.indexOf(d)>-1?i.hardVowelSuffix:i.fallbackSuffix,m=String(f?i.bufferChar:"")+c,y?i.separator+m:m
for(a in i.nonVowelToSuffix)if(i.nonVowelToSuffix.hasOwnProperty(a)&&(o=i.nonVowelToSuffix[a],s=new RegExp(a),s.test(n.charAt(l)))){c=o
break}c||(c=i.defaultBufferChar),m=y?i.separator+c:c
break}}return m},text:function(e,n,t,r){let i=Hr(e,n)
return void 0!==i&&e.parameters.possessive&&(i+=Wr.format(i,r)),i=Gr(e.parameters,i),i},time:function(e,n,t,r,i){const a=ue(e,0)
let o=Er
return a&&(o=a.key),Ar(n,o,r,!1,i)}}
function Zr(e,n,t,r){let i=""
if(e&&n&&t){const a=Jr[e.type]
if("function"==typeof a){const o=function(e,n){if(e&&e.index&&n){const{number:t,keyword:r}=e.index
if("function"==typeof n)return n(t,r)
const i=n[t>-1?t:0]
if(null!=i)return"string"==typeof r&&""!==r?i[r]:i
if("string"==typeof r&&""!==r)return n[r]}}(e,n)
if(null==o)return s(function(e){const{index:n}=e,{number:t,keyword:r}=n
return`{${-1!==t?t.toString():""}${""!==r?`:${r}`:""}}`}(e))
i=a(e,o,n,t,r)}}return i}function ei(e,n,t){return ci(ni(e),n,t)}function ni(e){const n=X(e)
return n.forEach(N),n}ce=Zr
let ti=function(e){return i().sanitizeHTML(e)}
function ri(e){ti=e}function ii(){return ti}function ai(){return Z()}function oi(e){ee(e)}function si(e,n,t){return 1===e.length&&"string"==typeof e[0]?ti(e[0]):ti(di(e,n,t))}function ci(e,n,t){if(e&&1===e.length&&"string"==typeof e[0]){const n=e[0]
return function(){return ti(n)}}return function(r){return ti(di(e,n,r,t))}}function di(e,n,t,r){let i=""
for(let a=0;a<e.length;++a){const o=e[a]
i+="string"==typeof o?o:Zr(o,t,n,r)}return i}},7440:(e,n,t)=>{"use strict"
function r(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator]
if(!t)return e
var r,i,a=t.call(e),o=[]
try{for(;(void 0===n||n-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o}var i
t.r(n),t.d(n,{InterpreterStatus:()=>i,assign:()=>s,createMachine:()=>f,interpret:()=>y}),function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"}(i||(i={}))
var a={type:"xstate.init"}
function o(e){return void 0===e?[]:[].concat(e)}function s(e){return{type:"xstate.assign",assignment:e}}function c(e,n){return"string"==typeof(e="string"==typeof e&&n&&n[e]?n[e]:e)?{type:e}:"function"==typeof e?{type:e.name,exec:e}:e}function d(e){return function(n){return e===n}}function u(e){return"string"==typeof e?{type:e}:e}function l(e,n){return{value:e,context:n,actions:[],changed:!1,matches:d(e)}}function p(e,n,t){var r=n,i=!1
return[e.filter((function(e){if("xstate.assign"===e.type){i=!0
var n=Object.assign({},r)
return"function"==typeof e.assignment?n=e.assignment(r,t):Object.keys(e.assignment).forEach((function(i){n[i]="function"==typeof e.assignment[i]?e.assignment[i](r,t):e.assignment[i]})),r=n,!1}return!0})),r,i]}function f(e,n){void 0===n&&(n={})
var t=r(p(o(e.states[e.initial].entry).map((function(e){return c(e,n.actions)})),e.context,a),2),i=t[0],s=t[1],f={config:e,_options:n,initialState:{value:e.initial,actions:i,context:s,matches:d(e.initial)},transition:function(n,t){var i,a,s="string"==typeof n?{value:n,context:e.context}:n,m=s.value,y=s.context,h=u(t),g=e.states[m]
if(g.on){var v=o(g.on[h.type])
try{for(var _=function(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0
if(t)return t.call(e)
if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}
throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(v),b=_.next();!b.done;b=_.next()){var T=b.value
if(void 0===T)return l(m,y)
var E="string"==typeof T?{target:T}:T,A=E.target,S=E.actions,C=void 0===S?[]:S,k=E.cond,I=void 0===A
if((void 0===k?function(){return!0}:k)(y,h)){var R=e.states[null!=A?A:m],x=r(p((I?o(C):[].concat(g.exit,C,R.entry).filter((function(e){return e}))).map((function(e){return c(e,f._options.actions)})),y,h),3),w=x[0],O=x[1],M=x[2],N=null!=A?A:m
return{value:N,context:O,actions:w,changed:A!==m||w.length>0||M,matches:d(N)}}}}catch(e){i={error:e}}finally{try{b&&!b.done&&(a=_.return)&&a.call(_)}finally{if(i)throw i.error}}}return l(m,y)}}
return f}var m=function(e,n){return e.actions.forEach((function(t){var r=t.exec
return r&&r(e.context,n)}))}
function y(e){var n=e.initialState,t=i.NotStarted,r=new Set,o={_machine:e,send:function(a){t===i.Running&&(n=e.transition(n,a),m(n,u(a)),r.forEach((function(e){return e(n)})))},subscribe:function(e){return r.add(e),e(n),{unsubscribe:function(){return r.delete(e)}}},start:function(r){if(r){var s="object"==typeof r?r:{context:e.config.context,value:r}
n={value:s.value,actions:[],context:s.context,matches:d(s.value)}}return t=i.Running,m(n,a),o},stop:function(){return t=i.Stopped,r.clear(),o},get state(){return n},get status(){return t}}
return o}},6131:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.OPEN_BROADCAST_CHANNELS=n.BroadcastChannel=void 0,n.clearNodeFolder=function(e){e=(0,a.fillOptionsWithDefaults)(e)
var n=(0,i.chooseMethod)(e)
return"node"===n.type?n.clearNodeFolder().then((function(){return!0})):r.PROMISE_RESOLVED_FALSE},n.enforceOptions=function(e){s=e}
var r=t(9774),i=t(9678),a=t(7229),o=new Set
n.OPEN_BROADCAST_CHANNELS=o
var s,c=0,d=function(e,n){var t,d
this.id=c++,o.add(this),this.name=e,s&&(n=s),this.options=(0,a.fillOptionsWithDefaults)(n),this.method=(0,i.chooseMethod)(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,d=(t=this).method.create(t.name,t.options),(0,r.isPromise)(d)?(t._prepP=d,d.then((function(e){t._state=e}))):t._state=d}
function u(e,n,t){var i={time:e.method.microSeconds(),type:n,data:t}
return(e._prepP?e._prepP:r.PROMISE_RESOLVED_VOID).then((function(){var n=e.method.postMessage(e._state,i)
return e._uMP.add(n),n.catch().then((function(){return e._uMP.delete(n)})),n}))}function l(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function p(e,n,t){e._addEL[n].push(t),function(e){if(!e._iL&&l(e)){var n=function(n){e._addEL[n.type].forEach((function(e){var t=e.time-1e5
n.time>=t&&e.fn(n.data)}))},t=e.method.microSeconds()
e._prepP?e._prepP.then((function(){e._iL=!0,e.method.onMessage(e._state,n,t)})):(e._iL=!0,e.method.onMessage(e._state,n,t))}}(e)}function f(e,n,t){e._addEL[n]=e._addEL[n].filter((function(e){return e!==t})),function(e){if(e._iL&&!l(e)){e._iL=!1
var n=e.method.microSeconds()
e.method.onMessage(e._state,null,n)}}(e)}n.BroadcastChannel=d,d._pubkey=!0,d.prototype={postMessage:function(e){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed")
return u(this,"message",e)},postInternal:function(e){return u(this,"internal",e)},set onmessage(e){var n={time:this.method.microSeconds(),fn:e}
f(this,"message",this._onML),e&&"function"==typeof e?(this._onML=n,p(this,"message",n)):this._onML=null},addEventListener:function(e,n){p(this,e,{time:this.method.microSeconds(),fn:n})},removeEventListener:function(e,n){f(this,e,this._addEL[e].find((function(e){return e.fn===n})))},close:function(){var e=this
if(!this.closed){o.delete(this),this.closed=!0
var n=this._prepP?this._prepP:r.PROMISE_RESOLVED_VOID
return this._onML=null,this._addEL.message=[],n.then((function(){return Promise.all(Array.from(e._uMP))})).then((function(){return Promise.all(e._befC.map((function(e){return e()})))})).then((function(){return e.method.close(e._state)}))}},get type(){return this.method.type},get isClosed(){return this.closed}}},3446:(e,n,t)=>{"use strict"
var r=t(3335)
e.exports={BroadcastChannel:r.BroadcastChannel,createLeaderElection:r.createLeaderElection,clearNodeFolder:r.clearNodeFolder,enforceOptions:r.enforceOptions,beLeader:r.beLeader}},3335:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BroadcastChannel",{enumerable:!0,get:function(){return r.BroadcastChannel}}),Object.defineProperty(n,"OPEN_BROADCAST_CHANNELS",{enumerable:!0,get:function(){return r.OPEN_BROADCAST_CHANNELS}}),Object.defineProperty(n,"beLeader",{enumerable:!0,get:function(){return i.beLeader}}),Object.defineProperty(n,"clearNodeFolder",{enumerable:!0,get:function(){return r.clearNodeFolder}}),Object.defineProperty(n,"createLeaderElection",{enumerable:!0,get:function(){return i.createLeaderElection}}),Object.defineProperty(n,"enforceOptions",{enumerable:!0,get:function(){return r.enforceOptions}})
var r=t(6131),i=t(3145)},3145:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.beLeader=s,n.createLeaderElection=function(e,n){if(e._leaderElector)throw new Error("BroadcastChannel already has a leader-elector")
n=function(e,n){return e||(e={}),(e=JSON.parse(JSON.stringify(e))).fallbackInterval||(e.fallbackInterval=3e3),e.responseTime||(e.responseTime=n.method.averageResponseTime(n.options)),e}(n,e)
var t=new a(e,n)
return e._befC.push((function(){return t.die()})),e._leaderElector=t,t}
var r=t(9774),i=t(5365),a=function(e,n){var t=this
this.broadcastChannel=e,this._options=n,this.isLeader=!1,this.hasLeader=!1,this.isDead=!1,this.token=(0,r.randomToken)(),this._aplQ=r.PROMISE_RESOLVED_VOID,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1
var i=function(e){"leader"===e.context&&("death"===e.action&&(t.hasLeader=!1),"tell"===e.action&&(t.hasLeader=!0))}
this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)}
function o(e,n){var t={context:"leader",action:n,token:e.token}
return e.broadcastChannel.postInternal(t)}function s(e){e.isLeader=!0,e.hasLeader=!0
var n=(0,i.add)((function(){return e.die()}))
e._unl.push(n)
var t=function(n){"leader"===n.context&&"apply"===n.action&&o(e,"tell"),"leader"!==n.context||"tell"!==n.action||e._dpLC||(e._dpLC=!0,e._dpL(),o(e,"tell"))}
return e.broadcastChannel.addEventListener("internal",t),e._lstns.push(t),o(e,"tell")}a.prototype={applyOnce:function(e){var n=this
return this.isLeader?(0,r.sleep)(0,!0):this.isDead?(0,r.sleep)(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then((function(){return function(){if(n.isLeader)return r.PROMISE_RESOLVED_TRUE
var t,i=!1,a=new Promise((function(e){t=function(){i=!0,e()}})),c=[],d=function(e){"leader"===e.context&&e.token!=n.token&&(c.push(e),"apply"===e.action&&e.token>n.token&&t(),"tell"===e.action&&(t(),n.hasLeader=!0))}
n.broadcastChannel.addEventListener("internal",d)
var u=e?4*n._options.responseTime:n._options.responseTime
return o(n,"apply").then((function(){return Promise.race([(0,r.sleep)(u),a.then((function(){return Promise.reject(new Error)}))])})).then((function(){return o(n,"apply")})).then((function(){return Promise.race([(0,r.sleep)(u),a.then((function(){return Promise.reject(new Error)}))])})).catch((function(){})).then((function(){return n.broadcastChannel.removeEventListener("internal",d),!i&&s(n).then((function(){return!0}))}))}()})).then((function(){n._aplQC=n._aplQC-1})),this._aplQ.then((function(){return n.isLeader})))},awaitLeadership:function(){return this._aLP||(this._aLP=(e=this).isLeader?r.PROMISE_RESOLVED_VOID:new Promise((function(n){var t=!1
function i(){t||(t=!0,e.broadcastChannel.removeEventListener("internal",a),n(!0))}e.applyOnce().then((function(){e.isLeader&&i()})),function n(){return(0,r.sleep)(e._options.fallbackInterval).then((function(){if(!e.isDead&&!t)return e.isLeader?void i():e.applyOnce(!0).then((function(){e.isLeader?i():n()}))}))}()
var a=function(n){"leader"===n.context&&"death"===n.action&&(e.hasLeader=!1,e.applyOnce().then((function(){e.isLeader&&i()})))}
e.broadcastChannel.addEventListener("internal",a),e._lstns.push(a)}))),this._aLP
var e},set onduplicate(e){this._dpL=e},die:function(){var e=this
return this._lstns.forEach((function(n){return e.broadcastChannel.removeEventListener("internal",n)})),this._lstns=[],this._unl.forEach((function(e){return e.remove()})),this._unl=[],this.isLeader&&(this.hasLeader=!1,this.isLeader=!1),this.isDead=!0,o(this,"death")}}},9678:(e,n,t)=>{"use strict"
var r=t(9154)
t(1264),Object.defineProperty(n,"__esModule",{value:!0}),n.chooseMethod=function(e){var n=[].concat(e.methods,d).filter(Boolean)
if(e.type){if("simulate"===e.type)return s.default
var t=n.find((function(n){return n.type===e.type}))
if(t)return t
throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||c.isNode||(n=n.filter((function(e){return"idb"!==e.type})))
var r=n.find((function(e){return e.canBeUsed()}))
if(r)return r
throw new Error("No useable method found in "+JSON.stringify(d.map((function(e){return e.type}))))}
var i=r(t(7594)),a=r(t(6777)),o=r(t(1095)),s=r(t(9981)),c=t(9774),d=[i.default,a.default,o.default]},6777:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.averageResponseTime=E,n.canBeUsed=T,n.cleanOldMessages=m,n.close=v,n.create=y,n.createDatabase=d,n.default=void 0,n.getAllMessages=function(e){var n=e.transaction(s).objectStore(s),t=[]
return new Promise((function(e){n.openCursor().onsuccess=function(n){var r=n.target.result
r?(t.push(r.value),r.continue()):e(t)}}))},n.getIdb=c,n.getMessagesHigherThan=l,n.getOldMessages=f,n.microSeconds=void 0,n.onMessage=b,n.postMessage=_,n.removeMessageById=p,n.type=void 0,n.writeMessage=u
var r=t(9774),i=t(3583),a=t(7229),o=r.microSeconds
n.microSeconds=o
var s="messages"
function c(){if("undefined"!=typeof indexedDB)return indexedDB
if("undefined"!=typeof window){if(void 0!==window.mozIndexedDB)return window.mozIndexedDB
if(void 0!==window.webkitIndexedDB)return window.webkitIndexedDB
if(void 0!==window.msIndexedDB)return window.msIndexedDB}return!1}function d(e){var n="pubkey.broadcast-channel-0-"+e,t=c().open(n,1)
return t.onupgradeneeded=function(e){e.target.result.createObjectStore(s,{keyPath:"id",autoIncrement:!0})},new Promise((function(e,n){t.onerror=function(e){return n(e)},t.onsuccess=function(){e(t.result)}}))}function u(e,n,t){var r={uuid:n,time:(new Date).getTime(),data:t},i=e.transaction([s],"readwrite")
return new Promise((function(e,n){i.oncomplete=function(){return e()},i.onerror=function(e){return n(e)},i.objectStore(s).add(r)}))}function l(e,n){var t=e.transaction(s).objectStore(s),r=[]
return new Promise((function(e){(function(){try{var e=IDBKeyRange.bound(n+1,1/0)
return t.openCursor(e)}catch(e){return t.openCursor()}}()).onsuccess=function(t){var i=t.target.result
i?i.value.id<n+1?i.continue(n+1):(r.push(i.value),i.continue()):e(r)}}))}function p(e,n){var t=e.transaction([s],"readwrite").objectStore(s).delete(n)
return new Promise((function(e){t.onsuccess=function(){return e()}}))}function f(e,n){var t=(new Date).getTime()-n,r=e.transaction(s).objectStore(s),i=[]
return new Promise((function(e){r.openCursor().onsuccess=function(n){var r=n.target.result
if(r){var a=r.value
if(!(a.time<t))return void e(i)
i.push(a),r.continue()}else e(i)}}))}function m(e,n){return f(e,n).then((function(n){return Promise.all(n.map((function(n){return p(e,n.id)})))}))}function y(e,n){return n=(0,a.fillOptionsWithDefaults)(n),d(e).then((function(t){var a={closed:!1,lastCursorId:0,channelName:e,options:n,uuid:(0,r.randomToken)(),eMIs:new i.ObliviousSet(2*n.idb.ttl),writeBlockPromise:r.PROMISE_RESOLVED_VOID,messagesCallback:null,readQueuePromises:[],db:t}
return t.onclose=function(){a.closed=!0,n.idb.onclose&&n.idb.onclose()},h(a),a}))}function h(e){e.closed||g(e).then((function(){return(0,r.sleep)(e.options.idb.fallbackInterval)})).then((function(){return h(e)}))}function g(e){return e.closed?r.PROMISE_RESOLVED_VOID:e.messagesCallback?l(e.db,e.lastCursorId).then((function(n){var t=n.filter((function(e){return!!e})).map((function(n){return n.id>e.lastCursorId&&(e.lastCursorId=n.id),n})).filter((function(n){return function(e,n){return!(e.uuid===n.uuid||n.eMIs.has(e.id)||e.data.time<n.messagesCallbackTime)}(n,e)})).sort((function(e,n){return e.time-n.time}))
return t.forEach((function(n){e.messagesCallback&&(e.eMIs.add(n.id),e.messagesCallback(n.data))})),r.PROMISE_RESOLVED_VOID})):r.PROMISE_RESOLVED_VOID}function v(e){e.closed=!0,e.db.close()}function _(e,n){return e.writeBlockPromise=e.writeBlockPromise.then((function(){return u(e.db,e.uuid,n)})).then((function(){0===(0,r.randomInt)(0,10)&&m(e.db,e.options.idb.ttl)})),e.writeBlockPromise}function b(e,n,t){e.messagesCallbackTime=t,e.messagesCallback=n,g(e)}function T(){return!r.isNode&&!!c()}function E(e){return 2*e.idb.fallbackInterval}n.type="idb"
var A={create:y,close:v,onMessage:b,postMessage:_,canBeUsed:T,type:"idb",averageResponseTime:E,microSeconds:o}
n.default=A},1095:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.addStorageEventListener=l,n.averageResponseTime=g,n.canBeUsed=h,n.close=m,n.create=f,n.default=void 0,n.getLocalStorage=c,n.microSeconds=void 0,n.onMessage=y,n.postMessage=u,n.removeStorageEventListener=p,n.storageKey=d,n.type=void 0
var r=t(3583),i=t(7229),a=t(9774),o=a.microSeconds
n.microSeconds=o
var s="localstorage"
function c(){var e
if("undefined"==typeof window)return null
try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch(e){}return e}function d(e){return"pubkey.broadcastChannel-"+e}function u(e,n){return new Promise((function(t){(0,a.sleep)().then((function(){var r=d(e.channelName),i={token:(0,a.randomToken)(),time:(new Date).getTime(),data:n,uuid:e.uuid},o=JSON.stringify(i)
c().setItem(r,o)
var s=document.createEvent("Event")
s.initEvent("storage",!0,!0),s.key=r,s.newValue=o,window.dispatchEvent(s),t()}))}))}function l(e,n){var t=d(e),r=function(e){e.key===t&&n(JSON.parse(e.newValue))}
return window.addEventListener("storage",r),r}function p(e){window.removeEventListener("storage",e)}function f(e,n){if(n=(0,i.fillOptionsWithDefaults)(n),!h())throw new Error("BroadcastChannel: localstorage cannot be used")
var t=(0,a.randomToken)(),o=new r.ObliviousSet(n.localstorage.removeTimeout),s={channelName:e,uuid:t,eMIs:o}
return s.listener=l(e,(function(e){s.messagesCallback&&e.uuid!==t&&e.token&&!o.has(e.token)&&(e.data.time&&e.data.time<s.messagesCallbackTime||(o.add(e.token),s.messagesCallback(e.data)))})),s}function m(e){p(e.listener)}function y(e,n,t){e.messagesCallbackTime=t,e.messagesCallback=n}function h(){if(a.isNode)return!1
var e=c()
if(!e)return!1
try{var n="__broadcastchannel_check"
e.setItem(n,"works"),e.removeItem(n)}catch(e){return!1}return!0}function g(){var e=navigator.userAgent.toLowerCase()
return e.includes("safari")&&!e.includes("chrome")?240:120}n.type=s
var v={create:f,close:m,onMessage:y,postMessage:u,canBeUsed:h,type:s,averageResponseTime:g,microSeconds:o}
n.default=v},7594:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.averageResponseTime=l,n.canBeUsed=u,n.close=s,n.create=o,n.microSeconds=n.default=void 0,n.onMessage=d,n.postMessage=c,n.type=void 0
var r=t(9774),i=r.microSeconds
n.microSeconds=i
var a="native"
function o(e){var n={messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]}
return n.bc.onmessage=function(e){n.messagesCallback&&n.messagesCallback(e.data)},n}function s(e){e.bc.close(),e.subFns=[]}function c(e,n){try{return e.bc.postMessage(n,!1),r.PROMISE_RESOLVED_VOID}catch(e){return Promise.reject(e)}}function d(e,n){e.messagesCallback=n}function u(){if(r.isNode&&"undefined"==typeof window)return!1
if("function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill")
return!0}return!1}function l(){return 150}n.type=a
var p={create:o,close:s,onMessage:d,postMessage:c,canBeUsed:u,type:a,averageResponseTime:l,microSeconds:i}
n.default=p},9981:(e,n,t)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.averageResponseTime=l,n.canBeUsed=u,n.close=s,n.create=o,n.microSeconds=n.default=void 0,n.onMessage=d,n.postMessage=c,n.type=void 0
var r=t(9774).microSeconds
n.microSeconds=r
var i="simulate"
n.type=i
var a=new Set
function o(e){var n={name:e,messagesCallback:null}
return a.add(n),n}function s(e){a.delete(e)}function c(e,n){return new Promise((function(t){return setTimeout((function(){Array.from(a).filter((function(n){return n.name===e.name})).filter((function(n){return n!==e})).filter((function(e){return!!e.messagesCallback})).forEach((function(e){return e.messagesCallback(n)})),t()}),5)}))}function d(e,n){e.messagesCallback=n}function u(){return!0}function l(){return 5}var p={create:o,close:s,onMessage:d,postMessage:c,canBeUsed:u,type:i,averageResponseTime:l,microSeconds:r}
n.default=p},7229:(e,n)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.fillOptionsWithDefaults=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=JSON.parse(JSON.stringify(e))
return void 0===n.webWorkerSupport&&(n.webWorkerSupport=!0),n.idb||(n.idb={}),n.idb.ttl||(n.idb.ttl=45e3),n.idb.fallbackInterval||(n.idb.fallbackInterval=150),e.idb&&"function"==typeof e.idb.onclose&&(n.idb.onclose=e.idb.onclose),n.localstorage||(n.localstorage={}),n.localstorage.removeTimeout||(n.localstorage.removeTimeout=6e4),e.methods&&(n.methods=e.methods),n.node||(n.node={}),n.node.ttl||(n.node.ttl=12e4),n.node.maxParallelWrites||(n.node.maxParallelWrites=2048),void 0===n.node.useFastPath&&(n.node.useFastPath=!0),n}},9774:(e,n)=>{"use strict"
Object.defineProperty(n,"__esModule",{value:!0}),n.isNode=n.PROMISE_RESOLVED_VOID=n.PROMISE_RESOLVED_TRUE=n.PROMISE_RESOLVED_FALSE=void 0,n.isPromise=function(e){return!(!e||"function"!=typeof e.then)},n.microSeconds=function(){var e=(new Date).getTime()
return e===a?1e3*e+ ++o:(a=e,o=0,1e3*e)},n.randomInt=function(e,n){return Math.floor(Math.random()*(n-e+1)+e)},n.randomToken=function(){return Math.random().toString(36).substring(2)},n.sleep=function(e,n){return e||(e=0),new Promise((function(t){return setTimeout((function(){return t(n)}),e)}))}
var t=Promise.resolve(!1)
n.PROMISE_RESOLVED_FALSE=t
var r=Promise.resolve(!0)
n.PROMISE_RESOLVED_TRUE=r
var i=Promise.resolve()
n.PROMISE_RESOLVED_VOID=i
var a=0,o=0,s="[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)
n.isNode=s},3924:e=>{"use strict"
var n=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var n=Object.prototype.toString.call(e)
return"[object RegExp]"===n||"[object Date]"===n||function(e){return e.$$typeof===t}(e)}(e)},t="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103
function r(e,n){return!1!==n.clone&&n.isMergeableObject(e)?s((t=e,Array.isArray(t)?[]:{}),e,n):e
var t}function i(e,n,t){return e.concat(n).map((function(e){return r(e,t)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(n){return e.propertyIsEnumerable(n)})):[]}(e))}function o(e,n){try{return n in e}catch(e){return!1}}function s(e,t,c){(c=c||{}).arrayMerge=c.arrayMerge||i,c.isMergeableObject=c.isMergeableObject||n,c.cloneUnlessOtherwiseSpecified=r
var d=Array.isArray(t)
return d===Array.isArray(e)?d?c.arrayMerge(e,t,c):function(e,n,t){var i={}
return t.isMergeableObject(e)&&a(e).forEach((function(n){i[n]=r(e[n],t)})),a(n).forEach((function(a){(function(e,n){return o(e,n)&&!(Object.hasOwnProperty.call(e,n)&&Object.propertyIsEnumerable.call(e,n))})(e,a)||(o(e,a)&&t.isMergeableObject(n[a])?i[a]=function(e,n){if(!n.customMerge)return s
var t=n.customMerge(e)
return"function"==typeof t?t:s}(a,t)(e[a],n[a],t):i[a]=r(n[a],t))})),i}(e,t,c):r(t,c)}s.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array")
return e.reduce((function(e,t){return s(e,t,n)}),{})}
var c=s
e.exports=c},8612:e=>{e.exports=!1},7577:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{default:()=>u})
var r,i=function(){function e(){this.registry=new WeakMap}return e.prototype.elementExists=function(e){return this.registry.has(e)},e.prototype.getElement=function(e){return this.registry.get(e)},e.prototype.addElement=function(e,n){e&&this.registry.set(e,n||{})},e.prototype.removeElement=function(e){this.registry.delete(e)},e.prototype.destroyRegistry=function(){this.registry=new WeakMap},e}(),a=function(){}
!function(e){e.enter="enter",e.exit="exit"}(r||(r={}))
var o,s=function(){function e(){this.registry=new i}return e.prototype.addCallback=function(e,n,t){var i,a,o
e===r.enter?((i={})[r.enter]=t,o=i):((a={})[r.exit]=t,o=a),this.registry.addElement(n,Object.assign({},this.registry.getElement(n),o))},e.prototype.dispatchCallback=function(e,n,t){if(e===r.enter){var i=this.registry.getElement(n).enter;(void 0===i?a:i)(t)}else{var o=this.registry.getElement(n)
o&&o.exit&&o.exit(t)}},e}(),c=(o=function(e,n){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},o(e,n)},function(e,n){function t(){this.constructor=e}o(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)}),d=function(){return d=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])
return e},d.apply(this,arguments)}
const u=function(e){function n(){var n=e.call(this)||this
return n.elementRegistry=new i,n}return c(n,e),n.prototype.observe=function(e,n){void 0===n&&(n={}),e&&(this.elementRegistry.addElement(e,d({},n)),this.setupObserver(e,d({},n)))},n.prototype.unobserve=function(e,n){var t=this.findMatchingRootEntry(n)
t&&t.intersectionObserver.unobserve(e)},n.prototype.addEnterCallback=function(e,n){this.addCallback(r.enter,e,n)},n.prototype.addExitCallback=function(e,n){this.addCallback(r.exit,e,n)},n.prototype.dispatchEnterCallback=function(e,n){this.dispatchCallback(r.enter,e,n)},n.prototype.dispatchExitCallback=function(e,n){this.dispatchCallback(r.exit,e,n)},n.prototype.destroy=function(){this.elementRegistry.destroyRegistry()},n.prototype.setupOnIntersection=function(e){var n=this
return function(t){return n.onIntersection(e,t)}},n.prototype.setupObserver=function(e,n){var t,r,i=n.root,a=void 0===i?window:i,o=this.findRootFromRegistry(a)
if(o&&(r=this.determineMatchingElements(n,o)),r){var s=r.elements,c=r.intersectionObserver
s.push(e),c&&c.observe(e)}else{var d={elements:[e],intersectionObserver:c=this.newObserver(e,n),options:n},u=this.stringifyOptions(n)
o?o[u]=d:this.elementRegistry.addElement(a,((t={})[u]=d,t))}},n.prototype.newObserver=function(e,n){var t=n.root,r=n.rootMargin,i=n.threshold,a=new IntersectionObserver(this.setupOnIntersection(n).bind(this),{root:t,rootMargin:r,threshold:i})
return a.observe(e),a},n.prototype.onIntersection=function(e,n){var t=this
n.forEach((function(n){var r=n.isIntersecting,i=n.intersectionRatio,a=e.threshold||0
Array.isArray(a)&&(a=a[a.length-1])
var o=t.findMatchingRootEntry(e)
r||i>a?o&&o.elements.some((function(e){return!(!e||e!==n.target||(t.dispatchEnterCallback(e,n),0))})):o&&o.elements.some((function(e){return!(!e||e!==n.target||(t.dispatchExitCallback(e,n),0))}))}))},n.prototype.findRootFromRegistry=function(e){if(this.elementRegistry)return this.elementRegistry.getElement(e)},n.prototype.findMatchingRootEntry=function(e){var n=e.root,t=void 0===n?window:n,r=this.findRootFromRegistry(t)
if(r)return r[this.stringifyOptions(e)]},n.prototype.determineMatchingElements=function(e,n){var t=this,r=Object.keys(n).filter((function(r){var i=n[r].options
return t.areOptionsSame(e,i)}))[0]
return n[r]},n.prototype.areOptionsSame=function(e,n){if(e===n)return!0
var t=Object.prototype.toString.call(e),r=Object.prototype.toString.call(n)
if(t!==r)return!1
if("[object Object]"!==t&&"[object Object]"!==r)return e===n
if(e&&n&&"object"==typeof e&&"object"==typeof n)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&!1===this.areOptionsSame(e[i],n[i]))return!1
return!0},n.prototype.stringifyOptions=function(e){var n=e.root
return JSON.stringify(e,(function(e,t){if("root"===e&&n){var r=Array.prototype.slice.call(n.classList).reduce((function(e,n){return e+n}),"")
return n.id+"-"+r}return t}))},n}(s)},3583:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{ObliviousSet:()=>r,now:()=>a,removeTooOldValues:()=>i})
var r=function(){function e(e){this.ttl=e,this.set=new Set,this.timeMap=new Map}return e.prototype.has=function(e){return this.set.has(e)},e.prototype.add=function(e){var n=this
this.timeMap.set(e,a()),this.set.add(e),setTimeout((function(){i(n)}),0)},e.prototype.clear=function(){this.set.clear(),this.timeMap.clear()},e}()
function i(e){for(var n=a()-e.ttl,t=e.set[Symbol.iterator]();;){var r=t.next().value
if(!r)return
if(!(e.timeMap.get(r)<n))return
e.timeMap.delete(r),e.set.delete(r)}}function a(){return(new Date).getTime()}},9103:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{default:()=>Ue})
var r=Object.create
function i(){var e=r(null)
return e.__=void 0,delete e.__,e}var a=function(e,n,t){this.path=e,this.matcher=n,this.delegate=t}
a.prototype.to=function(e,n){var t=this.delegate
if(t&&t.willAddRoute&&(e=t.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),n){if(0===n.length)throw new Error("You must have an argument in the function passed to `to`")
this.matcher.addChild(this.path,e,n,this.delegate)}}
var o=function(e){this.routes=i(),this.children=i(),this.target=e}
function s(e,n,t){return function(r,i){var o=e+r
if(!i)return new a(o,n,t)
i(s(o,n,t))}}function c(e,n,t){for(var r=0,i=0;i<e.length;i++)r+=e[i].path.length
var a={path:n=n.substr(r),handler:t}
e.push(a)}function d(e,n,t,r){for(var i=n.routes,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],u=e.slice()
c(u,s,i[s])
var l=n.children[s]
l?d(u,l,t,r):t.call(r,u)}}function u(e){return e.split("/").map(p).join("/")}o.prototype.add=function(e,n){this.routes[e]=n},o.prototype.addChild=function(e,n,t,r){var i=new o(n)
this.children[e]=i
var a=s(e,i,r)
r&&r.contextEntered&&r.contextEntered(n,a),t(a)}
var l=/%|\//g
function p(e){return e.length<3||-1===e.indexOf("%")?e:decodeURIComponent(e).replace(l,encodeURIComponent)}var f=/%(?:2(?:4|6|B|C)|3(?:B|D|A)|40)/g
function m(e){return encodeURIComponent(e).replace(f,decodeURIComponent)}var y=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\)/g,h=Array.isArray,g=Object.prototype.hasOwnProperty
function v(e,n){if("object"!=typeof e||null===e)throw new Error("You must pass an object as the second argument to `generate`.")
if(!g.call(e,n))throw new Error("You must provide param `"+n+"` to `generate`.")
var t=e[n],r="string"==typeof t?t:""+t
if(0===r.length)throw new Error("You must provide a param `"+n+"`.")
return r}var _=[]
_[0]=function(e,n){for(var t=n,r=e.value,i=0;i<r.length;i++){var a=r.charCodeAt(i)
t=t.put(a,!1,!1)}return t},_[1]=function(e,n){return n.put(47,!0,!0)},_[2]=function(e,n){return n.put(-1,!1,!0)},_[4]=function(e,n){return n}
var b=[]
b[0]=function(e){return e.value.replace(y,"\\$1")},b[1]=function(){return"([^/]+)"},b[2]=function(){return"(.+)"},b[4]=function(){return""}
var T=[]
T[0]=function(e){return e.value},T[1]=function(e,n){var t=v(n,e.value)
return O.ENCODE_AND_DECODE_PATH_SEGMENTS?m(t):t},T[2]=function(e,n){return v(n,e.value)},T[4]=function(){return""}
var E=Object.freeze({}),A=Object.freeze([])
function S(e,n,t){n.length>0&&47===n.charCodeAt(0)&&(n=n.substr(1))
for(var r=n.split("/"),i=void 0,a=void 0,o=0;o<r.length;o++){var s,c,d=r[o]
12&(s=2<<(c=""===d?4:58===d.charCodeAt(0)?1:42===d.charCodeAt(0)?2:0))&&(d=d.slice(1),(i=i||[]).push(d),(a=a||[]).push(0!=(4&s))),14&s&&t[c]++,e.push({type:c,value:p(d)})}return{names:i||A,shouldDecodes:a||A}}function C(e,n,t){return e.char===n&&e.negate===t}var k=function(e,n,t,r,i){this.states=e,this.id=n,this.char=t,this.negate=r,this.nextStates=i?n:null,this.pattern="",this._regex=void 0,this.handlers=void 0,this.types=void 0}
function I(e,n){return e.negate?e.char!==n&&-1!==e.char:e.char===n||-1===e.char}function R(e,n){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r]
t=t.concat(a.match(n))}return t}k.prototype.regex=function(){return this._regex||(this._regex=new RegExp(this.pattern)),this._regex},k.prototype.get=function(e,n){var t=this.nextStates
if(null!==t)if(h(t))for(var r=0;r<t.length;r++){var i=this.states[t[r]]
if(C(i,e,n))return i}else{var a=this.states[t]
if(C(a,e,n))return a}},k.prototype.put=function(e,n,t){var r
if(r=this.get(e,n))return r
var i=this.states
return r=new k(i,i.length,e,n,t),i[i.length]=r,null==this.nextStates?this.nextStates=r.id:h(this.nextStates)?this.nextStates.push(r.id):this.nextStates=[this.nextStates,r.id],r},k.prototype.match=function(e){var n=this.nextStates
if(!n)return[]
var t=[]
if(h(n))for(var r=0;r<n.length;r++){var i=this.states[n[r]]
I(i,e)&&t.push(i)}else{var a=this.states[n]
I(a,e)&&t.push(a)}return t}
var x=function(e){this.length=0,this.queryParams=e||{}}
function w(e){var n
e=e.replace(/\+/gm,"%20")
try{n=decodeURIComponent(e)}catch(e){n=""}return n}x.prototype.splice=Array.prototype.splice,x.prototype.slice=Array.prototype.slice,x.prototype.push=Array.prototype.push
var O=function(){this.names=i()
var e=[],n=new k(e,0,-1,!0,!1)
e[0]=n,this.states=e,this.rootState=n}
O.prototype.add=function(e,n){for(var t,r=this.rootState,i="^",a=[0,0,0],o=new Array(e.length),s=[],c=!0,d=0,u=0;u<e.length;u++){for(var l=e[u],p=S(s,l.path,a),f=p.names,m=p.shouldDecodes;d<s.length;d++){var y=s[d]
4!==y.type&&(c=!1,r=r.put(47,!1,!1),i+="/",r=_[y.type](y,r),i+=b[y.type](y))}o[u]={handler:l.handler,names:f,shouldDecodes:m}}c&&(r=r.put(47,!1,!1),i+="/"),r.handlers=o,r.pattern=i+"$",r.types=a,"object"==typeof n&&null!==n&&n.as&&(t=n.as),t&&(this.names[t]={segments:s,handlers:o})},O.prototype.handlersFor=function(e){var n=this.names[e]
if(!n)throw new Error("There is no route named "+e)
for(var t=new Array(n.handlers.length),r=0;r<n.handlers.length;r++){var i=n.handlers[r]
t[r]=i}return t},O.prototype.hasRoute=function(e){return!!this.names[e]},O.prototype.generate=function(e,n){var t=this.names[e],r=""
if(!t)throw new Error("There is no route named "+e)
for(var i=t.segments,a=0;a<i.length;a++){var o=i[a]
4!==o.type&&(r+="/",r+=T[o.type](o,n))}return"/"!==r.charAt(0)&&(r="/"+r),n&&n.queryParams&&(r+=this.generateQueryString(n.queryParams)),r},O.prototype.generateQueryString=function(e){var n=[],t=Object.keys(e)
t.sort()
for(var r=0;r<t.length;r++){var i=t[r],a=e[i]
if(null!=a){var o=encodeURIComponent(i)
if(h(a))for(var s=0;s<a.length;s++){var c=i+"[]="+encodeURIComponent(a[s])
n.push(c)}else o+="="+encodeURIComponent(a),n.push(o)}}return 0===n.length?"":"?"+n.join("&")},O.prototype.parseQueryString=function(e){for(var n=e.split("&"),t={},r=0;r<n.length;r++){var i=n[r].split("="),a=w(i[0]),o=a.length,s=!1,c=void 0
1===i.length?c="true":(o>2&&"[]"===a.slice(o-2)&&(s=!0,t[a=a.slice(0,o-2)]||(t[a]=[])),c=i[1]?w(i[1]):""),s?t[a].push(c):t[a]=c}return t},O.prototype.recognize=function(e){var n,t=[this.rootState],r={},i=!1,a=e.indexOf("#");-1!==a&&(e=e.substr(0,a))
var o=e.indexOf("?")
if(-1!==o){var s=e.substr(o+1,e.length)
e=e.substr(0,o),r=this.parseQueryString(s)}"/"!==e.charAt(0)&&(e="/"+e)
var c=e
O.ENCODE_AND_DECODE_PATH_SEGMENTS?e=u(e):(e=decodeURI(e),c=decodeURI(c))
var d=e.length
d>1&&"/"===e.charAt(d-1)&&(e=e.substr(0,d-1),c=c.substr(0,c.length-1),i=!0)
for(var l=0;l<e.length&&(t=R(t,e.charCodeAt(l))).length;l++);for(var p=[],f=0;f<t.length;f++)t[f].handlers&&p.push(t[f])
t=function(e){return e.sort((function(e,n){var t=e.types||[0,0,0],r=t[0],i=t[1],a=t[2],o=n.types||[0,0,0],s=o[0],c=o[1],d=o[2]
if(a!==d)return a-d
if(a){if(r!==s)return s-r
if(i!==c)return c-i}return i!==c?i-c:r!==s?s-r:0}))}(p)
var m=p[0]
return m&&m.handlers&&(i&&m.pattern&&"(.+)$"===m.pattern.slice(-5)&&(c+="/"),n=function(e,n,t){var r=e.handlers,i=e.regex()
if(!i||!r)throw new Error("state not initialized")
var a=n.match(i),o=1,s=new x(t)
s.length=r.length
for(var c=0;c<r.length;c++){var d=r[c],u=d.names,l=d.shouldDecodes,p=E,f=!1
if(u!==A&&l!==A)for(var m=0;m<u.length;m++){f=!0
var y=u[m],h=a&&a[o++]
p===E&&(p={}),O.ENCODE_AND_DECODE_PATH_SEGMENTS&&l[m]?p[y]=h&&decodeURIComponent(h):p[y]=h}s[c]={handler:d.handler,params:p,isDynamic:f}}return s}(m,c,r)),n},O.VERSION="0.3.4",O.ENCODE_AND_DECODE_PATH_SEGMENTS=!0,O.Normalizer={normalizeSegment:p,normalizePath:u,encodePathSegment:m},O.prototype.map=function(e,n){var t=new o
e(s("",t,this.delegate)),d([],t,(function(e){n?n(this,e):this.add(e)}),this)}
const M=O
var N=function(e,n,t,r){this.type=e,this.bubbles=n,this.cancelable=t,this.target=r}
N.prototype={stopPropagation:function(){},preventDefault:function(){this.defaultPrevented=!0}}
var P={100:"Continue",101:"Switching Protocols",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",300:"Multiple Choice",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported"},D={"Accept-Charset":!0,"Accept-Encoding":!0,Connection:!0,"Content-Length":!0,Cookie:!0,Cookie2:!0,"Content-Transfer-Encoding":!0,Date:!0,Expect:!0,Host:!0,"Keep-Alive":!0,Referer:!0,TE:!0,Trailer:!0,"Transfer-Encoding":!0,Upgrade:!0,"User-Agent":!0,Via:!0}
function U(e,n){n.addEventListener(e,(function(t){var r=n["on"+e]
r&&"function"==typeof r&&r.call(t.target,t)}))}function L(){this._eventListeners={}
for(var e=["loadstart","progress","load","abort","loadend"],n=e.length-1;n>=0;n--)U(e[n],this)}function F(){L.call(this),this.readyState=F.UNSENT,this.requestHeaders={},this.requestBody=null,this.status=0,this.statusText="",this.upload=new L,this.onabort=null,this.onerror=null,this.onload=null,this.onloadend=null,this.onloadstart=null,this.onprogress=null,this.onreadystatechange=null,this.ontimeout=null}L.prototype={addEventListener:function(e,n){this._eventListeners[e]=this._eventListeners[e]||[],this._eventListeners[e].push(n)},removeEventListener:function(e,n){for(var t=this._eventListeners[e]||[],r=0,i=t.length;r<i;++r)if(t[r]==n)return t.splice(r,1)},dispatchEvent:function(e){for(var n=e.type,t=this._eventListeners[n]||[],r=0;r<t.length;r++)"function"==typeof t[r]?t[r].call(this,e):t[r].handleEvent(e)
return!!e.defaultPrevented},_progress:function(e,n,t){var r=new N("progress")
r.target=this,r.lengthComputable=e,r.loaded=n,r.total=t,this.dispatchEvent(r)}},F.prototype=new L,F.UNSENT=0,F.OPENED=1,F.HEADERS_RECEIVED=2,F.LOADING=3,F.DONE=4
var j={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4,async:!0,withCredentials:!1,open:function(e,n,t,r,i){this.method=e,this.url=n,this.async="boolean"!=typeof t||t,this.username=r,this.password=i,this.responseText=null,this.response=this.responseText,this.responseXML=null,this.responseURL=n,this.requestHeaders={},this.sendFlag=!1,this._readyStateChange(F.OPENED)},setRequestHeader:function(e,n){if(q(this),D[e]||/^(Sec-|Proxy-)/.test(e))throw new Error('Refused to set unsafe header "'+e+'"')
this.requestHeaders[e]?this.requestHeaders[e]+=","+n:this.requestHeaders[e]=n},send:function(e){if(q(this),!/^(get|head)$/i.test(this.method)){var n=!1
Object.keys(this.requestHeaders).forEach((function(e){"content-type"===e.toLowerCase()&&(n=!0)})),n||(e||"").toString().match("FormData")||(this.requestHeaders["Content-Type"]="text/plain;charset=UTF-8"),this.requestBody=e}this.errorFlag=!1,this.sendFlag=this.async,this._readyStateChange(F.OPENED),"function"==typeof this.onSend&&this.onSend(this),this.dispatchEvent(new N("loadstart",!1,!1,this))},abort:function(){this.aborted=!0,this.responseText=null,this.response=this.responseText,this.errorFlag=!0,this.requestHeaders={},this.dispatchEvent(new N("abort",!1,!1,this)),this.readyState>F.UNSENT&&this.sendFlag&&(this._readyStateChange(F.UNSENT),this.sendFlag=!1),"function"==typeof this.onerror&&this.onerror()},getResponseHeader:function(e){if(this.readyState<F.HEADERS_RECEIVED)return null
if(/^Set-Cookie2?$/i.test(e))return null
for(var n in e=e.toLowerCase(),this.responseHeaders)if(n.toLowerCase()==e)return this.responseHeaders[n]
return null},getAllResponseHeaders:function(){if(this.readyState<F.HEADERS_RECEIVED)return""
var e=""
for(var n in this.responseHeaders)this.responseHeaders.hasOwnProperty(n)&&!/^Set-Cookie2?$/i.test(n)&&(e+=n+": "+this.responseHeaders[n]+"\r\n")
return e},overrideMimeType:function(e){"string"==typeof e&&(this.forceMimeType=e.toLowerCase())},_readyStateChange:function(e){this.readyState=e,"function"==typeof this.onreadystatechange&&this.onreadystatechange(new N("readystatechange")),this.dispatchEvent(new N("readystatechange")),this.readyState==F.DONE&&this.dispatchEvent(new N("load",!1,!1,this)),this.readyState!=F.UNSENT&&this.readyState!=F.DONE||this.dispatchEvent(new N("loadend",!1,!1,this))},_setResponseHeaders:function(e){for(var n in this.responseHeaders={},e)e.hasOwnProperty(n)&&(this.responseHeaders[n]=e[n])
this.forceMimeType&&(this.responseHeaders["Content-Type"]=this.forceMimeType),this.async?this._readyStateChange(F.HEADERS_RECEIVED):this.readyState=F.HEADERS_RECEIVED},_setResponseBody:function(e){!function(e){if(e.readyState==F.DONE)throw new Error("Request done")}(this),function(e){if(e.async&&e.readyState!=F.HEADERS_RECEIVED)throw new Error("No headers received")}(this),function(e){if("string"!=typeof e){var n=new Error("Attempted to respond to fake XMLHttpRequest with "+e+", which is not a string.")
throw n.name="InvalidBodyException",n}}(e)
var n=this.chunkSize||10,t=0
this.responseText="",this.response=this.responseText
do{this.async&&this._readyStateChange(F.LOADING),this.responseText+=e.substring(t,t+n),this.response=this.responseText,t+=n}while(t<e.length)
var r,i,a=this.getResponseHeader("Content-Type")
if(this.responseText&&(!a||/(text\/xml)|(application\/xml)|(\+xml)/.test(a)))try{this.responseXML=(r=this.responseText,"undefined"!=typeof DOMParser?i=(new DOMParser).parseFromString(r,"text/xml"):((i=new ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(r)),i)}catch(e){}this.async?this._readyStateChange(F.DONE):this.readyState=F.DONE},respond:function(e,n,t){this._setResponseHeaders(n||{}),this.status="number"==typeof e?e:200,this.statusText=P[this.status],this._setResponseBody(t||"")}}
for(var B in j)F.prototype[B]=j[B]
function q(e){if(e.readyState!==F.OPENED)throw new Error("INVALID_STATE_ERR")
if(e.sendFlag)throw new Error("INVALID_STATE_ERR")}const V=F
var $="URLSearchParams"in self,K="Symbol"in self&&"iterator"in Symbol,H="FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),G="FormData"in self,W="ArrayBuffer"in self
if(W)var Y=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],z=ArrayBuffer.isView||function(e){return e&&Y.indexOf(Object.prototype.toString.call(e))>-1}
function X(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name")
return e.toLowerCase()}function Q(e){return"string"!=typeof e&&(e=String(e)),e}function J(e){var n={next:function(){var n=e.shift()
return{done:void 0===n,value:n}}}
return K&&(n[Symbol.iterator]=function(){return n}),n}function Z(e){this.map={},e instanceof Z?e.forEach((function(e,n){this.append(n,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(n){this.append(n,e[n])}),this)}function ee(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"))
e.bodyUsed=!0}function ne(e){return new Promise((function(n,t){e.onload=function(){n(e.result)},e.onerror=function(){t(e.error)}}))}function te(e){var n=new FileReader,t=ne(n)
return n.readAsArrayBuffer(e),t}function re(e){if(e.slice)return e.slice(0)
var n=new Uint8Array(e.byteLength)
return n.set(new Uint8Array(e)),n.buffer}function ie(){return this.bodyUsed=!1,this._initBody=function(e){var n
this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:H&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:G&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:$&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():W&&H&&(n=e)&&DataView.prototype.isPrototypeOf(n)?(this._bodyArrayBuffer=re(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):W&&(ArrayBuffer.prototype.isPrototypeOf(e)||z(e))?this._bodyArrayBuffer=re(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):$&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},H&&(this.blob=function(){var e=ee(this)
if(e)return e
if(this._bodyBlob)return Promise.resolve(this._bodyBlob)
if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]))
if(this._bodyFormData)throw new Error("could not read FormData body as blob")
return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?ee(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(te)}),this.text=function(){var e,n,t,r=ee(this)
if(r)return r
if(this._bodyBlob)return e=this._bodyBlob,t=ne(n=new FileReader),n.readAsText(e),t
if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var n=new Uint8Array(e),t=new Array(n.length),r=0;r<n.length;r++)t[r]=String.fromCharCode(n[r])
return t.join("")}(this._bodyArrayBuffer))
if(this._bodyFormData)throw new Error("could not read FormData body as text")
return Promise.resolve(this._bodyText)},G&&(this.formData=function(){return this.text().then(se)}),this.json=function(){return this.text().then(JSON.parse)},this}Z.prototype.append=function(e,n){e=X(e),n=Q(n)
var t=this.map[e]
this.map[e]=t?t+", "+n:n},Z.prototype.delete=function(e){delete this.map[X(e)]},Z.prototype.get=function(e){return e=X(e),this.has(e)?this.map[e]:null},Z.prototype.has=function(e){return this.map.hasOwnProperty(X(e))},Z.prototype.set=function(e,n){this.map[X(e)]=Q(n)},Z.prototype.forEach=function(e,n){for(var t in this.map)this.map.hasOwnProperty(t)&&e.call(n,this.map[t],t,this)},Z.prototype.keys=function(){var e=[]
return this.forEach((function(n,t){e.push(t)})),J(e)},Z.prototype.values=function(){var e=[]
return this.forEach((function(n){e.push(n)})),J(e)},Z.prototype.entries=function(){var e=[]
return this.forEach((function(n,t){e.push([t,n])})),J(e)},K&&(Z.prototype[Symbol.iterator]=Z.prototype.entries)
var ae=["DELETE","GET","HEAD","OPTIONS","POST","PUT"]
function oe(e,n){var t,r,i=(n=n||{}).body
if(e instanceof oe){if(e.bodyUsed)throw new TypeError("Already read")
this.url=e.url,this.credentials=e.credentials,n.headers||(this.headers=new Z(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e)
if(this.credentials=n.credentials||this.credentials||"same-origin",!n.headers&&this.headers||(this.headers=new Z(n.headers)),this.method=(r=(t=n.method||this.method||"GET").toUpperCase(),ae.indexOf(r)>-1?r:t),this.mode=n.mode||this.mode||null,this.signal=n.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests")
this._initBody(i)}function se(e){var n=new FormData
return e.trim().split("&").forEach((function(e){if(e){var t=e.split("="),r=t.shift().replace(/\+/g," "),i=t.join("=").replace(/\+/g," ")
n.append(decodeURIComponent(r),decodeURIComponent(i))}})),n}function ce(e,n){n||(n={}),this.type="default",this.status=void 0===n.status?200:n.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in n?n.statusText:"OK",this.headers=new Z(n.headers),this.url=n.url||"",this._initBody(e)}oe.prototype.clone=function(){return new oe(this,{body:this._bodyInit})},ie.call(oe.prototype),ie.call(ce.prototype),ce.prototype.clone=function(){return new ce(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Z(this.headers),url:this.url})},ce.error=function(){var e=new ce(null,{status:0,statusText:""})
return e.type="error",e}
var de=[301,302,303,307,308]
ce.redirect=function(e,n){if(-1===de.indexOf(n))throw new RangeError("Invalid status code")
return new ce(null,{status:n,headers:{location:e}})}
var ue=self.DOMException
try{new ue}catch(e){(ue=function(e,n){this.message=e,this.name=n
var t=Error(e)
this.stack=t.stack}).prototype=Object.create(Error.prototype),ue.prototype.constructor=ue}function le(e,n){return new Promise((function(t,r){var i=new oe(e,n)
if(i.signal&&i.signal.aborted)return r(new ue("Aborted","AbortError"))
var a=new XMLHttpRequest
function o(){a.abort()}a.onload=function(){var e,n,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",n=new Z,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var t=e.split(":"),r=t.shift().trim()
if(r){var i=t.join(":").trim()
n.append(r,i)}})),n)}
r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL")
var i="response"in a?a.response:a.responseText
t(new ce(i,r))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.onabort=function(){r(new ue("Aborted","AbortError"))},a.open(i.method,i.url,!0),"include"===i.credentials?a.withCredentials=!0:"omit"===i.credentials&&(a.withCredentials=!1),"responseType"in a&&H&&(a.responseType="blob"),i.headers.forEach((function(e,n){a.setRequestHeader(n,e)})),i.signal&&(i.signal.addEventListener("abort",o),a.onreadystatechange=function(){4===a.readyState&&i.signal.removeEventListener("abort",o)}),a.send(void 0===i._bodyInit?null:i._bodyInit)}))}le.polyfill=!0,self.fetch||(self.fetch=le,self.Headers=Z,self.Request=oe,self.Response=ce)
var pe=Object.freeze({__proto__:null,Headers:Z,Request:oe,Response:ce,get DOMException(){return ue},fetch:le}),fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},me=function(e,n){if(n=n.split(":")[0],!(e=+e))return!1
switch(n){case"http":case"ws":return 80!==e
case"https":case"wss":return 443!==e
case"ftp":return 21!==e
case"gopher":return 70!==e
case"file":return!1}return 0!==e},ye=Object.prototype.hasOwnProperty
function he(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}var ge={stringify:function(e,n){n=n||""
var t,r,i=[]
for(r in"string"!=typeof n&&(n="?"),e)if(ye.call(e,r)){if((t=e[r])||null!=t&&!isNaN(t)||(t=""),r=encodeURIComponent(r),t=encodeURIComponent(t),null===r||null===t)continue
i.push(r+"="+t)}return i.length?n+i.join("&"):""},parse:function(e){for(var n,t=/([^=?&]+)=?([^&]*)/g,r={};n=t.exec(e);){var i=he(n[1]),a=he(n[2])
null===i||null===a||i in r||(r[i]=a)}return r}},ve=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,_e=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,be=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+")
function Te(e){return(e||"").toString().replace(be,"")}var Ee=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],Ae={hash:1,query:1}
function Se(e){var n,t=("undefined"!=typeof window?window:void 0!==fe?fe:"undefined"!=typeof self?self:{}).location||{},r={},i=typeof(e=e||t)
if("blob:"===e.protocol)r=new ke(unescape(e.pathname),{})
else if("string"===i)for(n in r=new ke(e,{}),Ae)delete r[n]
else if("object"===i){for(n in e)n in Ae||(r[n]=e[n])
void 0===r.slashes&&(r.slashes=ve.test(e.href))}return r}function Ce(e){e=Te(e)
var n=_e.exec(e)
return{protocol:n[1]?n[1].toLowerCase():"",slashes:!!n[2],rest:n[3]}}function ke(e,n,t){if(e=Te(e),!(this instanceof ke))return new ke(e,n,t)
var r,i,a,o,s,c,d=Ee.slice(),u=typeof n,l=this,p=0
for("object"!==u&&"string"!==u&&(t=n,n=null),t&&"function"!=typeof t&&(t=ge.parse),n=Se(n),r=!(i=Ce(e||"")).protocol&&!i.slashes,l.slashes=i.slashes||r&&n.slashes,l.protocol=i.protocol||n.protocol||"",e=i.rest,i.slashes||(d[3]=[/(.*)/,"pathname"]);p<d.length;p++)"function"!=typeof(o=d[p])?(a=o[0],c=o[1],a!=a?l[c]=e:"string"==typeof a?~(s=e.indexOf(a))&&("number"==typeof o[2]?(l[c]=e.slice(0,s),e=e.slice(s+o[2])):(l[c]=e.slice(s),e=e.slice(0,s))):(s=a.exec(e))&&(l[c]=s[1],e=e.slice(0,s.index)),l[c]=l[c]||r&&o[3]&&n[c]||"",o[4]&&(l[c]=l[c].toLowerCase())):e=o(e)
t&&(l.query=t(l.query)),r&&n.slashes&&"/"!==l.pathname.charAt(0)&&(""!==l.pathname||""!==n.pathname)&&(l.pathname=function(e,n){if(""===e)return n
for(var t=(n||"/").split("/").slice(0,-1).concat(e.split("/")),r=t.length,i=t[r-1],a=!1,o=0;r--;)"."===t[r]?t.splice(r,1):".."===t[r]?(t.splice(r,1),o++):o&&(0===r&&(a=!0),t.splice(r,1),o--)
return a&&t.unshift(""),"."!==i&&".."!==i||t.push(""),t.join("/")}(l.pathname,n.pathname)),me(l.port,l.protocol)||(l.host=l.hostname,l.port=""),l.username=l.password="",l.auth&&(o=l.auth.split(":"),l.username=o[0]||"",l.password=o[1]||""),l.origin=l.protocol&&l.host&&"file:"!==l.protocol?l.protocol+"//"+l.host:"null",l.href=l.toString()}ke.prototype={set:function(e,n,t){var r=this
switch(e){case"query":"string"==typeof n&&n.length&&(n=(t||ge.parse)(n)),r[e]=n
break
case"port":r[e]=n,me(n,r.protocol)?n&&(r.host=r.hostname+":"+n):(r.host=r.hostname,r[e]="")
break
case"hostname":r[e]=n,r.port&&(n+=":"+r.port),r.host=n
break
case"host":r[e]=n,/:\d+$/.test(n)?(n=n.split(":"),r.port=n.pop(),r.hostname=n.join(":")):(r.hostname=n,r.port="")
break
case"protocol":r.protocol=n.toLowerCase(),r.slashes=!t
break
case"pathname":case"hash":if(n){var i="pathname"===e?"/":"#"
r[e]=n.charAt(0)!==i?i+n:n}else r[e]=n
break
default:r[e]=n}for(var a=0;a<Ee.length;a++){var o=Ee[a]
o[4]&&(r[o[1]]=r[o[1]].toLowerCase())}return r.origin=r.protocol&&r.host&&"file:"!==r.protocol?r.protocol+"//"+r.host:"null",r.href=r.toString(),r},toString:function(e){e&&"function"==typeof e||(e=ge.stringify)
var n,t=this,r=t.protocol
r&&":"!==r.charAt(r.length-1)&&(r+=":")
var i=r+(t.slashes?"//":"")
return t.username&&(i+=t.username,t.password&&(i+=":"+t.password),i+="@"),i+=t.host+t.pathname,(n="object"==typeof t.query?e(t.query):t.query)&&(i+="?"!==n.charAt(0)?"?"+n:n),t.hash&&(i+=t.hash),i}},ke.extractProtocol=Ce,ke.location=Se,ke.trimLeft=Te,ke.qs=ge
var Ie=ke
function Re(e){var n=new Ie(e)
n.host||(n.href=n.href)
var t=n.pathname
"/"!==t.charAt(0)&&(t="/"+t)
var r=n.host
return"80"!==n.port&&"443"!==n.port||(r=n.hostname),{host:r,protocol:n.protocol,search:n.query,hash:n.hash,href:n.href,pathname:t,fullpath:t+(n.query||"")+(n.hash||"")}}var xe=function(){this.verbs={GET:new M,PUT:new M,POST:new M,DELETE:new M,PATCH:new M,HEAD:new M,OPTIONS:new M}},we=function(){function e(){this.registries={}}return e.prototype.forURL=function(e){var n=Re(e).host,t=this.registries[n]
return void 0===t&&(t=this.registries[n]=new xe),t.verbs},e}()
function Oe(e){function n(){V.call(this)}return n.prototype=Object.create(V.prototype),n.prototype.constructor=n,n.prototype.send=function(){if(this.sendArguments=arguments,!e.pretender.running)throw new Error("You shut down a Pretender instance while there was a pending request. That request just tried to complete. Check to see if you accidentally shut down a pretender earlier than you intended to")
V.prototype.send.apply(this,arguments),e.pretender.checkPassthrough(this)?this.passthrough():e.pretender.handleRequest(this)},n.prototype.passthrough=function(){if(!this.sendArguments)throw new Error("You attempted to passthrough a FakeRequest that was never sent. Call `.send()` on the original request first")
var n=function(e,n){var t,r=["error","timeout","abort","readystatechange"],i=[],a=["readyState","responseText","response","responseXML","responseURL","status","statusText"],o=e._passthroughRequest=new n
function s(e,n,t){e.dispatchEvent(t),e["on"+n]&&e["on"+n](t)}function c(n){o["on"+n]=function(t){!function(e,n,t){for(var r=0;r<e.length;r++){var i=e[r]
i in n&&(t[i]=n[i])}}(a,o,e),s(e,n,t)}}function d(n){o.upload&&e.upload&&e.upload["on"+n]&&(o.upload["on"+n]=function(t){s(e.upload,n,t)})}o.open(e.method,e.url,e.async,e.username,e.password),"arraybuffer"===e.responseType&&(a=["readyState","response","status","statusText"],o.responseType=e.responseType),"onload"in o&&r.push("load"),e.async&&"arraybuffer"!==e.responseType&&(r.push("progress"),i.push("progress"))
for(t=0;t<r.length;t++)c(r[t])
for(t=0;t<i.length;t++)d(i[t])
for(var u in e.async&&(o.timeout=e.timeout,o.withCredentials=e.withCredentials),e.requestHeaders)o.setRequestHeader(u,e.requestHeaders[u])
return o}(this,e.pretender._nativeXMLHttpRequest)
return n.send.apply(n,this.sendArguments),n},n.prototype._passthroughCheck=function(e,n){return this._passthroughRequest?this._passthroughRequest[e].apply(this._passthroughRequest,n):V.prototype[e].apply(this,n)},n.prototype.abort=function(){return this._passthroughCheck("abort",arguments)},n.prototype.getResponseHeader=function(){return this._passthroughCheck("getResponseHeader",arguments)},n.prototype.getAllResponseHeaders=function(){return this._passthroughCheck("getAllResponseHeaders",arguments)},e.pretender._nativeXMLHttpRequest.prototype._passthroughCheck&&console.warn("You created a second Pretender instance while there was already one running. Running two Pretender servers at once will lead to unexpected results and will be removed entirely in a future major version.Please call .shutdown() on your instances when you no longer need them to respond."),n}function Me(){this.hosts=new we
var e=arguments[arguments.length-1],n="object"==typeof e?e:null,t=n&&!1===n.trackRequests,r={push:function(){},length:0}
this.handlers=[],this.handledRequests=t?r:[],this.passthroughRequests=t?r:[],this.unhandledRequests=t?r:[],this.requestReferences=[],this.forcePassthrough=n&&!0===n.forcePassthrough,this.disableUnhandled=n&&!0===n.disableUnhandled,this._nativeXMLHttpRequest=self.XMLHttpRequest,this.running=!1
var i={pretender:this}
this.ctx=i,self.XMLHttpRequest=Oe(i),this._fetchProps=pe?["fetch","Headers","Request","Response"]:[],this._fetchProps.forEach((function(e){this["_native"+e]=self[e],self[e]=pe[e]}),this),this.running=!0
for(var a=n?arguments.length-1:arguments.length,o=0;o<a;o++)this.map(arguments[o])}function Ne(e){return function(n,t,r){return this.register(e,n,t,r)}}function Pe(e,n,t){setTimeout((function(){if(!e.aborted&&!e.status){var r,i=(new Date).getTime()-n.getTime(),a=e.requestBody
r=a&&(a.byteLength||a.size||a.length)||0
var o=t<=0?0:i/t*r
e.upload._progress(!0,o,r),e._progress(!0,o,r),Pe(e,n,t)}}),50)}var De={}
Me.prototype={get:Ne("GET"),post:Ne("POST"),put:Ne("PUT"),delete:Ne("DELETE"),patch:Ne("PATCH"),head:Ne("HEAD"),options:Ne("OPTIONS"),map:function(e){e.call(this)},register:function(e,n,t,r){if(!t)throw new Error("The function you tried passing to Pretender to handle "+e+" "+n+" is undefined or missing.")
return t.numberOfCalls=0,t.async=r,this.handlers.push(t),this.hosts.forURL(n)[e].add([{path:Re(n).fullpath,handler:t}]),t},passthrough:De,checkPassthrough:function(e){var n=e.method.toUpperCase(),t=Re(e.url).fullpath,r=this.hosts.forURL(e.url)[n].recognize(t),i=r&&r[0]
return!!(i&&i.handler===De||this.forcePassthrough)&&(this.passthroughRequests.push(e),this.passthroughRequest(n,t,e),!0)},handleRequest:function(e){var n=e.method.toUpperCase(),t=e.url,r=this._handlerFor(n,t,e)
if(r){r.handler.numberOfCalls++
var i=r.handler.async
this.handledRequests.push(e)
var a=this,o=function(r){if(o=r,"[object Array]"!==Object.prototype.toString.call(o))throw new Error("Nothing returned by handler for "+t+". Remember to `return [status, headers, body];` in your route handler.")
var o,s=r[0],c=a.prepareHeaders(r[1]),d=a.prepareBody(r[2],c)
a.handleResponse(e,i,(function(){e.respond(s,c,d),a.handledRequest(n,t,e)}))}
try{var s=r.handler(e)
s&&"function"==typeof s.then?s.then((function(e){o(e)})):o(s)}catch(r){this.erroredRequest(n,t,e,r),this.resolve(e)}}else this.disableUnhandled||(this.unhandledRequests.push(e),this.unhandledRequest(n,t,e))},handleResponse:function(e,n,t){var r="function"==typeof n?n():n
if(!1===(r="boolean"==typeof r||"number"==typeof r?r:0))t()
else{var i=this
i.requestReferences.push({request:e,callback:t}),!0!==r&&(Pe(e,new Date,r),setTimeout((function(){i.resolve(e)}),r))}},resolve:function(e){for(var n=0,t=this.requestReferences.length;n<t;n++){var r=this.requestReferences[n]
if(r.request===e){r.callback(),this.requestReferences.splice(n,1)
break}}},requiresManualResolution:function(e,n){var t=this._handlerFor(e.toUpperCase(),n,{})
if(!t)return!1
var r=t.handler.async
return"function"==typeof r?!0===r():!0===r},prepareBody:function(e){return e},prepareHeaders:function(e){return e},handledRequest:function(){},passthroughRequest:function(){},unhandledRequest:function(e,n){throw new Error("Pretender intercepted "+e+" "+n+" but no handler was defined for this type of request")},erroredRequest:function(e,n,t,r){throw r.message="Pretender intercepted "+e+" "+n+" but encountered an error: "+r.message,r},_handlerFor:function(e,n,t){var r=this.hosts.forURL(n)[e].recognize(Re(n).fullpath),i=r?r[0]:null
return i&&(t.params=i.params,t.queryParams=r.queryParams),i},shutdown:function(){self.XMLHttpRequest=this._nativeXMLHttpRequest,this._fetchProps.forEach((function(e){self[e]=this["_native"+e]}),this),this.ctx.pretender=void 0,this.running=!1}},Me.parseURL=Re,Me.Hosts=we,Me.Registry=xe
const Ue=Me},9516:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{decode:()=>g,default:()=>T,encode:()=>v,toASCII:()=>b,toUnicode:()=>_,ucs2decode:()=>f,ucs2encode:()=>m})
const r=2147483647,i=36,a=/^xn--/,o=/[^\0-\x7E]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,c={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,u=String.fromCharCode
function l(e){throw new RangeError(c[e])}function p(e,n){const t=e.split("@")
let r=""
t.length>1&&(r=t[0]+"@",e=t[1])
const i=function(e,n){const t=[]
let r=e.length
for(;r--;)t[r]=n(e[r])
return t}((e=e.replace(s,".")).split("."),n).join(".")
return r+i}function f(e){const n=[]
let t=0
const r=e.length
for(;t<r;){const i=e.charCodeAt(t++)
if(i>=55296&&i<=56319&&t<r){const r=e.charCodeAt(t++)
56320==(64512&r)?n.push(((1023&i)<<10)+(1023&r)+65536):(n.push(i),t--)}else n.push(i)}return n}const m=e=>String.fromCodePoint(...e),y=function(e,n){return e+22+75*(e<26)-((0!=n)<<5)},h=function(e,n,t){let r=0
for(e=t?d(e/700):e>>1,e+=d(e/n);e>455;r+=i)e=d(e/35)
return d(r+36*e/(e+38))},g=function(e){const n=[],t=e.length
let a=0,o=128,s=72,c=e.lastIndexOf("-")
c<0&&(c=0)
for(let t=0;t<c;++t)e.charCodeAt(t)>=128&&l("not-basic"),n.push(e.charCodeAt(t))
for(let p=c>0?c+1:0;p<t;){let c=a
for(let n=1,o=i;;o+=i){p>=t&&l("invalid-input")
const c=(u=e.charCodeAt(p++))-48<10?u-22:u-65<26?u-65:u-97<26?u-97:i;(c>=i||c>d((r-a)/n))&&l("overflow"),a+=c*n
const f=o<=s?1:o>=s+26?26:o-s
if(c<f)break
const m=i-f
n>d(r/m)&&l("overflow"),n*=m}const f=n.length+1
s=h(a-c,f,0==c),d(a/f)>r-o&&l("overflow"),o+=d(a/f),a%=f,n.splice(a++,0,o)}var u
return String.fromCodePoint(...n)},v=function(e){const n=[]
let t=(e=f(e)).length,a=128,o=0,s=72
for(const t of e)t<128&&n.push(u(t))
let c=n.length,p=c
for(c&&n.push("-");p<t;){let t=r
for(const n of e)n>=a&&n<t&&(t=n)
const f=p+1
t-a>d((r-o)/f)&&l("overflow"),o+=(t-a)*f,a=t
for(const t of e)if(t<a&&++o>r&&l("overflow"),t==a){let e=o
for(let t=i;;t+=i){const r=t<=s?1:t>=s+26?26:t-s
if(e<r)break
const a=e-r,o=i-r
n.push(u(y(r+a%o,0))),e=d(a/o)}n.push(u(y(e,0))),s=h(o,f,p==c),o=0,++p}++o,++a}return n.join("")},_=function(e){return p(e,(function(e){return a.test(e)?g(e.slice(4).toLowerCase()):e}))},b=function(e){return p(e,(function(e){return o.test(e)?"xn--"+v(e):e}))},T={version:"2.1.0",ucs2:{decode:f,encode:m},decode:g,encode:v,toASCII:b,toUnicode:_}},2777:e=>{self,e.exports=(()=>{"use strict"
var e={170:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.default={hour:36e5,minute:6e4,second:1e3}},544:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0})
var r=t(916),i=t(234)
n.default={parse:r.default,serialize:i.default}},916:(e,n,t)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseTimeStamp=void 0
var r=t(734),i=t(572),a=t(170),o=/\r?\n/,s=/\s$/,c=/^(\d{2}):(\d{2}):(\d{2}),(\d{3})$/
function d(e,n){if(!e)throw new i.default("Missing sequence number",n,r.default.PARSER_ERROR_MISSING_SEQUENCE_NUMBER)
var t=Number(e)
if(!Number.isInteger(t)||s.test(e))throw new i.default("Expected Integer for sequence number: ".concat(e),n,r.default.PARSER_ERROR_INVALID_SEQUENCE_NUMBER)
return t}function u(e,n){var t=c.exec(e)
if(!t)throw new i.default("Invalid time stamp: ".concat(e),n,r.default.PARSER_ERROR_INVALID_TIME_STAMP)
var o=t.slice(1).map(Number),s=o[0],d=o[1],u=o[2],l=o[3]
return s*a.default.hour+d*a.default.minute+u*a.default.second+l}function l(e,n){if(!e)throw new i.default("Missing time span",n,r.default.PARSER_ERROR_MISSING_TIME_SPAN)
var t=e.split(" --\x3e "),a=t[0],o=t[1]
if(!a||!o||s.test(e))throw new i.default("Invalid time span: ".concat(e),n,r.default.PARSER_ERROR_INVALID_TIME_SPAN)
return{start:u(a,n),end:u(o,n)}}n.parseTimeStamp=u,n.default=function(e){for(var n=e.trimEnd().split(o),t=[],a=0;a<n.length;a+=1){var s={chunkStart:a,timeSpan:a,text:a,chunkEnd:a},c=d(n[a],a)
a+=1,s.timeSpan=a
var u=l(n[a],a)
a+=1,s.text=a
for(var p=[];n[a]&&n[a].trim();)p.push(n[a]),a+=1
var f=p.join("\n")
if(!f)throw new i.default("Missing caption text",a,r.default.PARSER_ERROR_MISSING_TEXT)
s.chunkEnd=a-1,t.push({lineNumbers:s,sequenceNumber:c,time:u,text:f})}return t}},234:function(e,n,t){var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])
return e},r.apply(this,arguments)}
Object.defineProperty(n,"__esModule",{value:!0})
var i=t(170),a="\n"
function o(e,n){var t=e,r=e/i.default.hour,a=(t%=i.default.hour)/i.default.minute,o=(t%=i.default.minute)/i.default.second
t%=i.default.second
var s=[2,2,2,3],c=[r,a,o,t].map((function(e,n){return"".concat(Math.floor(e)).padStart(s[n],"0")})),d=c[0],u=c[1],l=c[2],p=c[3]
return"".concat(d,":").concat(u,":").concat(l).concat(n).concat(p)}n.default=function(e,n){void 0===n&&(n="SRT")
var t={FILE_HEADER:"",MS_SEPERATOR:",",FORMAT_TEXT:function(e){return e},CHUNK_SEPARATOR:"".concat(a).concat(a)}
switch(n.toLowerCase()){case"webvtt":t=r(r({},t),{FILE_HEADER:"WEBVTT".concat(a).concat(a),MS_SEPERATOR:"."})
break
case"srt":break
default:throw new Error("Unrecognized format: ".concat(n))}return t.FILE_HEADER+e.map((function(e){return"".concat(e.sequenceNumber,"\n").concat((n=e.time,r=t.MS_SEPERATOR,"".concat(o(n.start,r)," --\x3e ").concat(o(n.end,r))),"\n").concat(t.FORMAT_TEXT(e.text))
var n,r})).join(t.CHUNK_SEPARATOR)}},734:(e,n)=>{var t
Object.defineProperty(n,"__esModule",{value:!0}),function(e){e.PARSER_ERROR_MISSING_TEXT="parserErrorMissingText",e.PARSER_ERROR_MISSING_SEQUENCE_NUMBER="parserErrorMissingSequenceNumber",e.PARSER_ERROR_INVALID_SEQUENCE_NUMBER="parserErrorInvalidSequenceNumber",e.PARSER_ERROR_MISSING_TIME_SPAN="parserErrorMissingTimeSpan",e.PARSER_ERROR_INVALID_TIME_SPAN="parserErrorInvalidTimeSpan",e.PARSER_ERROR_INVALID_TIME_STAMP="parserErrorInvalidTimeStamp",e.VALIDATOR_ERROR_START_TIME="validatorErrorStartTime",e.VALIDATOR_ERROR_END_TIME="validatorErrorEndTime",e.VALIDATOR_ERROR_SEQUENCE_NUMBER_START="validatorErrorSequenceNumberStart",e.VALIDATOR_ERROR_SEQUENCE_NUMBER_INCREMENT="validatorErrorSequenceNumberIncrement"}(t||(t={})),n.default=t},572:function(e,n){var t,r=this&&this.__extends||(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null")
function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)})
Object.defineProperty(n,"__esModule",{value:!0})
var i=function(e){function n(n,t,r){var i=e.call(this,n)||this
return i.lineNumber=t,i.errorCode=r,i.lineNumber=t+1,i.errorCode=r,i}return r(n,e),n}(Error)
n.default=i},969:(e,n)=>{Object.defineProperty(n,"__esModule",{value:!0})
var t=function(){function e(e){this.parsedJSON=e,this.result=[],this.parsedJSON=e}return e.prototype.addToResult=function(e){this.result.push(e)},e}()
n.default=t},513:function(e,n,t){var r,i=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null")
function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)})
Object.defineProperty(n,"__esModule",{value:!0})
var a=t(969),o=t(734),s=function(e){function n(n){var t=e.call(this,n)||this
return t.parsedJSON=n,t.validator="CaptionTimeSpanValidator",t}return i(n,e),n.prototype.validate=function(){var e=this
if(!this.parsedJSON.length)return this.result
var n=0
return this.parsedJSON.map((function(n){var t=n.time,r=t.start,i=t.end,a=n.lineNumbers
return r>=i&&e.addToResult({errorCode:o.default.VALIDATOR_ERROR_START_TIME,message:"start time should be less than end time",lineNumber:a.timeSpan+1,validator:e.validator}),{start:r,end:i,lineNumbers:a}})).forEach((function(t,r){var i=t.start,a=t.end,s=t.lineNumbers
0!==r?(n>i&&e.addToResult({errorCode:o.default.VALIDATOR_ERROR_END_TIME,message:"start time should be less than previous end time",lineNumber:s.timeSpan+1,validator:e.validator}),n=a):n=a})),this.result},n}(a.default)
n.default=s},531:function(e,n,t){var r,i=this&&this.__extends||(r=function(e,n){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])},r(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null")
function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)})
Object.defineProperty(n,"__esModule",{value:!0})
var a=t(969),o=t(734),s=function(e){function n(n){var t=e.call(this,n)||this
return t.parsedJSON=n,t.validator="LineNumberValidator",t}return i(n,e),n.prototype.validate=function(){if(!this.parsedJSON.length)return this.result
1!==this.parsedJSON[0].sequenceNumber&&this.addToResult({errorCode:o.default.VALIDATOR_ERROR_SEQUENCE_NUMBER_START,message:"number of sequence need to start with 1",lineNumber:this.parsedJSON[0].lineNumbers.chunkStart+1,validator:this.validator})
for(var e=1;e<this.parsedJSON.length;e+=1){var n=this.parsedJSON[e],t=n.sequenceNumber,r=n.lineNumbers
t!==e+1&&this.addToResult({errorCode:o.default.VALIDATOR_ERROR_SEQUENCE_NUMBER_INCREMENT,message:"number of sequence need to increment by 1",lineNumber:r.chunkStart+1,validator:this.validator})}return this.result},n}(a.default)
n.default=s}},n={}
function t(r){var i=n[r]
if(void 0!==i)return i.exports
var a=n[r]={exports:{}}
return e[r].call(a.exports,a,a.exports,t),a.exports}var r={}
return(()=>{var e=r
Object.defineProperty(e,"__esModule",{value:!0}),e.parser=e.validator=void 0
var n=t(544),i=t(513),a=t(531)
function o(e){var t,r,o,s=[]
try{t=n.default.parse(e)}catch(e){s.push(e)}return s.length?s:(s.push.apply(s,(r=[a.default,i.default],o=t,r.map((function(e){return new e(o).validate()})).reduce((function(e,n){return e.push.apply(e,n),e}),[]))),s.sort((function(e,n){return e.lineNumber-n.lineNumber})))}e.validator=o,e.parser=n.default,e.default=o})(),r})()},9705:e=>{function n(){}n.prototype={on:function(e,n,t){var r=this.e||(this.e={})
return(r[e]||(r[e]=[])).push({fn:n,ctx:t}),this},once:function(e,n,t){var r=this
function i(){r.off(e,i),n.apply(t,arguments)}return i._=n,this.on(e,i,t)},emit:function(e){for(var n=[].slice.call(arguments,1),t=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=t.length;r<i;r++)t[r].fn.apply(t[r].ctx,n)
return this},off:function(e,n){var t=this.e||(this.e={}),r=t[e],i=[]
if(r&&n)for(var a=0,o=r.length;a<o;a++)r[a].fn!==n&&r[a].fn._!==n&&i.push(r[a])
return i.length?t[e]=i:delete t[e],this}},e.exports=n},5365:(e,n,t)=>{"use strict"
t.r(n),t.d(n,{add:()=>l,getSize:()=>m,removeAll:()=>f,runAll:()=>p})
var r=t(8612),i=t.n(r)
const a={add:function(e){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);else{if("function"!=typeof window.addEventListener)return
window.addEventListener("beforeunload",(function(){e()}),!0),window.addEventListener("unload",(function(){e()}),!0)}}}
var o=t(9707),s=t.n(o),c=i()?s():a,d=new Set,u=!1
function l(e){if(u||(u=!0,c.add(p)),"function"!=typeof e)throw new Error("Listener is no function")
return d.add(e),{remove:function(){return d.delete(e)},run:function(){return d.delete(e),e()}}}function p(){var e=[]
return d.forEach((function(n){e.push(n()),d.delete(n)})),Promise.all(e)}function f(){d.clear()}function m(){return d.size}},9154:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},1264:e=>{function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}}])

//# sourceMappingURL=chunk.461.3c6d9b99c7427985c8db.map